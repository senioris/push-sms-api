"use strict";var dT=Object.create;var jo=Object.defineProperty;var uT=Object.getOwnPropertyDescriptor;var pT=Object.getOwnPropertyNames;var mT=Object.getPrototypeOf,fT=Object.prototype.hasOwnProperty;var hT=(e,t,r)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gT=(e,t)=>{for(var r in t)jo(e,r,{get:t[r],enumerable:!0})},dg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pT(t))!fT.call(e,i)&&i!==r&&jo(e,i,{get:()=>t[i],enumerable:!(n=uT(t,i))||n.enumerable});return e};var _T=(e,t,r)=>(r=e!=null?dT(mT(e)):{},dg(t||!e||!e.__esModule?jo(r,"default",{value:e,enumerable:!0}):r,e)),ST=e=>dg(jo({},"__esModule",{value:!0}),e);var b=(e,t,r)=>(hT(e,typeof t!="symbol"?t+"":t,r),r);var Br=C((jY,vg)=>{var kc=Object.defineProperty,vT=Object.getOwnPropertyDescriptor,yT=Object.getOwnPropertyNames,ET=Object.prototype.hasOwnProperty,Lc=(e,t)=>kc(e,"name",{value:t,configurable:!0}),bT=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},PT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yT(t))!ET.call(e,i)&&i!==r&&kc(e,i,{get:()=>t[i],enumerable:!(n=vT(t,i))||n.enumerable});return e},wT=e=>PT(kc({},"__esModule",{value:!0}),e),ug={};bT(ug,{AlgorithmId:()=>hg,EndpointURLScheme:()=>fg,FieldPosition:()=>gg,HttpApiKeyAuthLocation:()=>mg,HttpAuthLocation:()=>pg,IniSectionType:()=>_g,RequestHandlerProtocol:()=>Sg,SMITHY_CONTEXT_KEY:()=>RT,getDefaultClientConfiguration:()=>xT,resolveDefaultRuntimeConfig:()=>OT});vg.exports=wT(ug);var pg=(e=>(e.HEADER="header",e.QUERY="query",e))(pg||{}),mg=(e=>(e.HEADER="header",e.QUERY="query",e))(mg||{}),fg=(e=>(e.HTTP="http",e.HTTPS="https",e))(fg||{}),hg=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(hg||{}),CT=Lc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),AT=Lc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),xT=Lc(e=>CT(e),"getDefaultClientConfiguration"),OT=Lc(e=>AT(e),"resolveDefaultRuntimeConfig"),gg=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(gg||{}),RT="__smithy_context",_g=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(_g||{}),Sg=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Sg||{})});var be=C((UY,wg)=>{var Fc=Object.defineProperty,TT=Object.getOwnPropertyDescriptor,IT=Object.getOwnPropertyNames,NT=Object.prototype.hasOwnProperty,fr=(e,t)=>Fc(e,"name",{value:t,configurable:!0}),DT=(e,t)=>{for(var r in t)Fc(e,r,{get:t[r],enumerable:!0})},MT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of IT(t))!NT.call(e,i)&&i!==r&&Fc(e,i,{get:()=>t[i],enumerable:!(n=TT(t,i))||n.enumerable});return e},kT=e=>MT(Fc({},"__esModule",{value:!0}),e),yg={};DT(yg,{Field:()=>qT,Fields:()=>jT,HttpRequest:()=>UT,HttpResponse:()=>$T,IHttpRequest:()=>Eg.HttpRequest,getHttpHandlerExtensionConfiguration:()=>LT,isValidHostname:()=>Pg,resolveHttpHandlerRuntimeConfig:()=>FT});wg.exports=kT(yg);var LT=fr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),FT=fr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Eg=Br(),Uo,qT=(Uo=class{constructor({name:t,kind:r=Eg.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},(()=>{fr(Uo,"Field")})(),Uo),$o,jT=($o=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},(()=>{fr($o,"Fields")})(),$o),Vr,UT=(Vr=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Vr({...t,headers:{...t.headers}});return r.query&&(r.query=bg(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Vr.clone(this)}},(()=>{fr(Vr,"HttpRequest")})(),Vr);function bg(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}fr(bg,"cloneQuery");var Ho,$T=(Ho=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}},(()=>{fr(Ho,"HttpResponse")})(),Ho);function Pg(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}fr(Pg,"isValidHostname")});var zo=C(($Y,Rg)=>{"use strict";var jc=Object.defineProperty,HT=Object.getOwnPropertyDescriptor,zT=Object.getOwnPropertyNames,BT=Object.prototype.hasOwnProperty,qc=(e,t)=>jc(e,"name",{value:t,configurable:!0}),VT=(e,t)=>{for(var r in t)jc(e,r,{get:t[r],enumerable:!0})},GT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zT(t))!BT.call(e,i)&&i!==r&&jc(e,i,{get:()=>t[i],enumerable:!(n=HT(t,i))||n.enumerable});return e},WT=e=>GT(jc({},"__esModule",{value:!0}),e),Cg={};VT(Cg,{getHostHeaderPlugin:()=>XT,hostHeaderMiddleware:()=>xg,hostHeaderMiddlewareOptions:()=>Og,resolveHostHeaderConfig:()=>Ag});Rg.exports=WT(Cg);var KT=be();function Ag(e){return e}qc(Ag,"resolveHostHeaderConfig");var xg=qc(e=>t=>async r=>{if(!KT.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},"hostHeaderMiddleware"),Og={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},XT=qc(e=>({applyToStack:qc(t=>{t.add(xg(e),Og)},"applyToStack")}),"getHostHeaderPlugin")});var Bo=C((HY,Dg)=>{"use strict";var Uc=Object.defineProperty,JT=Object.getOwnPropertyDescriptor,YT=Object.getOwnPropertyNames,QT=Object.prototype.hasOwnProperty,ku=(e,t)=>Uc(e,"name",{value:t,configurable:!0}),ZT=(e,t)=>{for(var r in t)Uc(e,r,{get:t[r],enumerable:!0})},eI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YT(t))!QT.call(e,i)&&i!==r&&Uc(e,i,{get:()=>t[i],enumerable:!(n=JT(t,i))||n.enumerable});return e},tI=e=>eI(Uc({},"__esModule",{value:!0}),e),Tg={};ZT(Tg,{getLoggerPlugin:()=>rI,loggerMiddleware:()=>Ig,loggerMiddlewareOptions:()=>Ng});Dg.exports=tI(Tg);var Ig=ku(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,m=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...y}=n.output;return s?.info?.({clientName:i,commandName:o,input:m(r.input),output:f(y),metadata:h}),n}catch(n){let{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw s?.error?.({clientName:i,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),Ng={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},rI=ku(e=>({applyToStack:ku(t=>{t.add(Ig(),Ng)},"applyToStack")}),"getLoggerPlugin")});var Vo=C((zY,Fg)=>{"use strict";var Hc=Object.defineProperty,nI=Object.getOwnPropertyDescriptor,iI=Object.getOwnPropertyNames,oI=Object.prototype.hasOwnProperty,$c=(e,t)=>Hc(e,"name",{value:t,configurable:!0}),sI=(e,t)=>{for(var r in t)Hc(e,r,{get:t[r],enumerable:!0})},aI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of iI(t))!oI.call(e,i)&&i!==r&&Hc(e,i,{get:()=>t[i],enumerable:!(n=nI(t,i))||n.enumerable});return e},cI=e=>aI(Hc({},"__esModule",{value:!0}),e),Mg={};sI(Mg,{addRecursionDetectionMiddlewareOptions:()=>Lg,getRecursionDetectionPlugin:()=>pI,recursionDetectionMiddleware:()=>kg});Fg.exports=cI(Mg);var lI=be(),Lu="X-Amzn-Trace-Id",dI="AWS_LAMBDA_FUNCTION_NAME",uI="_X_AMZN_TRACE_ID",kg=$c(e=>t=>async r=>{let{request:n}=r;if(!lI.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let i=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===Lu.toLowerCase())??Lu;if(n.headers.hasOwnProperty(i))return t(r);let o=process.env[dI],s=process.env[uI],a=$c(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(o)&&a(s)&&(n.headers[Lu]=s),t({...r,request:n})},"recursionDetectionMiddleware"),Lg={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},pI=$c(e=>({applyToStack:$c(t=>{t.add(kg(e),Lg)},"applyToStack")}),"getRecursionDetectionPlugin")});var ct=C((BY,$g)=>{var zc=Object.defineProperty,mI=Object.getOwnPropertyDescriptor,fI=Object.getOwnPropertyNames,hI=Object.prototype.hasOwnProperty,jg=(e,t)=>zc(e,"name",{value:t,configurable:!0}),gI=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},_I=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fI(t))!hI.call(e,i)&&i!==r&&zc(e,i,{get:()=>t[i],enumerable:!(n=mI(t,i))||n.enumerable});return e},SI=e=>_I(zc({},"__esModule",{value:!0}),e),Ug={};gI(Ug,{getSmithyContext:()=>vI,normalizeProvider:()=>yI});$g.exports=SI(Ug);var qg=Br(),vI=jg(e=>e[qg.SMITHY_CONTEXT_KEY]||(e[qg.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),yI=jg(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var hr=C((VY,Kg)=>{var Bc=Object.defineProperty,EI=Object.getOwnPropertyDescriptor,bI=Object.getOwnPropertyNames,PI=Object.prototype.hasOwnProperty,Vc=(e,t)=>Bc(e,"name",{value:t,configurable:!0}),wI=(e,t)=>{for(var r in t)Bc(e,r,{get:t[r],enumerable:!0})},CI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bI(t))!PI.call(e,i)&&i!==r&&Bc(e,i,{get:()=>t[i],enumerable:!(n=EI(t,i))||n.enumerable});return e},AI=e=>CI(Bc({},"__esModule",{value:!0}),e),Hg={};wI(Hg,{deserializerMiddleware:()=>zg,deserializerMiddlewareOption:()=>Vg,getSerdePlugin:()=>Wg,serializerMiddleware:()=>Bg,serializerMiddlewareOption:()=>Gg});Kg.exports=AI(Hg);var xI=be(),zg=Vc((e,t)=>(r,n)=>async i=>{let{response:o}=await r(i);try{let s=await t(o,e);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{s.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText);try{if(xI.HttpResponse.isInstance(o)){let{headers:c={}}=o,l=Object.entries(c);s.$metadata={httpStatusCode:o.statusCode,requestId:Fu(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Fu(/^x-[\w-]+-id-2$/,l),cfId:Fu(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw s}},"deserializerMiddleware"),Fu=Vc((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),Bg=Vc((e,t)=>(r,n)=>async i=>{let o=e,s=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await t(i.input,{...e,endpoint:s});return r({...i,request:a})},"serializerMiddleware"),Vg={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Gg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Wg(e,t,r){return{applyToStack:n=>{n.add(zg(e,r),Vg),n.add(Bg(e,t),Gg)}}}Vc(Wg,"getSerdePlugin")});var qu=C((GY,Jg)=>{var Gc=Object.defineProperty,OI=Object.getOwnPropertyDescriptor,RI=Object.getOwnPropertyNames,TI=Object.prototype.hasOwnProperty,II=(e,t)=>Gc(e,"name",{value:t,configurable:!0}),NI=(e,t)=>{for(var r in t)Gc(e,r,{get:t[r],enumerable:!0})},DI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of RI(t))!TI.call(e,i)&&i!==r&&Gc(e,i,{get:()=>t[i],enumerable:!(n=OI(t,i))||n.enumerable});return e},MI=e=>DI(Gc({},"__esModule",{value:!0}),e),Xg={};NI(Xg,{isArrayBuffer:()=>kI});Jg.exports=MI(Xg);var kI=II(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var hn=C((WY,Zg)=>{var Wc=Object.defineProperty,LI=Object.getOwnPropertyDescriptor,FI=Object.getOwnPropertyNames,qI=Object.prototype.hasOwnProperty,Yg=(e,t)=>Wc(e,"name",{value:t,configurable:!0}),jI=(e,t)=>{for(var r in t)Wc(e,r,{get:t[r],enumerable:!0})},UI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FI(t))!qI.call(e,i)&&i!==r&&Wc(e,i,{get:()=>t[i],enumerable:!(n=LI(t,i))||n.enumerable});return e},$I=e=>UI(Wc({},"__esModule",{value:!0}),e),Qg={};jI(Qg,{fromArrayBuffer:()=>zI,fromString:()=>BI});Zg.exports=$I(Qg);var HI=qu(),ju=require("buffer"),zI=Yg((e,t=0,r=e.byteLength-t)=>{if(!(0,HI.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ju.Buffer.from(e,t,r)},"fromArrayBuffer"),BI=Yg((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ju.Buffer.from(e,t):ju.Buffer.from(e)},"fromString")});var e_=C(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.fromBase64=void 0;var VI=hn(),GI=/^[A-Za-z0-9+/]*={0,2}$/,WI=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!GI.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,VI.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Kc.fromBase64=WI});var Ue=C((XY,i_)=>{var Xc=Object.defineProperty,KI=Object.getOwnPropertyDescriptor,XI=Object.getOwnPropertyNames,JI=Object.prototype.hasOwnProperty,Uu=(e,t)=>Xc(e,"name",{value:t,configurable:!0}),YI=(e,t)=>{for(var r in t)Xc(e,r,{get:t[r],enumerable:!0})},QI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of XI(t))!JI.call(e,i)&&i!==r&&Xc(e,i,{get:()=>t[i],enumerable:!(n=KI(t,i))||n.enumerable});return e},ZI=e=>QI(Xc({},"__esModule",{value:!0}),e),t_={};YI(t_,{fromUtf8:()=>n_,toUint8Array:()=>eN,toUtf8:()=>tN});i_.exports=ZI(t_);var r_=hn(),n_=Uu(e=>{let t=(0,r_.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),eN=Uu(e=>typeof e=="string"?n_(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),tN=Uu(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,r_.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var o_=C(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.toBase64=void 0;var rN=hn(),nN=Ue(),iN=e=>{let t;if(typeof e=="string"?t=(0,nN.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,rN.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Jc.toBase64=iN});var Ke=C((YY,Yc)=>{var s_=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,sN=Object.getOwnPropertyNames,aN=Object.prototype.hasOwnProperty,$u=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sN(t))!aN.call(e,i)&&i!==r&&s_(e,i,{get:()=>t[i],enumerable:!(n=oN(t,i))||n.enumerable});return e},a_=(e,t,r)=>($u(e,t,"default"),r&&$u(r,t,"default")),cN=e=>$u(s_({},"__esModule",{value:!0}),e),Hu={};Yc.exports=cN(Hu);a_(Hu,e_(),Yc.exports);a_(Hu,o_(),Yc.exports)});var Bu=C(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.ChecksumStream=void 0;var lN=Ke(),dN=require("stream"),zu=class extends dN.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:i,base64Encoder:o}){var s,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(s=n?.constructor)===null||s===void 0?void 0:s.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=o??lN.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=i,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(i){return n(i)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Qc.ChecksumStream=zu});var gr=C(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.isBlob=gn.isReadableStream=void 0;var uN=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};gn.isReadableStream=uN;var pN=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};gn.isBlob=pN});var c_=C(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.ChecksumStream=void 0;var mN=typeof ReadableStream=="function"?ReadableStream:function(){},Vu=class extends mN{};Zc.ChecksumStream=Vu});var l_=C(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.createChecksumStream=void 0;var fN=Ke(),hN=gr(),gN=c_(),_N=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:i})=>{var o,s;if(!(0,hN.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(s=(o=r?.constructor)===null||o===void 0?void 0:o.name)!==null&&s!==void 0?s:r} in ChecksumStream.`);let a=i??fN.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(m,f){t.update(m),f.enqueue(m)},async flush(m){let f=await t.digest(),h=a(f);if(e!==h){let y=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);m.error(y)}else m.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,gN.ChecksumStream.prototype),l};el.createChecksumStream=_N});var d_=C(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.createChecksumStream=EN;var SN=gr(),vN=Bu(),yN=l_();function EN(e){return typeof ReadableStream=="function"&&(0,SN.isReadableStream)(e.source)?(0,yN.createChecksumStream)(e):new vN.ChecksumStream(e)}});var Ku=C(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.ByteArrayCollector=void 0;var Wu=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let i=this.byteArrays[n];t.set(i,r),r+=i.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};tl.ByteArrayCollector=Wu});var f_=C(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createBufferedReadable=void 0;Wt.createBufferedReadableStream=u_;Wt.merge=p_;Wt.flush=rl;Wt.sizeOf=_n;Wt.modeOf=m_;var bN=Ku();function u_(e,t,r){let n=e.getReader(),i=!1,o=0,s=["",new bN.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:m,done:f}=await n.read(),h=m;if(f){if(a!==-1){let y=rl(s,a);_n(y)>0&&l.enqueue(y)}l.close()}else{let y=m_(h,!1);if(a!==y&&(a>=0&&l.enqueue(rl(s,a)),a=y),a===-1){l.enqueue(h);return}let v=_n(h);o+=v;let w=_n(s[a]);if(v>=t&&w===0)l.enqueue(h);else{let x=p_(s,a,h);!i&&o>t*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${v} is below threshold of ${t}, automatically buffering.`)),x>=t?l.enqueue(rl(s,a)):await c(l)}}};return new ReadableStream({pull:c})}Wt.createBufferedReadable=u_;function p_(e,t,r){switch(t){case 0:return e[0]+=r,_n(e[0]);case 1:case 2:return e[t].push(r),_n(e[t])}}function rl(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function _n(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function m_(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var g_=C(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.createBufferedReadable=CN;var PN=require("stream"),h_=Ku(),Kt=f_(),wN=gr();function CN(e,t,r){if((0,wN.isReadableStream)(e))return(0,Kt.createBufferedReadableStream)(e,t,r);let n=new PN.Readable({read(){}}),i=!1,o=0,s=["",new h_.ByteArrayCollector(c=>new Uint8Array(c)),new h_.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Kt.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Kt.flush)(s,a)),a=l),a===-1){n.push(c);return}let m=(0,Kt.sizeOf)(c);o+=m;let f=(0,Kt.sizeOf)(s[a]);if(m>=t&&f===0)n.push(c);else{let h=(0,Kt.merge)(s,a,c);!i&&o>t*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Kt.flush)(s,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Kt.flush)(s,a);(0,Kt.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var __=C(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.getAwsChunkedEncodingStream=void 0;var AN=require("stream"),xN=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=t,a=r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,c=a?s(i,e):void 0,l=new AN.Readable({read:()=>{}});return e.on("data",m=>{let f=n(m)||0;l.push(`${f.toString(16)}\r
`),l.push(m),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let m=r(await c);l.push(`${o}:${m}\r
`),l.push(`\r
`)}l.push(null)}),l};nl.getAwsChunkedEncodingStream=xN});var S_=C(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.headStream=ON;async function ON(e,t){var r;let n=0,i=[],o=e.getReader(),s=!1;for(;!s;){let{done:l,value:m}=await o.read();if(m&&(i.push(m),n+=(r=m?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;s=l}o.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of i){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var v_=C(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.headStream=void 0;var RN=require("stream"),TN=S_(),IN=gr(),NN=(e,t)=>(0,IN.isReadableStream)(e)?(0,TN.headStream)(e,t):new Promise((r,n)=>{let i=new Yu;i.limit=t,e.pipe(i),e.on("error",o=>{i.end(),n(o)}),i.on("error",n),i.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});il.headStream=NN;var Yu=class extends RN.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var i;if(this.buffers.push(t),this.bytesBuffered+=(i=t.byteLength)!==null&&i!==void 0?i:0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Zu=C((lQ,b_)=>{var ol=Object.defineProperty,DN=Object.getOwnPropertyDescriptor,MN=Object.getOwnPropertyNames,kN=Object.prototype.hasOwnProperty,Qu=(e,t)=>ol(e,"name",{value:t,configurable:!0}),LN=(e,t)=>{for(var r in t)ol(e,r,{get:t[r],enumerable:!0})},FN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MN(t))!kN.call(e,i)&&i!==r&&ol(e,i,{get:()=>t[i],enumerable:!(n=DN(t,i))||n.enumerable});return e},qN=e=>FN(ol({},"__esModule",{value:!0}),e),y_={};LN(y_,{escapeUri:()=>E_,escapeUriPath:()=>UN});b_.exports=qN(y_);var E_=Qu(e=>encodeURIComponent(e).replace(/[!'()*]/g,jN),"escapeUri"),jN=Qu(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),UN=Qu(e=>e.split("/").map(E_).join("/"),"escapeUriPath")});var tp=C((dQ,C_)=>{var sl=Object.defineProperty,$N=Object.getOwnPropertyDescriptor,HN=Object.getOwnPropertyNames,zN=Object.prototype.hasOwnProperty,BN=(e,t)=>sl(e,"name",{value:t,configurable:!0}),VN=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},GN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HN(t))!zN.call(e,i)&&i!==r&&sl(e,i,{get:()=>t[i],enumerable:!(n=$N(t,i))||n.enumerable});return e},WN=e=>GN(sl({},"__esModule",{value:!0}),e),P_={};VN(P_,{buildQueryString:()=>w_});C_.exports=WN(P_);var ep=Zu();function w_(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,ep.escapeUri)(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)t.push(`${r}=${(0,ep.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,ep.escapeUri)(n)}`),t.push(i)}}return t.join("&")}BN(w_,"buildQueryString")});var Wr=C((uQ,j_)=>{var KN=Object.create,Xo=Object.defineProperty,XN=Object.getOwnPropertyDescriptor,JN=Object.getOwnPropertyNames,YN=Object.getPrototypeOf,QN=Object.prototype.hasOwnProperty,ye=(e,t)=>Xo(e,"name",{value:t,configurable:!0}),ZN=(e,t)=>{for(var r in t)Xo(e,r,{get:t[r],enumerable:!0})},T_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of JN(t))!QN.call(e,i)&&i!==r&&Xo(e,i,{get:()=>t[i],enumerable:!(n=XN(t,i))||n.enumerable});return e},eD=(e,t,r)=>(r=e!=null?KN(YN(e)):{},T_(t||!e||!e.__esModule?Xo(r,"default",{value:e,enumerable:!0}):r,e)),tD=e=>T_(Xo({},"__esModule",{value:!0}),e),I_={};ZN(I_,{DEFAULT_REQUEST_TIMEOUT:()=>F_,NodeHttp2Handler:()=>uD,NodeHttpHandler:()=>aD,streamCollector:()=>mD});j_.exports=tD(I_);var N_=be(),D_=tp(),rp=require("http"),np=require("https"),rD=["ECONNRESET","EPIPE","ETIMEDOUT"],M_=ye(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Ze={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},A_=1e3,nD=ye((e,t,r=0)=>{if(!r)return-1;let n=ye(i=>{let o=Ze.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-i),s=ye(a=>{a?.connecting?a.on("connect",()=>{Ze.clearTimeout(o)}):Ze.clearTimeout(o)},"doWithSocket");e.socket?s(e.socket):e.on("socket",s)},"registerTimeout");return r<2e3?(n(0),0):Ze.setTimeout(n.bind(null,A_),A_)},"setConnectionTimeout"),iD=3e3,oD=ye((e,{keepAlive:t,keepAliveMsecs:r},n=iD)=>{if(t!==!0)return-1;let i=ye(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})},"registerListener");return n===0?(i(),0):Ze.setTimeout(i,n)},"setSocketKeepAlive"),x_=3e3,sD=ye((e,t,r=F_)=>{let n=ye(i=>{let o=r-i,s=ye(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(o,s),e.on("close",()=>e.socket?.removeListener("timeout",s))):e.setTimeout(o,s)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Ze.setTimeout(n.bind(null,r===0?0:x_),x_)},"setSocketTimeout"),k_=require("stream"),O_=6e3;async function ip(e,t,r=O_){let n=t.headers??{},i=n.Expect||n.expect,o=-1,s=!0;i==="100-continue"&&(s=await Promise.race([new Promise(a=>{o=Number(Ze.setTimeout(()=>a(!0),Math.max(O_,r)))}),new Promise(a=>{e.on("continue",()=>{Ze.clearTimeout(o),a(!0)}),e.on("response",()=>{Ze.clearTimeout(o),a(!1)}),e.on("error",()=>{Ze.clearTimeout(o),a(!1)})})])),s&&L_(e,t.body)}ye(ip,"writeRequestBody");function L_(e,t){if(t instanceof k_.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ye(L_,"writeBody");var F_=0,Gr,aD=(Gr=class{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Gr(t)}static checkSocketUsage(t,r,n=console){let{sockets:i,requests:o,maxSockets:s}=t;if(typeof s!="number"||s===1/0)return r;let a=15e3;if(Date.now()-a<r)return r;if(i&&o)for(let c in i){let l=i[c]?.length??0,m=o[c]?.length??0;if(l>=s&&m>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??i,socketAcquisitionWarningTimeout:o,httpAgent:(()=>s instanceof rp.Agent||typeof s?.destroy=="function"?s:new rp.Agent({keepAlive:c,maxSockets:l,...s}))(),httpsAgent:(()=>a instanceof np.Agent||typeof a?.destroy=="function"?a:new np.Agent({keepAlive:c,maxSockets:l,...a}))(),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((i,o)=>{let s,a=[],c=ye(async L=>{await s,a.forEach(Ze.clearTimeout),i(L)},"resolve"),l=ye(async L=>{await s,a.forEach(Ze.clearTimeout),o(L)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let L=new Error("Request aborted");L.name="AbortError",l(L);return}let m=t.protocol==="https:",f=m?this.config.httpsAgent:this.config.httpAgent;a.push(Ze.setTimeout(()=>{this.socketWarningTimestamp=Gr.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,D_.buildQueryString)(t.query||{}),y;if(t.username!=null||t.password!=null){let L=t.username??"",H=t.password??"";y=`${L}:${H}`}let v=t.path;h&&(v+=`?${h}`),t.fragment&&(v+=`#${t.fragment}`);let w=t.hostname??"";w[0]==="["&&w.endsWith("]")?w=t.hostname.slice(1,-1):w=t.hostname;let x={headers:t.headers,host:w,method:t.method,path:v,port:t.port,agent:f,auth:y},T=(m?np.request:rp.request)(x,L=>{let H=new N_.HttpResponse({statusCode:L.statusCode||-1,reason:L.statusMessage,headers:M_(L.headers),body:L});c({response:H})});if(T.on("error",L=>{rD.includes(L.code)?l(Object.assign(L,{name:"TimeoutError"})):l(L)}),r){let L=ye(()=>{T.destroy();let H=new Error("Request aborted");H.name="AbortError",l(H)},"onAbort");if(typeof r.addEventListener=="function"){let H=r;H.addEventListener("abort",L,{once:!0}),T.once("close",()=>H.removeEventListener("abort",L))}else r.onabort=L}let D=n??this.config.requestTimeout;a.push(nD(T,l,this.config.connectionTimeout)),a.push(sD(T,l,D));let U=x.agent;typeof U=="object"&&"keepAlive"in U&&a.push(oD(T,{keepAlive:U.keepAlive,keepAliveMsecs:U.keepAliveMsecs})),s=ip(T,t,D).catch(L=>(a.forEach(Ze.clearTimeout),o(L)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},(()=>{ye(Gr,"NodeHttpHandler")})(),Gr),R_=require("http2"),cD=eD(require("http2")),Go,lD=(Go=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},(()=>{ye(Go,"NodeHttp2ConnectionPool")})(),Go),Wo,dD=(Wo=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),i=this.sessionCache.get(n);if(i){let c=i.poll();if(c&&!this.config.disableConcurrency)return c}let o=cD.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let s=ye(()=>{o.destroy(),this.deleteSession(n,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new lD;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);!n||!n.contains(r)||(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},(()=>{ye(Wo,"NodeHttp2ConnectionManager")})(),Wo),Sn,uD=(Sn=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new dD({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(i=>{r(i||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Sn(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:i,disableConcurrentStreams:o}=this.config,s=n??i;return new Promise((a,c)=>{let l=!1,m,f=ye(async Pe=>{await m,a(Pe)},"resolve"),h=ye(async Pe=>{await m,c(Pe)},"reject");if(r?.aborted){l=!0;let Pe=new Error("Request aborted");Pe.name="AbortError",h(Pe);return}let{hostname:y,method:v,port:w,protocol:x,query:O}=t,T="";if(t.username!=null||t.password!=null){let Pe=t.username??"",it=t.password??"";T=`${Pe}:${it}@`}let D=`${x}//${T}${y}${w?`:${w}`:""}`,U={destination:new URL(D)},L=this.connectionManager.lease(U,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),H=ye(Pe=>{o&&this.destroySession(L),l=!0,h(Pe)},"rejectWithDestroy"),Ve=(0,D_.buildQueryString)(O||{}),Ge=t.path;Ve&&(Ge+=`?${Ve}`),t.fragment&&(Ge+=`#${t.fragment}`);let ve=L.request({...t.headers,[R_.constants.HTTP2_HEADER_PATH]:Ge,[R_.constants.HTTP2_HEADER_METHOD]:v});if(L.ref(),ve.on("response",Pe=>{let it=new N_.HttpResponse({statusCode:Pe[":status"]||-1,headers:M_(Pe),body:ve});l=!0,f({response:it}),o&&(L.close(),this.connectionManager.deleteSession(D,L))}),s&&ve.setTimeout(s,()=>{ve.close();let Pe=new Error(`Stream timed out because of no activity for ${s} ms`);Pe.name="TimeoutError",H(Pe)}),r){let Pe=ye(()=>{ve.close();let it=new Error("Request aborted");it.name="AbortError",H(it)},"onAbort");if(typeof r.addEventListener=="function"){let it=r;it.addEventListener("abort",Pe,{once:!0}),ve.once("close",()=>it.removeEventListener("abort",Pe))}else r.onabort=Pe}ve.on("frameError",(Pe,it,fn)=>{H(new Error(`Frame type id ${Pe} in stream id ${fn} has failed with code ${it}.`))}),ve.on("error",H),ve.on("aborted",()=>{H(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ve.rstCode}.`))}),ve.on("close",()=>{L.unref(),o&&L.destroy(),l||H(new Error("Unexpected error: http2 request did not get a response"))}),m=ip(ve,t,s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},(()=>{ye(Sn,"NodeHttp2Handler")})(),Sn),Ko,pD=(Ko=class extends k_.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}},(()=>{ye(Ko,"Collector")})(),Ko),mD=ye(e=>fD(e)?q_(e):new Promise((t,r)=>{let n=new pD;e.pipe(n),e.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));t(i)})}),"streamCollector"),fD=ye(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function q_(e){let t=[],r=e.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of t)o.set(a,s),s+=a.length;return o}ye(q_,"collectReadableStream")});var W_=C((pQ,G_)=>{var cl=Object.defineProperty,hD=Object.getOwnPropertyDescriptor,gD=Object.getOwnPropertyNames,_D=Object.prototype.hasOwnProperty,Nt=(e,t)=>cl(e,"name",{value:t,configurable:!0}),SD=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},vD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gD(t))!_D.call(e,i)&&i!==r&&cl(e,i,{get:()=>t[i],enumerable:!(n=hD(t,i))||n.enumerable});return e},yD=e=>vD(cl({},"__esModule",{value:!0}),e),$_={};SD($_,{FetchHttpHandler:()=>bD,keepAliveSupport:()=>al,streamCollector:()=>wD});G_.exports=yD($_);var U_=be(),ED=tp();function op(e,t){return new Request(e,t)}Nt(op,"createRequest");function H_(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Nt(H_,"requestTimeout");var al={supported:void 0},vn,bD=(vn=class{static create(t){return typeof t?.handle=="function"?t:new vn(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),al.supported===void 0&&(al.supported=Boolean(typeof Request<"u"&&"keepalive"in op("https://[::1]")))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let i=n??this.config.requestTimeout,o=this.config.keepAlive===!0,s=this.config.credentials;if(r?.aborted){let T=new Error("Request aborted");return T.name="AbortError",Promise.reject(T)}let a=t.path,c=(0,ED.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let T=t.username??"",D=t.password??"";l=`${T}:${D}@`}let{port:m,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${m?`:${m}`:""}${a}`,y=f==="GET"||f==="HEAD"?void 0:t.body,v={body:y,headers:new Headers(t.headers),method:f,credentials:s};this.config?.cache&&(v.cache=this.config.cache),y&&(v.duplex="half"),typeof AbortController<"u"&&(v.signal=r),al.supported&&(v.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(v,this.config.requestInit(t));let w=Nt(()=>{},"removeSignalEventListener"),x=op(h,v),O=[fetch(x).then(T=>{let D=T.headers,U={};for(let H of D.entries())U[H[0]]=H[1];return T.body!=null?{response:new U_.HttpResponse({headers:U,reason:T.statusText,statusCode:T.status,body:T.body})}:T.blob().then(H=>({response:new U_.HttpResponse({headers:U,reason:T.statusText,statusCode:T.status,body:H})}))}),H_(i)];return r&&O.push(new Promise((T,D)=>{let U=Nt(()=>{let L=new Error("Request aborted");L.name="AbortError",D(L)},"onAbort");if(typeof r.addEventListener=="function"){let L=r;L.addEventListener("abort",U,{once:!0}),w=Nt(()=>L.removeEventListener("abort",U),"removeSignalEventListener")}else r.onabort=U})),Promise.race(O).finally(w)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},(()=>{Nt(vn,"FetchHttpHandler")})(),vn),PD=Ke(),wD=Nt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):z_(e):B_(e),"streamCollector");async function z_(e){let t=await V_(e),r=(0,PD.fromBase64)(t);return new Uint8Array(r)}Nt(z_,"collectBlob");async function B_(e){let t=[],r=e.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of t)o.set(a,s),s+=a.length;return o}Nt(B_,"collectStream");function V_(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Nt(V_,"readToBase64")});var ap=C((mQ,Z_)=>{var ll=Object.defineProperty,CD=Object.getOwnPropertyDescriptor,AD=Object.getOwnPropertyNames,xD=Object.prototype.hasOwnProperty,K_=(e,t)=>ll(e,"name",{value:t,configurable:!0}),OD=(e,t)=>{for(var r in t)ll(e,r,{get:t[r],enumerable:!0})},RD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AD(t))!xD.call(e,i)&&i!==r&&ll(e,i,{get:()=>t[i],enumerable:!(n=CD(t,i))||n.enumerable});return e},TD=e=>RD(ll({},"__esModule",{value:!0}),e),X_={};OD(X_,{fromHex:()=>Y_,toHex:()=>Q_});Z_.exports=TD(X_);var J_={},sp={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),J_[e]=t,sp[t]=e}function Y_(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in sp)t[r/2]=sp[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}K_(Y_,"fromHex");function Q_(e){let t="";for(let r=0;r<e.byteLength;r++)t+=J_[e[r]];return t}K_(Q_,"toHex")});var nS=C(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.sdkStreamMixin=void 0;var ID=W_(),ND=Ke(),DD=ap(),MD=Ue(),eS=gr(),tS="The stream has already been transformed.",kD=e=>{var t,r;if(!rS(e)&&!(0,eS.isReadableStream)(e)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,i=async()=>{if(n)throw new Error(tS);return n=!0,await(0,ID.streamCollector)(e)},o=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:i,transformToString:async s=>{let a=await i();if(s==="base64")return(0,ND.toBase64)(a);if(s==="hex")return(0,DD.toHex)(a);if(s===void 0||s==="utf8"||s==="utf-8")return(0,MD.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(tS);if(n=!0,rS(e))return o(e);if((0,eS.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};dl.sdkStreamMixin=kD;var rS=e=>typeof Blob=="function"&&e instanceof Blob});var oS=C(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.sdkStreamMixin=void 0;var LD=Wr(),FD=hn(),cp=require("stream"),qD=nS(),iS="The stream has already been transformed.",jD=e=>{var t,r;if(!(e instanceof cp.Readable))try{return(0,qD.sdkStreamMixin)(e)}catch{let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,i=async()=>{if(n)throw new Error(iS);return n=!0,await(0,LD.streamCollector)(e)};return Object.assign(e,{transformToByteArray:i,transformToString:async o=>{let s=await i();return o===void 0||Buffer.isEncoding(o)?(0,FD.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(o):new TextDecoder(o).decode(s)},transformToWebStream:()=>{if(n)throw new Error(iS);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof cp.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,cp.Readable.toWeb(e)}})};ul.sdkStreamMixin=jD});var sS=C(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.splitStream=UD;async function UD(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var lS=C(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.splitStream=HD;var aS=require("stream"),$D=sS(),cS=gr();async function HD(e){if((0,cS.isReadableStream)(e)||(0,cS.isBlob)(e))return(0,$D.splitStream)(e);let t=new aS.PassThrough,r=new aS.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var ml=C((SQ,Mt)=>{var pl=Object.defineProperty,zD=Object.getOwnPropertyDescriptor,BD=Object.getOwnPropertyNames,VD=Object.prototype.hasOwnProperty,mp=(e,t)=>pl(e,"name",{value:t,configurable:!0}),GD=(e,t)=>{for(var r in t)pl(e,r,{get:t[r],enumerable:!0})},up=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of BD(t))!VD.call(e,i)&&i!==r&&pl(e,i,{get:()=>t[i],enumerable:!(n=zD(t,i))||n.enumerable});return e},_r=(e,t,r)=>(up(e,t,"default"),r&&up(r,t,"default")),WD=e=>up(pl({},"__esModule",{value:!0}),e),Dt={};GD(Dt,{Uint8ArrayBlobAdapter:()=>pp});Mt.exports=WD(Dt);var dS=Ke(),uS=Ue();function pS(e,t="utf-8"){return t==="base64"?(0,dS.toBase64)(e):(0,uS.toUtf8)(e)}mp(pS,"transformToString");function mS(e,t){return t==="base64"?pp.mutate((0,dS.fromBase64)(e)):pp.mutate((0,uS.fromUtf8)(e))}mp(mS,"transformFromString");var yn,pp=(yn=class extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return mS(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,yn.prototype),t}transformToString(t="utf-8"){return pS(this,t)}},(()=>{mp(yn,"Uint8ArrayBlobAdapter")})(),yn);_r(Dt,Bu(),Mt.exports);_r(Dt,d_(),Mt.exports);_r(Dt,g_(),Mt.exports);_r(Dt,__(),Mt.exports);_r(Dt,v_(),Mt.exports);_r(Dt,oS(),Mt.exports);_r(Dt,lS(),Mt.exports);_r(Dt,gr(),Mt.exports)});var Le=C((vQ,vS)=>{var hp=Object.defineProperty,KD=Object.getOwnPropertyDescriptor,XD=Object.getOwnPropertyNames,JD=Object.prototype.hasOwnProperty,YD=(e,t)=>{for(var r in t)hp(e,r,{get:t[r],enumerable:!0})},QD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of XD(t))!JD.call(e,i)&&i!==r&&hp(e,i,{get:()=>t[i],enumerable:!(n=KD(t,i))||n.enumerable});return e},ZD=e=>QD(hp({},"__esModule",{value:!0}),e),fS={};YD(fS,{ErrorSchema:()=>SS,ListSchema:()=>gp,MapSchema:()=>_p,NormalizedSchema:()=>pM,OperationSchema:()=>_S,SCHEMA:()=>Oe,Schema:()=>En,SimpleSchema:()=>Sp,StructureSchema:()=>fl,TypeRegistry:()=>Kr,deref:()=>Jo,deserializerMiddlewareOption:()=>hS,error:()=>dM,getSchemaSerdePlugin:()=>oM,list:()=>sM,map:()=>aM,op:()=>cM,serializerMiddlewareOption:()=>gS,sim:()=>uM,struct:()=>lM});vS.exports=ZD(fS);var Jo=e=>typeof e=="function"?e():e,eM=be(),tM=ct(),rM=e=>(t,r)=>async n=>{let{response:i}=await t(n),{operationSchema:o}=(0,tM.getSmithyContext)(r);try{let s=await e.protocol.deserializeResponse(o,{...e,...r},i);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{s.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText);try{if(eM.HttpResponse.isInstance(i)){let{headers:c={}}=i,l=Object.entries(c);s.$metadata={httpStatusCode:i.statusCode,requestId:fp(/^x-[\w-]+-request-?id$/,l),extendedRequestId:fp(/^x-[\w-]+-id-2$/,l),cfId:fp(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw s}},fp=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],nM=ct(),iM=e=>(t,r)=>async n=>{let{operationSchema:i}=(0,nM.getSmithyContext)(r),o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,s=await e.protocol.serializeRequest(i,n.input,{...e,...r,endpoint:o});return t({...n,request:s})},hS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},gS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function oM(e){return{applyToStack:t=>{t.add(iM(e),gS),t.add(rM(e),hS),e.protocol.setSerdeContext(e)}}}var bt,Kr=(bt=class{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return bt.registries.has(t)||bt.registries.set(t,new bt(t)),bt.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);bt.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){bt.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}},(()=>{bt.registries=new Map})(),bt),En=class{constructor(e,t){this.name=e,this.traits=t}},Sr,gp=(Sr=class extends En{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=Sr.symbol}static[Symbol.hasInstance](t){let r=Sr.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===Sr.symbol:r}},(()=>{Sr.symbol=Symbol.for("@smithy/core/schema::ListSchema")})(),Sr);function sM(e,t,r={},n){let i=new gp(e+"#"+t,r,typeof n=="function"?n():n);return Kr.for(e).register(t,i),i}var vr,_p=(vr=class extends En{constructor(t,r,n,i){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=i,this.symbol=vr.symbol}static[Symbol.hasInstance](t){let r=vr.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===vr.symbol:r}},(()=>{vr.symbol=Symbol.for("@smithy/core/schema::MapSchema")})(),vr);function aM(e,t,r={},n,i){let o=new _p(e+"#"+t,r,n,typeof i=="function"?i():i);return Kr.for(e).register(t,o),o}var _S=class extends En{constructor(e,t,r,n){super(e,t),this.name=e,this.traits=t,this.input=r,this.output=n}};function cM(e,t,r={},n,i){let o=new _S(e+"#"+t,r,n,i);return Kr.for(e).register(t,o),o}var yr,fl=(yr=class extends En{constructor(t,r,n,i){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=i,this.symbol=yr.symbol,this.members={};for(let o=0;o<n.length;++o)this.members[n[o]]=Array.isArray(i[o])?i[o]:[i[o],0]}static[Symbol.hasInstance](t){let r=yr.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===yr.symbol:r}},(()=>{yr.symbol=Symbol.for("@smithy/core/schema::StructureSchema")})(),yr);function lM(e,t,r,n,i){let o=new fl(e+"#"+t,r,n,i);return Kr.for(e).register(t,o),o}var Er,SS=(Er=class extends fl{constructor(t,r,n,i,o){super(t,r,n,i),this.name=t,this.traits=r,this.memberNames=n,this.memberList=i,this.ctor=o,this.symbol=Er.symbol}static[Symbol.hasInstance](t){let r=Er.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===Er.symbol:r}},(()=>{Er.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")})(),Er);function dM(e,t,r={},n,i,o){let s=new SS(e+"#"+t,r,n,i,o);return Kr.for(e).register(t,s),s}var Oe={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128},br,Sp=(br=class extends En{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=br.symbol}static[Symbol.hasInstance](t){let r=br.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===br.symbol:r}},(()=>{br.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")})(),br);function uM(e,t,r,n){let i=new Sp(e+"#"+t,r,n);return Kr.for(e).register(t,i),i}var Se,pM=(Se=class{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=Se.symbol;let n=[],i=t,o=t;for(this._isMemberSchema=!1;Array.isArray(i);)n.push(i[1]),i=i[0],o=Jo(i),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let s=n.length-1;s>=0;--s){let a=n[s];Object.assign(this.memberTraits,Se.translateTraits(a))}}else this.memberTraits=0;if(o instanceof Se){this.name=o.name,this.traits=o.traits,this._isMemberSchema=o._isMemberSchema,this.schema=o.schema,this.memberTraits=Object.assign({},o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=o.ref,this.memberName=r??o.memberName;return}if(this.schema=Jo(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=Se.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===Se.symbol:r}static of(t,r){return t instanceof Se?t:new Se(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof Se?(t.memberName=r,t._isMemberSchema=!0,t):new Se(t,r)}getSchema(){return this.schema instanceof Se?this.schema=this.schema.getSchema():this.schema instanceof Sp?Jo(this.schema.schemaRef):Jo(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=Oe.LIST_MODIFIER&&t<Oe.MAP_MODIFIER:t instanceof gp}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=Oe.MAP_MODIFIER&&t<=255:t instanceof _p}isDocumentSchema(){return this.getSchema()===Oe.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof fl}isBlobSchema(){return this.getSchema()===Oe.BLOB||this.getSchema()===Oe.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=Oe.TIMESTAMP_DEFAULT&&t<=Oe.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===Oe.STRING}isBooleanSchema(){return this.getSchema()===Oe.BOOLEAN}isNumericSchema(){return this.getSchema()===Oe.NUMERIC}isBigIntegerSchema(){return this.getSchema()===Oe.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===Oe.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===Oe.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return Se.translateTraits(this.memberTraits)}getOwnTraits(){return Se.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return Se.memberFrom([Oe.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?Se.memberFrom([63&t,0],"key"):Se.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return Se.memberFrom([63&t,0],"value");if(this.isListSchema())return Se.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return Se.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return Se.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return Se.memberFrom([Oe.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return Se.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return Se.memberFrom([Oe.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let i of r.memberNames)n[i]=this.getMemberSchema(i);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],Se.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,i=Object.entries(Oe).find(([,o])=>o===r)?.[0]??"Unknown";switch(n){case Oe.MAP_MODIFIER:return`${i}Map`;case Oe.LIST_MODIFIER:return`${i}List`;case 0:return i}}return"Unknown"}},(()=>{Se.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")})(),Se)});var lt=C((bQ,xS)=>{var Pp=Object.defineProperty,mM=Object.getOwnPropertyDescriptor,fM=Object.getOwnPropertyNames,hM=Object.prototype.hasOwnProperty,gM=(e,t)=>{for(var r in t)Pp(e,r,{get:t[r],enumerable:!0})},_M=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fM(t))!hM.call(e,i)&&i!==r&&Pp(e,i,{get:()=>t[i],enumerable:!(n=mM(t,i))||n.enumerable});return e},SM=e=>_M(Pp({},"__esModule",{value:!0}),e),yS={};gM(yS,{LazyJsonString:()=>Xr,NumericValue:()=>AS,copyDocumentWithTransform:()=>Yo,dateToUtcString:()=>LM,expectBoolean:()=>EM,expectByte:()=>bp,expectFloat32:()=>hl,expectInt:()=>PM,expectInt32:()=>yp,expectLong:()=>es,expectNonNull:()=>CM,expectNumber:()=>Zo,expectObject:()=>ES,expectShort:()=>Ep,expectString:()=>AM,expectUnion:()=>xM,handleFloat:()=>TM,limitedParseDouble:()=>Ap,limitedParseFloat:()=>IM,limitedParseFloat32:()=>NM,logger:()=>ts,nv:()=>nk,parseBoolean:()=>yM,parseEpochTimestamp:()=>VM,parseRfc3339DateTime:()=>qM,parseRfc3339DateTimeWithOffset:()=>UM,parseRfc7231DateTime:()=>BM,quoteHeader:()=>ek,splitEvery:()=>tk,splitHeader:()=>rk,strictParseByte:()=>CS,strictParseDouble:()=>Cp,strictParseFloat:()=>OM,strictParseFloat32:()=>bS,strictParseInt:()=>DM,strictParseInt32:()=>MM,strictParseLong:()=>wS,strictParseShort:()=>bn});xS.exports=SM(yS);var vM=Le(),Yo=(e,t,r=n=>n)=>{let n=vM.NormalizedSchema.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let o=new Array(e.length),s=0;for(let a of e)o[s++]=Yo(a,n.getValueSchema(),r);return r(o,n)}if("byteLength"in e){let o=new Uint8Array(e.byteLength);return o.set(e,0),r(o,n)}if(e instanceof Date)return r(e,n);let i={};if(n.isMapSchema())for(let o of Object.keys(e))i[o]=Yo(e[o],n.getValueSchema(),r);else if(n.isStructSchema())for(let[o,s]of n.structIterator())i[o]=Yo(e[o],s,r);else if(n.isDocumentSchema())for(let o of Object.keys(e))i[o]=Yo(e[o],n.getValueSchema(),r);return r(i,n);default:return r(e,n)}},yM=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},EM=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ts.warn(gl(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ts.warn(gl(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Zo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ts.warn(gl(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},bM=Math.ceil(2**127*(2-2**-23)),hl=e=>{let t=Zo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>bM)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},es=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},PM=es,yp=e=>wp(e,32),Ep=e=>wp(e,16),bp=e=>wp(e,8),wp=(e,t)=>{let r=es(e);if(r!==void 0&&wM(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},wM=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},CM=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},ES=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},AM=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ts.warn(gl(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},xM=e=>{if(e==null)return;let t=ES(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Cp=e=>Zo(typeof e=="string"?wn(e):e),OM=Cp,bS=e=>hl(typeof e=="string"?wn(e):e),RM=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,wn=e=>{let t=e.match(RM);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Ap=e=>typeof e=="string"?PS(e):Zo(e),TM=Ap,IM=Ap,NM=e=>typeof e=="string"?PS(e):hl(e),PS=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},wS=e=>es(typeof e=="string"?wn(e):e),DM=wS,MM=e=>yp(typeof e=="string"?wn(e):e),bn=e=>Ep(typeof e=="string"?wn(e):e),CS=e=>bp(typeof e=="string"?wn(e):e),gl=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ts={warn:console.warn},kM=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],xp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function LM(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,m=s<10?`0${s}`:`${s}`,f=a<10?`0${a}`:`${a}`;return`${kM[n]}, ${c} ${xp[r]} ${t} ${l}:${m}:${f} GMT`}var FM=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),qM=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=FM.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l]=t,m=bn(Pn(n)),f=kt(i,"month",1,12),h=kt(o,"day",1,31);return Qo(m,f,h,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},jM=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),UM=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=jM.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l,m]=t,f=bn(Pn(n)),h=kt(i,"month",1,12),y=kt(o,"day",1,31),v=Qo(f,h,y,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return m.toUpperCase()!="Z"&&v.setTime(v.getTime()-ZM(m)),v},$M=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),HM=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zM=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),BM=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=$M.exec(e);if(t){let[r,n,i,o,s,a,c,l]=t;return Qo(bn(Pn(o)),vp(i),kt(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=HM.exec(e),t){let[r,n,i,o,s,a,c,l]=t;return KM(Qo(GM(o),vp(i),kt(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=zM.exec(e),t){let[r,n,i,o,s,a,c,l]=t;return Qo(bn(Pn(l)),vp(n),kt(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},VM=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Cp(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Qo=(e,t,r,n)=>{let i=t-1;return JM(e,i,r),new Date(Date.UTC(e,i,r,kt(n.hours,"hour",0,23),kt(n.minutes,"minute",0,59),kt(n.seconds,"seconds",0,60),QM(n.fractionalMilliseconds)))},GM=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+bn(Pn(e));return r<t?r+100:r},WM=50*365*24*60*60*1e3,KM=e=>e.getTime()-new Date().getTime()>WM?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,vp=e=>{let t=xp.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},XM=[31,28,31,30,31,30,31,31,30,31,30,31],JM=(e,t,r)=>{let n=XM[t];if(t===1&&YM(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${xp[t]} in ${e}: ${r}`)},YM=e=>e%4===0&&(e%100!==0||e%400===0),kt=(e,t,r,n)=>{let i=CS(Pn(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},QM=e=>e==null?0:bS("0."+e)*1e3,ZM=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},Pn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},Xr=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Xr.from=e=>e&&typeof e=="object"&&(e instanceof Xr||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Xr(String(e)):Xr(JSON.stringify(e));Xr.fromObject=Xr.from;function ek(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}function tk(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=t+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}var rk=e=>{let t=e.length,r=[],n=!1,i,o=0;for(let s=0;s<t;++s){let a=e[s];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,s)),o=s+1);break;default:}i=a}return r.push(e.slice(o)),r.map(s=>{s=s.trim();let a=s.length;return a<2?s:(s[0]==='"'&&s[a-1]==='"'&&(s=s.slice(1,a-1)),s.replace(/\\"/g,'"'))})},AS=class{constructor(e,t){this.string=e,this.type=t;let r=0;for(let n=0;n<e.length;++n){let i=e.charCodeAt(n);if(!(n===0&&i===45)){if(i===46){if(r)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");r=1;continue}if(i<48||i>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let t=e;return typeof t.string=="string"&&typeof t.type=="string"&&t.constructor?.name==="NumericValue"}};function nk(e){return new AS(String(e),"bigDecimal")}});var Xt=C((wQ,jS)=>{var Ip=Object.defineProperty,ik=Object.getOwnPropertyDescriptor,ok=Object.getOwnPropertyNames,sk=Object.prototype.hasOwnProperty,ak=(e,t)=>{for(var r in t)Ip(e,r,{get:t[r],enumerable:!0})},ck=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ok(t))!sk.call(e,i)&&i!==r&&Ip(e,i,{get:()=>t[i],enumerable:!(n=ik(t,i))||n.enumerable});return e},lk=e=>ck(Ip({},"__esModule",{value:!0}),e),DS={};ak(DS,{FromStringShapeDeserializer:()=>FS,HttpBindingProtocol:()=>pk,HttpInterceptingShapeDeserializer:()=>vk,HttpInterceptingShapeSerializer:()=>Ek,RequestBuilder:()=>LS,RpcProtocol:()=>fk,ToStringShapeSerializer:()=>qS,collectBody:()=>An,determineTimestampFormat:()=>Np,extendedEncodeURIComponent:()=>is,requestBuilder:()=>gk,resolvedPath:()=>kS});jS.exports=lk(DS);var Op=ml(),An=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Op.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Op.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Op.Uint8ArrayBlobAdapter.mutate(await r)};function is(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var rs=Le(),dk=be(),_l=Le(),OS=lt(),RS=be(),uk=ml(),MS=class{constructor(e){this.options=e}getRequestType(){return RS.HttpRequest}getResponseType(){return RS.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,t){if("url"in t){e.protocol=t.url.protocol,e.hostname=t.url.hostname,e.port=t.url.port?Number(t.url.port):void 0,e.path=t.url.pathname,e.fragment=t.url.hash||void 0,e.username=t.url.username||void 0,e.password=t.url.password||void 0;for(let[r,n]of t.url.searchParams.entries())e.query||(e.query={}),e.query[r]=n;return e}else return e.protocol=t.protocol,e.hostname=t.hostname,e.port=t.port?Number(t.port):void 0,e.path=t.path,e.query={...t.query},e}setHostPrefix(e,t,r){let n=_l.NormalizedSchema.of(t),i=_l.NormalizedSchema.of(t.input);if(n.getMergedTraits().endpoint){let o=n.getMergedTraits().endpoint?.[0];if(typeof o=="string"){let s=[...i.structIterator()].filter(([,a])=>a.getMergedTraits().hostLabel);for(let[a]of s){let c=r[a];if(typeof c!="string")throw new Error(`@smithy/core/schema - ${a} in input must be a string as hostLabel.`);o=o.replace(`{${a}}`,c)}e.hostname=o+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async deserializeHttpMessage(e,t,r,n,i){let o;n instanceof Set?o=i:o=n;let s=this.deserializer,a=_l.NormalizedSchema.of(e),c=[];for(let[l,m]of a.structIterator()){let f=m.getMemberTraits();if(f.httpPayload){if(m.isStreaming())if(m.isStructSchema()){let v=this.serdeContext;if(!v.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let w=m.getMemberSchemas();o[l]=v.eventStreamMarshaller.deserialize(r.body,async x=>{let O=Object.keys(x).find(T=>T!=="__type")??"";if(O in w){let T=w[O];return{[O]:await s.read(T,x[O].body)}}else return{$unknown:x}})}else o[l]=(0,uk.sdkStreamMixin)(r.body);else if(r.body){let y=await An(r.body,t);y.byteLength>0&&(o[l]=await s.read(m,y))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),y=r.headers[h];if(y!=null)if(m.isListSchema()){let v=m.getValueSchema(),w;v.isTimestampSchema()&&v.getSchema()===_l.SCHEMA.TIMESTAMP_DEFAULT?w=(0,OS.splitEvery)(y,",",2):w=(0,OS.splitHeader)(y);let x=[];for(let O of w)x.push(await s.read([v,{httpHeader:h}],O.trim()));o[l]=x}else o[l]=await s.read(m,y)}else if(f.httpPrefixHeaders!==void 0){o[l]={};for(let[h,y]of Object.entries(r.headers))h.startsWith(f.httpPrefixHeaders)&&(o[l][h.slice(f.httpPrefixHeaders.length)]=await s.read([m.getValueSchema(),{httpHeader:h}],y))}else f.httpResponseCode?o[l]=r.statusCode:c.push(l)}return c}},pk=class extends MS{async serializeRequest(e,t,r){let n={...t??{}},i=this.serializer,o={},s={},a=await r.endpoint(),c=rs.NormalizedSchema.of(e?.input),l=c.getSchema(),m=!1,f,h=new dk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:s,body:void 0});if(a){this.updateServiceEndpoint(h,a),this.setHostPrefix(h,e,n);let y=rs.NormalizedSchema.translateTraits(e.traits);if(y.http){h.method=y.http[0];let[v,w]=y.http[1].split("?");h.path=="/"?h.path=v:h.path+=v;let x=new URLSearchParams(w??"");Object.assign(o,Object.fromEntries(x))}}for(let[y,v]of c.structIterator()){let w=v.getMergedTraits()??{},x=n[y];if(x!=null)if(w.httpPayload){if(v.isStreaming()){if(v.isStructSchema())throw new Error("serialization of event streams is not yet implemented");f=x}else i.write(v,x),f=i.flush();delete n[y]}else if(w.httpLabel){i.write(v,x);let O=i.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,O.split("/").map(is).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,is(O))),delete n[y]}else if(w.httpHeader)i.write(v,x),s[w.httpHeader.toLowerCase()]=String(i.flush()),delete n[y];else if(typeof w.httpPrefixHeaders=="string"){for(let[O,T]of Object.entries(x)){let D=w.httpPrefixHeaders+O;i.write([v.getValueSchema(),{httpHeader:D}],T),s[D.toLowerCase()]=i.flush()}delete n[y]}else w.httpQuery||w.httpQueryParams?(this.serializeQuery(v,x,o),delete n[y]):m=!0}return m&&n&&(i.write(l,n),f=i.flush()),h.headers=s,h.query=o,h.body=f,h}serializeQuery(e,t,r){let n=this.serializer,i=e.getMergedTraits();if(i.httpQueryParams){for(let[o,s]of Object.entries(t))o in r||this.serializeQuery(rs.NormalizedSchema.of([e.getValueSchema(),{...i,httpQuery:o,httpQueryParams:void 0}]),s,r);return}if(e.isListSchema()){let o=!!e.getMergedTraits().sparse,s=[];for(let a of t){n.write([e.getValueSchema(),i],a);let c=n.flush();(o||c!==void 0)&&s.push(c)}r[i.httpQuery]=s}else n.write([e,i],t),r[i.httpQuery]=n.flush()}async deserializeResponse(e,t,r){let n=this.deserializer,i=rs.NormalizedSchema.of(e.output),o={};if(r.statusCode>=300){let c=await An(r.body,t);throw c.byteLength>0&&Object.assign(o,await n.read(rs.SCHEMA.DOCUMENT,c)),await this.handleError(e,t,r,o,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in r.headers){let l=r.headers[c];delete r.headers[c],r.headers[c.toLowerCase()]=l}let s=await this.deserializeHttpMessage(i,t,r,o);if(s.length){let c=await An(r.body,t);if(c.byteLength>0){let l=await n.read(i,c);for(let m of s)o[m]=l[m]}}return{$metadata:this.deserializeMetadata(r),...o}}},Rp=Le(),mk=be(),fk=class extends MS{async serializeRequest(e,t,r){let n=this.serializer,i={},o={},s=await r.endpoint(),c=Rp.NormalizedSchema.of(e?.input).getSchema(),l,m=new mk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});s&&(this.updateServiceEndpoint(m,s),this.setHostPrefix(m,e,t));let f={...t};return t&&(n.write(c,f),l=n.flush()),m.headers=o,m.query=i,m.body=l,m.method="POST",m}async deserializeResponse(e,t,r){let n=this.deserializer,i=Rp.NormalizedSchema.of(e.output),o={};if(r.statusCode>=300){let c=await An(r.body,t);throw c.byteLength>0&&Object.assign(o,await n.read(Rp.SCHEMA.DOCUMENT,c)),await this.handleError(e,t,r,o,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in r.headers){let l=r.headers[c];delete r.headers[c],r.headers[c.toLowerCase()]=l}let s=await An(r.body,t);return s.byteLength>0&&Object.assign(o,await n.read(i,s)),{$metadata:this.deserializeMetadata(r),...o}}},hk=be(),kS=(e,t,r,n,i,o)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,o?s.split("/").map(a=>is(a)).join("/"):is(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};function gk(e,t){return new LS(e,t)}var LS=class{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:e,protocol:t="https",port:r,path:n}=await this.context.endpoint();this.path=n;for(let i of this.resolvePathStack)i(this.path);return new hk.HttpRequest({protocol:t,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e}),this}p(e,t,r,n){return this.resolvePathStack.push(i=>{this.path=kS(i,this.input,e,t,r,n)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}},Sl=Le(),Cn=lt(),TS=Ke(),_k=Ue(),ns=Le();function Np(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===ns.SCHEMA.TIMESTAMP_DATE_TIME||e.getSchema()===ns.SCHEMA.TIMESTAMP_HTTP_DATE||e.getSchema()===ns.SCHEMA.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:i,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||Boolean(i)?ns.SCHEMA.TIMESTAMP_HTTP_DATE:Boolean(o)||Boolean(r)?ns.SCHEMA.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var FS=class{constructor(e){this.settings=e}setSerdeContext(e){this.serdeContext=e}read(e,t){let r=Sl.NormalizedSchema.of(e);if(r.isListSchema())return(0,Cn.splitHeader)(t).map(n=>this.read(r.getValueSchema(),n));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??TS.fromBase64)(t);if(r.isTimestampSchema())switch(Np(r,this.settings)){case Sl.SCHEMA.TIMESTAMP_DATE_TIME:return(0,Cn.parseRfc3339DateTimeWithOffset)(t);case Sl.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,Cn.parseRfc7231DateTime)(t);case Sl.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,Cn.parseEpochTimestamp)(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){let n=r.getMergedTraits().mediaType,i=t;if(n)return r.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(n==="application/json"||n.endsWith("+json"))&&(i=Cn.LazyJsonString.from(i)),i}switch(!0){case r.isNumericSchema():return Number(t);case r.isBigIntegerSchema():return BigInt(t);case r.isBigDecimalSchema():return new Cn.NumericValue(t,"bigDecimal");case r.isBooleanSchema():return String(t).toLowerCase()==="true"}return t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??_k.toUtf8)((this.serdeContext?.base64Decoder??TS.fromBase64)(e))}},Sk=Le(),IS=Ue(),vk=class{constructor(e,t){this.codecDeserializer=e,this.stringDeserializer=new FS(t)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,t){let r=Sk.NormalizedSchema.of(e),n=r.getMergedTraits(),i=this.serdeContext?.utf8Encoder??IS.toUtf8;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(r,i(t));if(n.httpPayload){if(r.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??IS.fromUtf8;return typeof t=="string"?o(t):t}else if(r.isStringSchema())return"byteLength"in t?i(t):t}return this.codecDeserializer.read(r,t)}},yk=Le(),vl=Le(),Tp=lt(),NS=Ke(),qS=class{constructor(e){this.settings=e,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(e){this.serdeContext=e}write(e,t){let r=vl.NormalizedSchema.of(e);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(r.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${r.getName(!0)}`);switch(Np(r,this.settings)){case vl.SCHEMA.TIMESTAMP_DATE_TIME:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case vl.SCHEMA.TIMESTAMP_HTTP_DATE:this.stringBuffer=(0,Tp.dateToUtcString)(t);break;case vl.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??NS.toBase64)(t);return}if(r.isListSchema()&&Array.isArray(t)){let o="";for(let s of t){this.write([r.getValueSchema(),r.getMergedTraits()],s);let a=this.flush(),c=r.getValueSchema().isTimestampSchema()?a:(0,Tp.quoteHeader)(a);o!==""&&(o+=", "),o+=c}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let n=r.getMergedTraits().mediaType,i=t;if(n&&((n==="application/json"||n.endsWith("+json"))&&(i=Tp.LazyJsonString.from(i)),r.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??NS.toBase64)(i.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}},Ek=class{constructor(e,t,r=new qS(t)){this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,t){let r=yk.NormalizedSchema.of(e),n=r.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(r,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,t)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var et=C((DQ,QS)=>{var El=Object.defineProperty,bk=Object.getOwnPropertyDescriptor,Pk=Object.getOwnPropertyNames,wk=Object.prototype.hasOwnProperty,we=(e,t)=>El(e,"name",{value:t,configurable:!0}),Ck=(e,t)=>{for(var r in t)El(e,r,{get:t[r],enumerable:!0})},Ak=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pk(t))!wk.call(e,i)&&i!==r&&El(e,i,{get:()=>t[i],enumerable:!(n=bk(t,i))||n.enumerable});return e},xk=e=>Ak(El({},"__esModule",{value:!0}),e),US={};Ck(US,{DefaultIdentityProviderConfig:()=>Uk,EXPIRATION_MS:()=>JS,HttpApiKeyAuthSigner:()=>$k,HttpBearerAuthSigner:()=>Hk,NoAuthSigner:()=>zk,createIsIdentityExpiredFunction:()=>XS,createPaginator:()=>WS,doesIdentityRequireRefresh:()=>YS,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Tk,getHttpAuthSchemePlugin:()=>Nk,getHttpSigningPlugin:()=>kk,getSmithyContext:()=>Ok,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>zS,httpAuthSchemeMiddleware:()=>Dp,httpAuthSchemeMiddlewareOptions:()=>BS,httpSigningMiddleware:()=>VS,httpSigningMiddlewareOptions:()=>GS,isIdentityExpired:()=>Bk,memoizeIdentityProvider:()=>Vk,normalizeProvider:()=>Lk,requestBuilder:()=>jk.requestBuilder,setFeature:()=>KS});QS.exports=xk(US);var yl=Br(),Ok=we(e=>e[yl.SMITHY_CONTEXT_KEY]||(e[yl.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),$S=ct(),Rk=we((e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let i of e)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of e)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r},"resolveAuthOptions");function HS(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}we(HS,"convertHttpAuthSchemesToMap");var Dp=we((e,t)=>(r,n)=>async i=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,i.input)),s=e.authSchemePreference?await e.authSchemePreference():[],a=Rk(o,s),c=HS(e.httpAuthSchemes),l=(0,$S.getSmithyContext)(n),m=[];for(let f of a){let h=c.get(f.schemeId);if(!h){m.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let y=h.identityProvider(await t.identityProviderConfigProvider(e));if(!y){m.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:v={},signingProperties:w={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},v),f.signingProperties=Object.assign(f.signingProperties||{},w),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await y(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(i)},"httpAuthSchemeMiddleware"),zS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Tk=we((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Dp(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),zS)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),Ik=hr(),BS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ik.serializerMiddlewareOption.name},Nk=we((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Dp(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),BS)}}),"getHttpAuthSchemePlugin"),Mp=be(),Dk=we(e=>t=>{throw t},"defaultErrorHandler"),Mk=we((e,t)=>{},"defaultSuccessHandler"),VS=we(e=>(t,r)=>async n=>{if(!Mp.HttpRequest.isInstance(n.request))return t(n);let o=(0,$S.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=await t({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||Dk)(s));return(c.successHandler||Mk)(l.response,s),l},"httpSigningMiddleware"),GS={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},kk=we(e=>({applyToStack:t=>{t.addRelativeTo(VS(e),GS)}}),"getHttpSigningPlugin"),Lk=we(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),Fk=we(async(e,t,r,n=o=>o,...i)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...i)},"makePagedClientRequest");function WS(e,t,r,n,i){return we(async function*(s,a,...c){let l=a,m=s.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=m,i&&(l[i]=l[i]??s.pageSize),s.client instanceof e)h=await Fk(t,s.client,a,s.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let y=m;m=qk(h,n),f=!!(m&&(!s.stopOnSameToken||m!==y))}return void 0},"paginateOperation")}we(WS,"createPaginator");var qk=we((e,t)=>{let r=e,n=t.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r},"get"),jk=Xt();function KS(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}we(KS,"setFeature");var os,Uk=(os=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}},(()=>{we(os,"DefaultIdentityProviderConfig")})(),os),ss,$k=(ss=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let i=Mp.HttpRequest.clone(t);if(n.in===yl.HttpApiKeyAuthLocation.QUERY)i.query[n.name]=r.apiKey;else if(n.in===yl.HttpApiKeyAuthLocation.HEADER)i.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return i}},(()=>{we(ss,"HttpApiKeyAuthSigner")})(),ss),as,Hk=(as=class{async sign(t,r,n){let i=Mp.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return i.headers.Authorization=`Bearer ${r.token}`,i}},(()=>{we(as,"HttpBearerAuthSigner")})(),as),cs,zk=(cs=class{async sign(t,r,n){return t}},(()=>{we(cs,"NoAuthSigner")})(),cs),XS=we(e=>t=>YS(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),JS=3e5,Bk=XS(JS),YS=we(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),Vk=we((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,i,o,s,a=!1,c=we(async l=>{o||(o=n(l));try{i=await o,s=!0,a=!1}finally{o=void 0}return i},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!s||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(t(i)&&await c(l),i):(a=!0,i))},"memoizeIdentityProvider")});var xn=C((MQ,cv)=>{var bl=Object.defineProperty,Gk=Object.getOwnPropertyDescriptor,Wk=Object.getOwnPropertyNames,Kk=Object.prototype.hasOwnProperty,_e=(e,t)=>bl(e,"name",{value:t,configurable:!0}),Xk=(e,t)=>{for(var r in t)bl(e,r,{get:t[r],enumerable:!0})},Jk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wk(t))!Kk.call(e,i)&&i!==r&&bl(e,i,{get:()=>t[i],enumerable:!(n=Gk(t,i))||n.enumerable});return e},Yk=e=>Jk(bl({},"__esModule",{value:!0}),e),ZS={};Xk(ZS,{EndpointCache:()=>Qk,EndpointError:()=>tt,customEndpointFunctions:()=>Lp,isIpAddress:()=>ev,isValidHostLabel:()=>qp,resolveEndpoint:()=>_L});cv.exports=Yk(ZS);var ds,Qk=(ds=class{constructor({size:t,params:r}){this.data=new Map,this.parameters=[],this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let i of n){let o=String(t[i]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},(()=>{_e(ds,"EndpointCache")})(),ds),Zk=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ev=_e(e=>Zk.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),eL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),qp=_e((e,t=!1)=>{if(!t)return eL.test(e);let r=e.split(".");for(let n of r)if(!qp(n))return!1;return!0},"isValidHostLabel"),Lp={},ls="endpoints";function Jt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Jt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Jt).join(", ")})`:JSON.stringify(e,null,2)}_e(Jt,"toDebugString");var us,tt=(us=class extends Error{constructor(t){super(t),this.name="EndpointError"}},(()=>{_e(us,"EndpointError")})(),us),tL=_e((e,t)=>e===t,"booleanEquals"),rL=_e(e=>{let t=e.split("."),r=[];for(let n of t){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new tt(`Path: '${e}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new tt(`Invalid array index: '${o}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r},"getAttrPathList"),tv=_e((e,t)=>rL(t).reduce((r,n)=>{if(typeof r!="object")throw new tt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),nL=_e(e=>e!=null,"isSet"),iL=_e(e=>!e,"not"),Fp=Br(),kp={[Fp.EndpointURLScheme.HTTP]:80,[Fp.EndpointURLScheme.HTTPS]:443},oL=_e(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:y,protocol:v="",path:w="",query:x={}}=e,O=new URL(`${v}//${h}${y?`:${y}`:""}${w}`);return O.search=Object.entries(x).map(([T,D])=>`${T}=${D}`).join("&"),O}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=t;if(a)return null;let c=s.slice(0,-1);if(!Object.values(Fp.EndpointURLScheme).includes(c))return null;let l=ev(i),m=r.includes(`${n}:${kp[c]}`)||typeof e=="string"&&e.includes(`${n}:${kp[c]}`),f=`${n}${m?`:${kp[c]}`:""}`;return{scheme:c,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},"parseURL"),sL=_e((e,t)=>e===t,"stringEquals"),aL=_e((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),cL=_e(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),lL={booleanEquals:tL,getAttr:tv,isSet:nL,isValidHostLabel:qp,not:iL,parseURL:oL,stringEquals:sL,substring:aL,uriEncode:cL},rv=_e((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},i=0;for(;i<e.length;){let o=e.indexOf("{",i);if(o===-1){r.push(e.slice(i));break}r.push(e.slice(i,o));let s=e.indexOf("}",o);if(s===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(o+1,s)),i=s+2);let a=e.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(tv(n[c],l))}else r.push(n[a]);i=s+1}return r.join("")},"evaluateTemplate"),dL=_e(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Pl=_e((e,t,r)=>{if(typeof e=="string")return rv(e,r);if(e.fn)return iv(e,r);if(e.ref)return dL(e,r);throw new tt(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),iv=_e(({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Pl(o,"arg",r)),i=e.split(".");return i[0]in Lp&&i[1]!=null?Lp[i[0]][i[1]](...n):lL[e](...n)},"callFunction"),uL=_e(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new tt(`'${e}' is already defined in Reference Record.`);let n=iv(t,r);return r.logger?.debug?.(`${ls} evaluateCondition: ${Jt(t)} = ${Jt(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),jp=_e((e=[],t)=>{let r={};for(let n of e){let{result:i,toAssign:o}=uL(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};o&&(r[o.name]=o.value,t.logger?.debug?.(`${ls} assign: ${o.name} := ${Jt(o.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),pL=_e((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=Pl(o,"Header value entry",t);if(typeof s!="string")throw new tt(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),ov=_e((e,t)=>{if(Array.isArray(e))return e.map(r=>ov(r,t));switch(typeof e){case"string":return rv(e,t);case"object":if(e===null)throw new tt(`Unexpected endpoint property: ${e}`);return sv(e,t);case"boolean":return e;default:throw new tt(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),sv=_e((e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:ov(i,t)}),{}),"getEndpointProperties"),mL=_e((e,t)=>{let r=Pl(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new tt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),fL=_e((e,t)=>{let{conditions:r,endpoint:n}=e,{result:i,referenceRecord:o}=jp(r,t);if(!i)return;let s={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${ls} Resolving endpoint from template: ${Jt(n)}`),{...l!=null&&{headers:pL(l,s)},...c!=null&&{properties:sv(c,s)},url:mL(a,s)}},"evaluateEndpointRule"),hL=_e((e,t)=>{let{conditions:r,error:n}=e,{result:i,referenceRecord:o}=jp(r,t);if(!!i)throw new tt(Pl(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},"evaluateErrorRule"),gL=_e((e,t)=>{let{conditions:r,rules:n}=e,{result:i,referenceRecord:o}=jp(r,t);if(!!i)return av(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},"evaluateTreeRule"),av=_e((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=fL(r,t);if(n)return n}else if(r.type==="error")hL(r,t);else if(r.type==="tree"){let n=gL(r,t);if(n)return n}else throw new tt(`Unknown endpoint rule: ${r}`);throw new tt("Rules evaluation failed")},"evaluateRules"),_L=_e((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:i,rules:o}=e;t.logger?.debug?.(`${ls} Initial EndpointParams: ${Jt(r)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,m])=>[l,m.default]);if(s.length>0)for(let[l,m]of s)r[l]=r[l]??m;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new tt(`Missing required parameter: '${l}'`);let c=av(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ls} Resolved endpoint: ${Jt(c)}`),c},"resolveEndpoint")});var pv=C((kQ,uv)=>{var wl=Object.defineProperty,SL=Object.getOwnPropertyDescriptor,vL=Object.getOwnPropertyNames,yL=Object.prototype.hasOwnProperty,EL=(e,t)=>wl(e,"name",{value:t,configurable:!0}),bL=(e,t)=>{for(var r in t)wl(e,r,{get:t[r],enumerable:!0})},PL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vL(t))!yL.call(e,i)&&i!==r&&wl(e,i,{get:()=>t[i],enumerable:!(n=SL(t,i))||n.enumerable});return e},wL=e=>PL(wl({},"__esModule",{value:!0}),e),lv={};bL(lv,{parseQueryString:()=>dv});uv.exports=wL(lv);function dv(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}EL(dv,"parseQueryString")});var Pr=C((LQ,hv)=>{var Cl=Object.defineProperty,CL=Object.getOwnPropertyDescriptor,AL=Object.getOwnPropertyNames,xL=Object.prototype.hasOwnProperty,OL=(e,t)=>Cl(e,"name",{value:t,configurable:!0}),RL=(e,t)=>{for(var r in t)Cl(e,r,{get:t[r],enumerable:!0})},TL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AL(t))!xL.call(e,i)&&i!==r&&Cl(e,i,{get:()=>t[i],enumerable:!(n=CL(t,i))||n.enumerable});return e},IL=e=>TL(Cl({},"__esModule",{value:!0}),e),mv={};RL(mv,{parseUrl:()=>fv});hv.exports=IL(mv);var NL=pv(),fv=OL(e=>{if(typeof e=="string")return fv(new URL(e));let{hostname:t,pathname:r,port:n,protocol:i,search:o}=e,s;return o&&(s=(0,NL.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}},"parseUrl")});var On=C((FQ,Av)=>{"use strict";var Al=Object.defineProperty,DL=Object.getOwnPropertyDescriptor,ML=Object.getOwnPropertyNames,kL=Object.prototype.hasOwnProperty,wr=(e,t)=>Al(e,"name",{value:t,configurable:!0}),LL=(e,t)=>{for(var r in t)Al(e,r,{get:t[r],enumerable:!0})},FL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ML(t))!kL.call(e,i)&&i!==r&&Al(e,i,{get:()=>t[i],enumerable:!(n=DL(t,i))||n.enumerable});return e},qL=e=>FL(Al({},"__esModule",{value:!0}),e),_v={};LL(_v,{ConditionObject:()=>Ee.ConditionObject,DeprecatedObject:()=>Ee.DeprecatedObject,EndpointError:()=>Ee.EndpointError,EndpointObject:()=>Ee.EndpointObject,EndpointObjectHeaders:()=>Ee.EndpointObjectHeaders,EndpointObjectProperties:()=>Ee.EndpointObjectProperties,EndpointParams:()=>Ee.EndpointParams,EndpointResolverOptions:()=>Ee.EndpointResolverOptions,EndpointRuleObject:()=>Ee.EndpointRuleObject,ErrorRuleObject:()=>Ee.ErrorRuleObject,EvaluateOptions:()=>Ee.EvaluateOptions,Expression:()=>Ee.Expression,FunctionArgv:()=>Ee.FunctionArgv,FunctionObject:()=>Ee.FunctionObject,FunctionReturn:()=>Ee.FunctionReturn,ParameterObject:()=>Ee.ParameterObject,ReferenceObject:()=>Ee.ReferenceObject,ReferenceRecord:()=>Ee.ReferenceRecord,RuleSetObject:()=>Ee.RuleSetObject,RuleSetRules:()=>Ee.RuleSetRules,TreeRuleObject:()=>Ee.TreeRuleObject,awsEndpointFunctions:()=>wv,getUserAgentPrefix:()=>HL,isIpAddress:()=>Ee.isIpAddress,partition:()=>bv,resolveDefaultAwsRegionalEndpointsConfig:()=>BL,resolveEndpoint:()=>Ee.resolveEndpoint,setPartitionInfo:()=>Pv,toEndpointV1:()=>Cv,useDefaultPartitionInfo:()=>$L});Av.exports=qL(_v);var Ee=xn(),Sv=wr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Sv(r))return!1;return!0}return!(!(0,Ee.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Ee.isIpAddress)(e))},"isVirtualHostableS3Bucket"),gv=":",jL="/",UL=wr(e=>{let t=e.split(gv);if(t.length<6)return null;let[r,n,i,o,s,...a]=t;if(r!=="arn"||n===""||i===""||a.join(gv)==="")return null;let c=a.map(l=>l.split(jL)).flat();return{partition:n,service:i,region:o,accountId:s,resourceId:c}},"parseArn"),vv={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},yv=vv,Ev="",bv=wr(e=>{let{partitions:t}=yv;for(let n of t){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===e)return{...o,...a}}for(let n of t){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Pv=wr((e,t="")=>{yv=e,Ev=t},"setPartitionInfo"),$L=wr(()=>{Pv(vv,"")},"useDefaultPartitionInfo"),HL=wr(()=>Ev,"getUserAgentPrefix"),wv={isVirtualHostableS3Bucket:Sv,parseArn:UL,partition:bv};Ee.customEndpointFunctions.aws=wv;var zL=Pr(),BL=wr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Cv(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Cv=wr(e=>(0,zL.parseUrl)(e.url),"toEndpointV1")});var Jr=C((qQ,Rl)=>{var xv,Ov,Rv,Tv,Iv,Nv,Dv,Mv,kv,Lv,Fv,qv,jv,xl,Up,Uv,$v,Hv,Rn,zv,Bv,Vv,Gv,Wv,Kv,Xv,Jv,Yv,Ol,Qv,Zv,ey;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Rl=="object"&&typeof Rl.exports=="object"?e(r(t,r(Rl.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,s){return n[o]=i?i(o,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])};xv=function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)},Ov=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},Rv=function(o,s){var a={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&s.indexOf(c)<0&&(a[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,c=Object.getOwnPropertySymbols(o);l<c.length;l++)s.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(o,c[l])&&(a[c[l]]=o[c[l]]);return a},Tv=function(o,s,a,c){var l=arguments.length,m=l<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(o,s,a,c);else for(var h=o.length-1;h>=0;h--)(f=o[h])&&(m=(l<3?f(m):l>3?f(s,a,m):f(s,a))||m);return l>3&&m&&Object.defineProperty(s,a,m),m},Iv=function(o,s){return function(a,c){s(a,c,o)}},Nv=function(o,s,a,c,l,m){function f(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var h=c.kind,y=h==="getter"?"get":h==="setter"?"set":"value",v=!s&&o?c.static?o:o.prototype:null,w=s||(v?Object.getOwnPropertyDescriptor(v,c.name):{}),x,O=!1,T=a.length-1;T>=0;T--){var D={};for(var U in c)D[U]=U==="access"?{}:c[U];for(var U in c.access)D.access[U]=c.access[U];D.addInitializer=function(H){if(O)throw new TypeError("Cannot add initializers after decoration has completed");m.push(f(H||null))};var L=(0,a[T])(h==="accessor"?{get:w.get,set:w.set}:w[y],D);if(h==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(x=f(L.get))&&(w.get=x),(x=f(L.set))&&(w.set=x),(x=f(L.init))&&l.unshift(x)}else(x=f(L))&&(h==="field"?l.unshift(x):w[y]=x)}v&&Object.defineProperty(v,c.name,w),O=!0},Dv=function(o,s,a){for(var c=arguments.length>2,l=0;l<s.length;l++)a=c?s[l].call(o,a):s[l].call(o);return c?a:void 0},Mv=function(o){return typeof o=="symbol"?o:"".concat(o)},kv=function(o,s,a){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:a?"".concat(a," ",s):s})},Lv=function(o,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,s)},Fv=function(o,s,a,c){function l(m){return m instanceof a?m:new a(function(f){f(m)})}return new(a||(a=Promise))(function(m,f){function h(w){try{v(c.next(w))}catch(x){f(x)}}function y(w){try{v(c.throw(w))}catch(x){f(x)}}function v(w){w.done?m(w.value):l(w.value).then(h,y)}v((c=c.apply(o,s||[])).next())})},qv=function(o,s){var a={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},c,l,m,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(v){return function(w){return y([v,w])}}function y(v){if(c)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(a=0)),a;)try{if(c=1,l&&(m=v[0]&2?l.return:v[0]?l.throw||((m=l.return)&&m.call(l),0):l.next)&&!(m=m.call(l,v[1])).done)return m;switch(l=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(m=a.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){a.label=v[1];break}if(v[0]===6&&a.label<m[1]){a.label=m[1],m=v;break}if(m&&a.label<m[2]){a.label=m[2],a.ops.push(v);break}m[2]&&a.ops.pop(),a.trys.pop();continue}v=s.call(o,a)}catch(w){v=[6,w],l=0}finally{c=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},jv=function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&Ol(s,o,a)},Ol=Object.create?function(o,s,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,c,l)}:function(o,s,a,c){c===void 0&&(c=a),o[c]=s[a]},xl=function(o){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&o[s],c=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&c>=o.length&&(o=void 0),{value:o&&o[c++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Up=function(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var c=a.call(o),l,m=[],f;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)m.push(l.value)}catch(h){f={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(f)throw f.error}}return m},Uv=function(){for(var o=[],s=0;s<arguments.length;s++)o=o.concat(Up(arguments[s]));return o},$v=function(){for(var o=0,s=0,a=arguments.length;s<a;s++)o+=arguments[s].length;for(var c=Array(o),l=0,s=0;s<a;s++)for(var m=arguments[s],f=0,h=m.length;f<h;f++,l++)c[l]=m[f];return c},Hv=function(o,s,a){if(a||arguments.length===2)for(var c=0,l=s.length,m;c<l;c++)(m||!(c in s))&&(m||(m=Array.prototype.slice.call(s,0,c)),m[c]=s[c]);return o.concat(m||Array.prototype.slice.call(s))},Rn=function(o){return this instanceof Rn?(this.v=o,this):new Rn(o)},zv=function(o,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=a.apply(o,s||[]),l,m=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(T){return function(D){return Promise.resolve(D).then(T,x)}}function h(T,D){c[T]&&(l[T]=function(U){return new Promise(function(L,H){m.push([T,U,L,H])>1||y(T,U)})},D&&(l[T]=D(l[T])))}function y(T,D){try{v(c[T](D))}catch(U){O(m[0][3],U)}}function v(T){T.value instanceof Rn?Promise.resolve(T.value.v).then(w,x):O(m[0][2],T)}function w(T){y("next",T)}function x(T){y("throw",T)}function O(T,D){T(D),m.shift(),m.length&&y(m[0][0],m[0][1])}},Bv=function(o){var s,a;return s={},c("next"),c("throw",function(l){throw l}),c("return"),s[Symbol.iterator]=function(){return this},s;function c(l,m){s[l]=o[l]?function(f){return(a=!a)?{value:Rn(o[l](f)),done:!1}:m?m(f):f}:m}},Vv=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o[Symbol.asyncIterator],a;return s?s.call(o):(o=typeof xl=="function"?xl(o):o[Symbol.iterator](),a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a);function c(m){a[m]=o[m]&&function(f){return new Promise(function(h,y){f=o[m](f),l(h,y,f.done,f.value)})}}function l(m,f,h,y){Promise.resolve(y).then(function(v){m({value:v,done:h})},f)}},Gv=function(o,s){return Object.defineProperty?Object.defineProperty(o,"raw",{value:s}):o.raw=s,o};var r=Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s},n=function(o){return n=Object.getOwnPropertyNames||function(s){var a=[];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[a.length]=c);return a},n(o)};Wv=function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var a=n(o),c=0;c<a.length;c++)a[c]!=="default"&&Ol(s,o,a[c]);return r(s,o),s},Kv=function(o){return o&&o.__esModule?o:{default:o}},Xv=function(o,s,a,c){if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?o!==s||!c:!s.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?c:a==="a"?c.call(o):c?c.value:s.get(o)},Jv=function(o,s,a,c,l){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?o!==s||!l:!s.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?l.call(o,a):l?l.value=a:s.set(o,a),a},Yv=function(o,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?s===o:o.has(s)},Qv=function(o,s,a){if(s!=null){if(typeof s!="object"&&typeof s!="function")throw new TypeError("Object expected.");var c,l;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");c=s[Symbol.asyncDispose]}if(c===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");c=s[Symbol.dispose],a&&(l=c)}if(typeof c!="function")throw new TypeError("Object not disposable.");l&&(c=function(){try{l.call(this)}catch(m){return Promise.reject(m)}}),o.stack.push({value:s,dispose:c,async:a})}else a&&o.stack.push({async:!0});return s};var i=typeof SuppressedError=="function"?SuppressedError:function(o,s,a){var c=new Error(a);return c.name="SuppressedError",c.error=o,c.suppressed=s,c};Zv=function(o){function s(m){o.error=o.hasError?new i(m,o.error,"An error was suppressed during disposal."):m,o.hasError=!0}var a,c=0;function l(){for(;a=o.stack.pop();)try{if(!a.async&&c===1)return c=0,o.stack.push(a),Promise.resolve().then(l);if(a.dispose){var m=a.dispose.call(a.value);if(a.async)return c|=2,Promise.resolve(m).then(l,function(f){return s(f),l()})}else c|=1}catch(f){s(f)}if(c===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return l()},ey=function(o,s){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,c,l,m,f){return c?s?".jsx":".js":l&&(!m||!f)?a:l+m+"."+f.toLowerCase()+"js"}):o},e("__extends",xv),e("__assign",Ov),e("__rest",Rv),e("__decorate",Tv),e("__param",Iv),e("__esDecorate",Nv),e("__runInitializers",Dv),e("__propKey",Mv),e("__setFunctionName",kv),e("__metadata",Lv),e("__awaiter",Fv),e("__generator",qv),e("__exportStar",jv),e("__createBinding",Ol),e("__values",xl),e("__read",Up),e("__spread",Uv),e("__spreadArrays",$v),e("__spreadArray",Hv),e("__await",Rn),e("__asyncGenerator",zv),e("__asyncDelegator",Bv),e("__asyncValues",Vv),e("__makeTemplateObject",Gv),e("__importStar",Wv),e("__importDefault",Kv),e("__classPrivateFieldGet",Xv),e("__classPrivateFieldSet",Jv),e("__classPrivateFieldIn",Yv),e("__addDisposableResource",Qv),e("__disposeResources",Zv),e("__rewriteRelativeImportExtension",ey)})});var Pt=C((jQ,oy)=>{"use strict";var Tl=Object.defineProperty,VL=Object.getOwnPropertyDescriptor,GL=Object.getOwnPropertyNames,WL=Object.prototype.hasOwnProperty,Il=(e,t)=>Tl(e,"name",{value:t,configurable:!0}),KL=(e,t)=>{for(var r in t)Tl(e,r,{get:t[r],enumerable:!0})},XL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of GL(t))!WL.call(e,i)&&i!==r&&Tl(e,i,{get:()=>t[i],enumerable:!(n=VL(t,i))||n.enumerable});return e},JL=e=>XL(Tl({},"__esModule",{value:!0}),e),ty={};KL(ty,{emitWarningIfUnsupportedVersion:()=>YL,setCredentialFeature:()=>ry,setFeature:()=>ny,setTokenFeature:()=>iy,state:()=>$p});oy.exports=JL(ty);var $p={warningEmitted:!1},YL=Il(e=>{e&&!$p.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&($p.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))},"emitWarningIfUnsupportedVersion");function ry(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}Il(ry,"setCredentialFeature");function ny(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}Il(ny,"setFeature");function iy(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}Il(iy,"setTokenFeature")});var Xe=C((UQ,ay)=>{var Nl=Object.defineProperty,QL=Object.getOwnPropertyDescriptor,ZL=Object.getOwnPropertyNames,eF=Object.prototype.hasOwnProperty,Yr=(e,t)=>Nl(e,"name",{value:t,configurable:!0}),tF=(e,t)=>{for(var r in t)Nl(e,r,{get:t[r],enumerable:!0})},rF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZL(t))!eF.call(e,i)&&i!==r&&Nl(e,i,{get:()=>t[i],enumerable:!(n=QL(t,i))||n.enumerable});return e},nF=e=>rF(Nl({},"__esModule",{value:!0}),e),sy={};tF(sy,{CredentialsProviderError:()=>iF,ProviderError:()=>Dl,TokenProviderError:()=>oF,chain:()=>sF,fromStatic:()=>aF,memoize:()=>cF});ay.exports=nF(sy);var Tn,Dl=(Tn=class extends Error{constructor(t,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,Tn.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},(()=>{Yr(Tn,"ProviderError")})(),Tn),In,iF=(In=class extends Dl{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,In.prototype)}},(()=>{Yr(In,"CredentialsProviderError")})(),In),Nn,oF=(Nn=class extends Dl{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,Nn.prototype)}},(()=>{Yr(Nn,"TokenProviderError")})(),Nn),sF=Yr((...e)=>async()=>{if(e.length===0)throw new Dl("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),aF=Yr(e=>()=>Promise.resolve(e),"fromStatic"),cF=Yr((e,t,r)=>{let n,i,o,s=!1,a=Yr(async()=>{i||(i=e());try{n=await i,o=!0,s=!1}finally{i=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await a(),n))},"memoize")});var ky=C(($Q,My)=>{var Ul=Object.defineProperty,lF=Object.getOwnPropertyDescriptor,dF=Object.getOwnPropertyNames,uF=Object.prototype.hasOwnProperty,$e=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),pF=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},mF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dF(t))!uF.call(e,i)&&i!==r&&Ul(e,i,{get:()=>t[i],enumerable:!(n=lF(t,i))||n.enumerable});return e},fF=e=>mF(Ul({},"__esModule",{value:!0}),e),py={};pF(py,{ALGORITHM_IDENTIFIER:()=>Ml,ALGORITHM_IDENTIFIER_V4A:()=>SF,ALGORITHM_QUERY_PARAM:()=>my,ALWAYS_UNSIGNABLE_HEADERS:()=>Ey,AMZ_DATE_HEADER:()=>Xp,AMZ_DATE_QUERY_PARAM:()=>Vp,AUTH_HEADER:()=>Kp,CREDENTIAL_QUERY_PARAM:()=>fy,DATE_HEADER:()=>_y,EVENT_ALGORITHM_IDENTIFIER:()=>wy,EXPIRES_QUERY_PARAM:()=>gy,GENERATED_HEADERS:()=>Sy,HOST_HEADER:()=>gF,KEY_TYPE_IDENTIFIER:()=>Jp,MAX_CACHE_SIZE:()=>Ay,MAX_PRESIGNED_TTL:()=>xy,PROXY_HEADER_PATTERN:()=>by,REGION_SET_PARAM:()=>hF,SEC_HEADER_PATTERN:()=>Py,SHA256_HEADER:()=>jl,SIGNATURE_HEADER:()=>vy,SIGNATURE_QUERY_PARAM:()=>Gp,SIGNED_HEADERS_QUERY_PARAM:()=>hy,SignatureV4:()=>RF,SignatureV4Base:()=>Dy,TOKEN_HEADER:()=>yy,TOKEN_QUERY_PARAM:()=>Wp,UNSIGNABLE_PATTERNS:()=>_F,UNSIGNED_PAYLOAD:()=>Cy,clearCredentialCache:()=>yF,createScope:()=>Ll,getCanonicalHeaders:()=>Hp,getCanonicalQuery:()=>Ny,getPayloadHash:()=>Fl,getSigningKey:()=>Oy,hasHeader:()=>Ry,moveHeadersToQuery:()=>Iy,prepareRequest:()=>Bp,signatureV4aContainer:()=>TF});My.exports=fF(py);var cy=Ue(),my="X-Amz-Algorithm",fy="X-Amz-Credential",Vp="X-Amz-Date",hy="X-Amz-SignedHeaders",gy="X-Amz-Expires",Gp="X-Amz-Signature",Wp="X-Amz-Security-Token",hF="X-Amz-Region-Set",Kp="authorization",Xp=Vp.toLowerCase(),_y="date",Sy=[Kp,Xp,_y],vy=Gp.toLowerCase(),jl="x-amz-content-sha256",yy=Wp.toLowerCase(),gF="host",Ey={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},by=/^proxy-/,Py=/^sec-/,_F=[/^proxy-/i,/^sec-/i],Ml="AWS4-HMAC-SHA256",SF="AWS4-ECDSA-P256-SHA256",wy="AWS4-HMAC-SHA256-PAYLOAD",Cy="UNSIGNED-PAYLOAD",Ay=50,Jp="aws4_request",xy=60*60*24*7,Cr=ap(),vF=Ue(),Dn={},kl=[],Ll=$e((e,t,r)=>`${e}/${t}/${r}/${Jp}`,"createScope"),Oy=$e(async(e,t,r,n,i)=>{let o=await ly(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${i}:${(0,Cr.toHex)(o)}:${t.sessionToken}`;if(s in Dn)return Dn[s];for(kl.push(s);kl.length>Ay;)delete Dn[kl.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,i,Jp])a=await ly(e,a,c);return Dn[s]=a},"getSigningKey"),yF=$e(()=>{kl.length=0,Object.keys(Dn).forEach(e=>{delete Dn[e]})},"clearCredentialCache"),ly=$e((e,t,r)=>{let n=new e(t);return n.update((0,vF.toUint8Array)(r)),n.digest()},"hmac"),Hp=$e(({headers:e},t,r)=>{let n={};for(let i of Object.keys(e).sort()){if(e[i]==null)continue;let o=i.toLowerCase();(o in Ey||t?.has(o)||by.test(o)||Py.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[i].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),EF=qu(),bF=Ue(),Fl=$e(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===jl)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,EF.isArrayBuffer)(t)){let n=new r;return n.update((0,bF.toUint8Array)(t)),(0,Cr.toHex)(await n.digest())}return Cy},"getPayloadHash"),dy=Ue(),ps,PF=(ps=class{format(t){let r=[];for(let o of Object.keys(t)){let s=(0,dy.fromUtf8)(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(t.value,3),s;case"string":let a=(0,dy.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(CF.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!wF.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set((0,Cr.fromHex)(t.value.replace(/\-/g,"")),1),f}}},(()=>{$e(ps,"HeaderFormatter")})(),ps),wF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Mn,CF=(Mn=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&zp(r),new Mn(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&zp(t),parseInt((0,Cr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}},(()=>{$e(Mn,"Int64")})(),Mn);function zp(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}$e(zp,"negate");var Ry=$e((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Ty=be(),Iy=$e((e,t={})=>{let{headers:r,query:n={}}=Ty.HttpRequest.clone(e);for(let i of Object.keys(r)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[i]=r[i],delete r[i])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),Bp=$e(e=>{e=Ty.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Sy.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),uy=ct(),AF=Ue(),ql=Zu(),Ny=$e(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===vy)continue;let i=(0,ql.escapeUri)(n);t.push(i);let o=e[n];typeof o=="string"?r[i]=`${i}=${(0,ql.escapeUri)(o)}`:Array.isArray(o)&&(r[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${(0,ql.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),xF=$e(e=>OF(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),OF=$e(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),ms,Dy=(ms=class{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,uy.normalizeProvider)(n),this.credentialProvider=(0,uy.normalizeProvider)(r)}createCanonicalRequest(t,r,n){let i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Ny(t)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n,i){let o=new this.sha256;o.update((0,AF.toUint8Array)(n));let s=await o.digest();return`${i}
${t}
${r}
${(0,Cr.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,ql.escapeUri)(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=xF(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},(()=>{$e(ms,"SignatureV4Base")})(),ms),fs,RF=(fs=class extends Dy{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:t,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s}),this.headerFormatter=new PF}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:m}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let h=l??await this.regionProvider(),{longDate:y,shortDate:v}=this.formatDate(n);if(i>xy)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=Ll(v,h,m??this.service),x=Iy(Bp(t),{unhoistableHeaders:s,hoistableHeaders:c});f.sessionToken&&(x.query[Wp]=f.sessionToken),x.query[my]=Ml,x.query[fy]=`${f.accessKeyId}/${w}`,x.query[Vp]=y,x.query[gy]=i.toString(10);let O=Hp(x,o,a);return x.query[hy]=this.getCanonicalHeaderList(O),x.query[Gp]=await this.getSignature(y,w,this.getSigningKey(f,h,v,m),this.createCanonicalRequest(x,O,await Fl(t,this.sha256))),x}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),m=Ll(c,a,s??this.service),f=await Fl({headers:{},body:r},this.sha256),h=new this.sha256;h.update(t);let y=(0,Cr.toHex)(await h.digest()),v=[wy,l,m,i,y,f].join(`
`);return this.signString(v,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,s,a,i));return c.update((0,cy.toUint8Array)(t)),(0,Cr.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=Bp(t),{longDate:m,shortDate:f}=this.formatDate(r),h=Ll(f,c,s??this.service);l.headers[Xp]=m,a.sessionToken&&(l.headers[yy]=a.sessionToken);let y=await Fl(l,this.sha256);!Ry(jl,l.headers)&&this.applyChecksum&&(l.headers[jl]=y);let v=Hp(l,i,n),w=await this.getSignature(m,h,this.getSigningKey(a,c,f,s),this.createCanonicalRequest(l,v,y));return l.headers[Kp]=`${Ml} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(v)}, Signature=${w}`,l}async getSignature(t,r,n,i){let o=await this.createStringToSign(t,r,i,Ml),s=new this.sha256(await n);return s.update((0,cy.toUint8Array)(o)),(0,Cr.toHex)(await s.digest())}getSigningKey(t,r,n,i){return Oy(this.sha256,t,n,r,i||this.service)}},(()=>{$e(fs,"SignatureV4")})(),fs),TF={SignatureV4a:null}});var em=C((HQ,Ky)=>{"use strict";var $l=Object.defineProperty,IF=Object.getOwnPropertyDescriptor,NF=Object.getOwnPropertyNames,DF=Object.prototype.hasOwnProperty,Re=(e,t)=>$l(e,"name",{value:t,configurable:!0}),MF=(e,t)=>{for(var r in t)$l(e,r,{get:t[r],enumerable:!0})},kF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of NF(t))!DF.call(e,i)&&i!==r&&$l(e,i,{get:()=>t[i],enumerable:!(n=IF(t,i))||n.enumerable});return e},LF=e=>kF($l({},"__esModule",{value:!0}),e),zy={};MF(zy,{AWSSDKSigV4Signer:()=>UF,AwsSdkSigV4ASigner:()=>HF,AwsSdkSigV4Signer:()=>Zp,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>zF,NODE_SIGV4A_CONFIG_OPTIONS:()=>GF,getBearerTokenEnvKey:()=>By,resolveAWSSDKSigV4Config:()=>KF,resolveAwsSdkSigV4AConfig:()=>VF,resolveAwsSdkSigV4Config:()=>Vy,validateSigningProperties:()=>Qp});Ky.exports=LF(zy);var FF=be(),qF=be(),Ly=Re(e=>qF.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,"getDateHeader"),Yp=Re(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),jF=Re((e,t)=>Math.abs(Yp(t).getTime()-e)>=3e5,"isClockSkewed"),Fy=Re((e,t)=>{let r=Date.parse(e);return jF(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),hs=Re((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),Qp=Re(async e=>{let t=hs("context",e.context),r=hs("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await hs("signer",r.signer)(n),s=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}},"validateSigningProperties"),gs,Zp=(gs=class{async sign(t,r,n){if(!FF.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await Qp(n),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=n.context;if(l?.authSchemes?.length??0>1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await s.sign(t,{signingDate:Yp(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Ly(r.$response);if(n){let i=hs("config",t.config),o=i.systemClockOffset;i.systemClockOffset=Fy(n,i.systemClockOffset),i.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Ly(t);if(n){let i=hs("config",r.config);i.systemClockOffset=Fy(n,i.systemClockOffset)}}},(()=>{Re(gs,"AwsSdkSigV4Signer")})(),gs),UF=Zp,$F=be(),_s,HF=(_s=class extends Zp{async sign(t,r,n){if(!$F.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}=await Qp(n),m=(await i.sigv4aSigningRegionSet?.()??a??[s]).join(",");return await o.sign(t,{signingDate:Yp(i.systemClockOffset),signingRegion:m,signingService:c})}},(()=>{Re(_s,"AwsSdkSigV4ASigner")})(),_s),qy=Re(e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[],"getArrayForCommaSeparatedString"),By=Re(e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`,"getBearerTokenEnvKey"),jy="AWS_AUTH_SCHEME_PREFERENCE",Uy="auth_scheme_preference",zF={environmentVariableSelector:Re((e,t)=>{if(t?.signingName&&By(t.signingName)in e)return["httpBearerAuth"];if(jy in e)return qy(e[jy])},"environmentVariableSelector"),configFileSelector:Re(e=>{if(Uy in e)return qy(e[Uy])},"configFileSelector"),default:[]},BF=et(),$y=Xe(),VF=Re(e=>(e.sigv4aSigningRegionSet=(0,BF.normalizeProvider)(e.sigv4aSigningRegionSet),e),"resolveAwsSdkSigV4AConfig"),GF={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new $y.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new $y.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0},WF=Pt(),Qr=et(),Hy=ky(),Vy=Re(e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let m=Gy(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=Wy(e,m);r&&!f.attributed?(n=Re(async h=>f(h).then(y=>(0,WF.setCredentialFeature)(y,"CREDENTIALS_CODE","e")),"resolvedCredentials"),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:i=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:s}=e,a;return e.signer?a=(0,Qr.normalizeProvider)(e.signer):e.regionInfoProvider?a=Re(()=>(0,Qr.normalizeProvider)(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,m])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||m,e.signingName=e.signingName||h||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:i},v=e.signerConstructor||Hy.SignatureV4;return new v(y)}),"signer"):a=Re(async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Qr.normalizeProvider)(e.region)(),properties:{}},l);let m=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:i},y=e.signerConstructor||Hy.SignatureV4;return new y(h)},"signer"),Object.assign(e,{systemClockOffset:o,signingEscapePath:i,signer:a})},"resolveAwsSdkSigV4Config"),KF=Vy;function Gy(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=(0,Qr.memoizeIdentityProvider)(t,Qr.isIdentityExpired,Qr.doesIdentityRequireRefresh):r?n=(0,Qr.normalizeProvider)(r(Object.assign({},e,{parentClientConfig:e}))):n=Re(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider"),n.memoized=!0,n}Re(Gy,"normalizeCredentialProvider");function Wy(e,t){if(t.configBound)return t;let r=Re(async n=>t({...n,callerClientConfig:e}),"fn");return r.memoized=t.memoized,r.configBound=!0,r}Re(Wy,"bindCallerConfig")});var Ss=C((zQ,Yy)=>{var Hl=Object.defineProperty,XF=Object.getOwnPropertyDescriptor,JF=Object.getOwnPropertyNames,YF=Object.prototype.hasOwnProperty,QF=(e,t)=>Hl(e,"name",{value:t,configurable:!0}),ZF=(e,t)=>{for(var r in t)Hl(e,r,{get:t[r],enumerable:!0})},e1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of JF(t))!YF.call(e,i)&&i!==r&&Hl(e,i,{get:()=>t[i],enumerable:!(n=XF(t,i))||n.enumerable});return e},t1=e=>e1(Hl({},"__esModule",{value:!0}),e),Jy={};ZF(Jy,{calculateBodyLength:()=>r1});Yy.exports=t1(Jy);var Xy=typeof TextEncoder=="function"?new TextEncoder:null,r1=QF(e=>{if(typeof e=="string"){if(Xy)return Xy.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var rE=C((BQ,tE)=>{var zl=Object.defineProperty,n1=Object.getOwnPropertyDescriptor,i1=Object.getOwnPropertyNames,o1=Object.prototype.hasOwnProperty,dt=(e,t)=>zl(e,"name",{value:t,configurable:!0}),s1=(e,t)=>{for(var r in t)zl(e,r,{get:t[r],enumerable:!0})},a1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of i1(t))!o1.call(e,i)&&i!==r&&zl(e,i,{get:()=>t[i],enumerable:!(n=n1(t,i))||n.enumerable});return e},c1=e=>a1(zl({},"__esModule",{value:!0}),e),eE={};s1(eE,{constructStack:()=>tm});tE.exports=c1(eE);var Zr=dt((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Ar=dt((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),tm=dt(()=>{let e=[],t=[],r=!1,n=new Set,i=dt(f=>f.sort((h,y)=>Qy[y.step]-Qy[h.step]||Zy[y.priority||"normal"]-Zy[h.priority||"normal"]),"sort"),o=dt(f=>{let h=!1,y=dt(v=>{let w=Zr(v.name,v.aliases);if(w.includes(f)){h=!0;for(let x of w)n.delete(x);return!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),h},"removeByName"),s=dt(f=>{let h=!1,y=dt(v=>{if(v.middleware===f){h=!0;for(let w of Zr(v.name,v.aliases))n.delete(w);return!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),h},"removeByReference"),a=dt(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(m.identifyOnResolve()),f),"cloneTo"),c=dt(f=>{let h=[];return f.before.forEach(y=>{y.before.length===0&&y.after.length===0?h.push(y):h.push(...c(y))}),h.push(f),f.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?h.push(y):h.push(...c(y))}),h},"expandRelativeMiddlewareList"),l=dt((f=!1)=>{let h=[],y=[],v={};return e.forEach(x=>{let O={...x,before:[],after:[]};for(let T of Zr(O.name,O.aliases))v[T]=O;h.push(O)}),t.forEach(x=>{let O={...x,before:[],after:[]};for(let T of Zr(O.name,O.aliases))v[T]=O;y.push(O)}),y.forEach(x=>{if(x.toMiddleware){let O=v[x.toMiddleware];if(O===void 0){if(f)return;throw new Error(`${x.toMiddleware} is not found when adding ${Ar(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&O.after.push(x),x.relation==="before"&&O.before.push(x)}}),i(h).map(c).reduce((x,O)=>(x.push(...O),x),[])},"getMiddlewareList"),m={add:(f,h={})=>{let{name:y,override:v,aliases:w}=h,x={step:"initialize",priority:"normal",middleware:f,...h},O=Zr(y,w);if(O.length>0){if(O.some(T=>n.has(T))){if(!v)throw new Error(`Duplicate middleware name '${Ar(y,w)}'`);for(let T of O){let D=e.findIndex(L=>L.name===T||L.aliases?.some(H=>H===T));if(D===-1)continue;let U=e[D];if(U.step!==x.step||x.priority!==U.priority)throw new Error(`"${Ar(U.name,U.aliases)}" middleware with ${U.priority} priority in ${U.step} step cannot be overridden by "${Ar(y,w)}" middleware with ${x.priority} priority in ${x.step} step.`);e.splice(D,1)}}for(let T of O)n.add(T)}e.push(x)},addRelativeTo:(f,h)=>{let{name:y,override:v,aliases:w}=h,x={middleware:f,...h},O=Zr(y,w);if(O.length>0){if(O.some(T=>n.has(T))){if(!v)throw new Error(`Duplicate middleware name '${Ar(y,w)}'`);for(let T of O){let D=t.findIndex(L=>L.name===T||L.aliases?.some(H=>H===T));if(D===-1)continue;let U=t[D];if(U.toMiddleware!==x.toMiddleware||U.relation!==x.relation)throw new Error(`"${Ar(U.name,U.aliases)}" middleware ${U.relation} "${U.toMiddleware}" middleware cannot be overridden by "${Ar(y,w)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);t.splice(D,1)}}for(let T of O)n.add(T)}t.push(x)},clone:()=>a(tm()),use:f=>{f.applyToStack(m)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let h=!1,y=dt(v=>{let{tags:w,name:x,aliases:O}=v;if(w&&w.includes(f)){let T=Zr(x,O);for(let D of T)n.delete(D);return h=!0,!1}return!0},"filterCb");return e=e.filter(y),t=t.filter(y),h},concat:f=>{let h=a(tm());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Ar(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let y of l().map(v=>v.middleware).reverse())f=y(f,h);return r&&console.log(m.identify()),f}};return m},"constructStack"),Qy={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Zy={high:3,normal:2,low:1}});var ie=C((VQ,cm)=>{var Bl=Object.defineProperty,l1=Object.getOwnPropertyDescriptor,d1=Object.getOwnPropertyNames,u1=Object.prototype.hasOwnProperty,ue=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),p1=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of d1(t))!u1.call(e,i)&&i!==r&&Bl(e,i,{get:()=>t[i],enumerable:!(n=l1(t,i))||n.enumerable});return e},m1=(e,t,r)=>(nm(e,t,"default"),r&&nm(r,t,"default")),f1=e=>nm(Bl({},"__esModule",{value:!0}),e),sm={};p1(sm,{Client:()=>h1,Command:()=>oE,NoOpLogger:()=>N1,SENSITIVE_STRING:()=>_1,ServiceException:()=>v1,_json:()=>om,collectBody:()=>rm.collectBody,convertMap:()=>D1,createAggregatedClient:()=>S1,decorateServiceException:()=>sE,emitWarningIfUnsupportedVersion:()=>P1,extendedEncodeURIComponent:()=>rm.extendedEncodeURIComponent,getArrayIfSingleItem:()=>T1,getDefaultClientConfiguration:()=>O1,getDefaultExtensionConfiguration:()=>cE,getValueFromTextNode:()=>lE,isSerializableHeaderValue:()=>I1,loadConfigsForDefaultMode:()=>b1,map:()=>am,resolveDefaultRuntimeConfig:()=>R1,resolvedPath:()=>rm.resolvedPath,serializeDateTime:()=>j1,serializeFloat:()=>q1,take:()=>M1,throwDefaultError:()=>aE,withBaseException:()=>y1});cm.exports=f1(sm);var iE=rE(),vs,h1=(vs=class{constructor(t){this.config=t,this.middlewareStack=(0,iE.constructStack)()}send(t,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,i),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(t).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},(()=>{ue(vs,"Client")})(),vs),rm=Xt(),im=Br(),ys,oE=(ys=class{constructor(){this.middlewareStack=(0,iE.constructStack)()}static classBuilder(){return new g1}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:m,CommandCtor:f}){for(let x of i.bind(this)(f,t,r,n))this.middlewareStack.use(x);let h=t.concat(this.middlewareStack),{logger:y}=r,v={logger:y,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[im.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...m},{requestHandler:w}=r;return h.resolve(x=>w.handle(x.request,n||{}),v)}},(()=>{ue(ys,"Command")})(),ys),Es,g1=(Es=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){var n;let t=this,r;return r=(n=class extends oE{constructor(...[o]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=o??{},t._init(this),this.schema=t._operationSchema}static getEndpointParameterInstructions(){return t._ep}resolveMiddleware(o,s,a){return this.resolveMiddlewareWithContext(o,s,a,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}},(()=>{ue(n,"CommandRef")})(),n)}},(()=>{ue(Es,"ClassBuilder")})(),Es),_1="***SensitiveInformation***",S1=ue((e,t)=>{for(let r of Object.keys(e)){let n=e[r],i=ue(async function(s,a,c){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=i}},"createAggregatedClient"),Yt,v1=(Yt=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return Yt.prototype.isPrototypeOf(r)||Boolean(r.$fault)&&Boolean(r.$metadata)&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===Yt?Yt.isInstance(t):Yt.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},(()=>{ue(Yt,"ServiceException")})(),Yt),sE=ue((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),aE=ue(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let i=E1(e),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:i});throw sE(s,t)},"throwDefaultError"),y1=ue(e=>({output:t,parsedBody:r,errorCode:n})=>{aE({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),E1=ue(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),b1=ue(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),nE=!1,P1=ue(e=>{e&&!nE&&parseInt(e.substring(1,e.indexOf(".")))<16&&(nE=!0)},"emitWarningIfUnsupportedVersion"),w1=ue(e=>{let t=[];for(let r in im.AlgorithmId){let n=im.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),C1=ue(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),A1=ue(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),x1=ue(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),cE=ue(e=>Object.assign(w1(e),A1(e)),"getDefaultExtensionConfiguration"),O1=cE,R1=ue(e=>Object.assign(C1(e),x1(e)),"resolveDefaultRuntimeConfig"),T1=ue(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),lE=ue(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=lE(e[r]));return e},"getValueFromTextNode"),I1=ue(e=>e!=null,"isSerializableHeaderValue"),bs,N1=(bs=class{trace(){}debug(){}info(){}warn(){}error(){}},(()=>{ue(bs,"NoOpLogger")})(),bs);function am(e,t,r){let n,i,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return i=t,o=r,k1(n,i,o);o=t}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){n[s]=o[s];continue}dE(n,null,o,s)}return n}ue(am,"map");var D1=ue(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),M1=ue((e,t)=>{let r={};for(let n in t)dE(r,e,t,n);return r},"take"),k1=ue((e,t,r)=>am(e,Object.entries(r).reduce((n,[i,o])=>(Array.isArray(o)?n[i]=o:typeof o=="function"?n[i]=[t,o()]:n[i]=[t,o],n),{})),"mapWithFilter"),dE=ue((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=L1,c=F1,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&!!a)&&(e[n]=c(t[l]));return}let[i,o]=r[n];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=s:c&&(e[n]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(e[n]=o)}},"applyInstruction"),L1=ue(e=>e!=null,"nonNullish"),F1=ue(e=>e,"pass"),q1=ue(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),j1=ue(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),om=ue(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(om);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=om(e[r]));return t}return e},"_json");m1(sm,lt(),cm.exports)});var lm=C((GQ,uE)=>{(()=>{"use strict";var e={d:(d,u)=>{for(var g in u)e.o(u,g)&&!e.o(d,g)&&Object.defineProperty(d,g,{enumerable:!0,get:u[g]})},o:(d,u)=>Object.prototype.hasOwnProperty.call(d,u),r:d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>pr,XMLParser:()=>tT,XMLValidator:()=>lT});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function i(d,u){let g=[],P=u.exec(d);for(;P;){let S=[];S.startIndex=u.lastIndex-P[0].length;let E=P.length;for(let R=0;R<E;R++)S.push(P[R]);g.push(S),P=u.exec(d)}return g}let o=function(d){return n.exec(d)!=null},s={allowBooleanAttributes:!1,unpairedTags:[]};function a(d,u){u=Object.assign({},s,u);let g=[],P=!1,S=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let E=0;E<d.length;E++)if(d[E]==="<"&&d[E+1]==="?"){if(E+=2,E=l(d,E),E.err)return E}else{if(d[E]!=="<"){if(c(d[E]))continue;return O("InvalidChar","char '"+d[E]+"' is not expected.",D(d,E))}{let R=E;if(E++,d[E]==="!"){E=m(d,E);continue}{let A=!1;d[E]==="/"&&(A=!0,E++);let I="";for(;E<d.length&&d[E]!==">"&&d[E]!==" "&&d[E]!=="	"&&d[E]!==`
`&&d[E]!=="\r";E++)I+=d[E];if(I=I.trim(),I[I.length-1]==="/"&&(I=I.substring(0,I.length-1),E--),!o(I)){let $;return $=I.trim().length===0?"Invalid space after '<'.":"Tag '"+I+"' is an invalid name.",O("InvalidTag",$,D(d,E))}let k=y(d,E);if(k===!1)return O("InvalidAttr","Attributes for '"+I+"' have open quote.",D(d,E));let z=k.value;if(E=k.index,z[z.length-1]==="/"){let $=E-z.length;z=z.substring(0,z.length-1);let ce=w(z,u);if(ce!==!0)return O(ce.err.code,ce.err.msg,D(d,$+ce.err.line));P=!0}else if(A){if(!k.tagClosed)return O("InvalidTag","Closing tag '"+I+"' doesn't have proper closing.",D(d,E));if(z.trim().length>0)return O("InvalidTag","Closing tag '"+I+"' can't have attributes or invalid starting.",D(d,R));if(g.length===0)return O("InvalidTag","Closing tag '"+I+"' has not been opened.",D(d,R));{let $=g.pop();if(I!==$.tagName){let ce=D(d,$.tagStartPos);return O("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+ce.line+", col "+ce.col+") instead of closing tag '"+I+"'.",D(d,R))}g.length==0&&(S=!0)}}else{let $=w(z,u);if($!==!0)return O($.err.code,$.err.msg,D(d,E-z.length+$.err.line));if(S===!0)return O("InvalidXml","Multiple possible root nodes found.",D(d,E));u.unpairedTags.indexOf(I)!==-1||g.push({tagName:I,tagStartPos:R}),P=!0}for(E++;E<d.length;E++)if(d[E]==="<"){if(d[E+1]==="!"){E++,E=m(d,E);continue}if(d[E+1]!=="?")break;if(E=l(d,++E),E.err)return E}else if(d[E]==="&"){let $=x(d,E);if($==-1)return O("InvalidChar","char '&' is not expected.",D(d,E));E=$}else if(S===!0&&!c(d[E]))return O("InvalidXml","Extra text at the end",D(d,E));d[E]==="<"&&E--}}}return P?g.length==1?O("InvalidTag","Unclosed tag '"+g[0].tagName+"'.",D(d,g[0].tagStartPos)):!(g.length>0)||O("InvalidXml","Invalid '"+JSON.stringify(g.map(E=>E.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):O("InvalidXml","Start tag expected.",1)}function c(d){return d===" "||d==="	"||d===`
`||d==="\r"}function l(d,u){let g=u;for(;u<d.length;u++)if(!(d[u]!="?"&&d[u]!=" ")){let P=d.substr(g,u-g);if(u>5&&P==="xml")return O("InvalidXml","XML declaration allowed only at the start of the document.",D(d,u));if(d[u]=="?"&&d[u+1]==">"){u++;break}}return u}function m(d,u){if(d.length>u+5&&d[u+1]==="-"&&d[u+2]==="-"){for(u+=3;u<d.length;u++)if(d[u]==="-"&&d[u+1]==="-"&&d[u+2]===">"){u+=2;break}}else if(d.length>u+8&&d[u+1]==="D"&&d[u+2]==="O"&&d[u+3]==="C"&&d[u+4]==="T"&&d[u+5]==="Y"&&d[u+6]==="P"&&d[u+7]==="E"){let g=1;for(u+=8;u<d.length;u++)if(d[u]==="<")g++;else if(d[u]===">"&&(g--,g===0))break}else if(d.length>u+9&&d[u+1]==="["&&d[u+2]==="C"&&d[u+3]==="D"&&d[u+4]==="A"&&d[u+5]==="T"&&d[u+6]==="A"&&d[u+7]==="["){for(u+=8;u<d.length;u++)if(d[u]==="]"&&d[u+1]==="]"&&d[u+2]===">"){u+=2;break}}return u}let f='"',h="'";function y(d,u){let g="",P="",S=!1;for(;u<d.length;u++){if(d[u]===f||d[u]===h)P===""?P=d[u]:P!==d[u]||(P="");else if(d[u]===">"&&P===""){S=!0;break}g+=d[u]}return P===""&&{value:g,index:u,tagClosed:S}}let v=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function w(d,u){let g=i(d,v),P={};for(let S=0;S<g.length;S++){if(g[S][1].length===0)return O("InvalidAttr","Attribute '"+g[S][2]+"' has no space in starting.",U(g[S]));if(g[S][3]!==void 0&&g[S][4]===void 0)return O("InvalidAttr","Attribute '"+g[S][2]+"' is without value.",U(g[S]));if(g[S][3]===void 0&&!u.allowBooleanAttributes)return O("InvalidAttr","boolean attribute '"+g[S][2]+"' is not allowed.",U(g[S]));let E=g[S][2];if(!T(E))return O("InvalidAttr","Attribute '"+E+"' is an invalid name.",U(g[S]));if(P.hasOwnProperty(E))return O("InvalidAttr","Attribute '"+E+"' is repeated.",U(g[S]));P[E]=1}return!0}function x(d,u){if(d[++u]===";")return-1;if(d[u]==="#")return function(P,S){let E=/\d/;for(P[S]==="x"&&(S++,E=/[\da-fA-F]/);S<P.length;S++){if(P[S]===";")return S;if(!P[S].match(E))break}return-1}(d,++u);let g=0;for(;u<d.length;u++,g++)if(!(d[u].match(/\w/)&&g<20)){if(d[u]===";")break;return-1}return u}function O(d,u,g){return{err:{code:d,msg:u,line:g.line||g,col:g.col}}}function T(d){return o(d)}function D(d,u){let g=d.substring(0,u).split(/\r?\n/);return{line:g.length,col:g[g.length-1].length+1}}function U(d){return d.startIndex+d[1].length}let L={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(d,u){return u},attributeValueProcessor:function(d,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(d,u,g){return d},captureMetaData:!1},H;H=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Ve{constructor(u){this.tagname=u,this.child=[],this[":@"]={}}add(u,g){u==="__proto__"&&(u="#__proto__"),this.child.push({[u]:g})}addChild(u,g){u.tagname==="__proto__"&&(u.tagname="#__proto__"),u[":@"]&&Object.keys(u[":@"]).length>0?this.child.push({[u.tagname]:u.child,":@":u[":@"]}):this.child.push({[u.tagname]:u.child}),g!==void 0&&(this.child[this.child.length-1][H]={startIndex:g})}static getMetaDataSymbol(){return H}}function Ge(d,u){let g={};if(d[u+3]!=="O"||d[u+4]!=="C"||d[u+5]!=="T"||d[u+6]!=="Y"||d[u+7]!=="P"||d[u+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{u+=9;let P=1,S=!1,E=!1,R="";for(;u<d.length;u++)if(d[u]!=="<"||E)if(d[u]===">"){if(E?d[u-1]==="-"&&d[u-2]==="-"&&(E=!1,P--):P--,P===0)break}else d[u]==="["?S=!0:R+=d[u];else{if(S&&Hr(d,"!ENTITY",u)){let A,I;u+=7,[A,I,u]=Pe(d,u+1),I.indexOf("&")===-1&&(g[A]={regx:RegExp(`&${A};`,"g"),val:I})}else if(S&&Hr(d,"!ELEMENT",u)){u+=8;let{index:A}=MR(d,u+1);u=A}else if(S&&Hr(d,"!ATTLIST",u))u+=8;else if(S&&Hr(d,"!NOTATION",u)){u+=9;let{index:A}=it(d,u+1);u=A}else{if(!Hr(d,"!--",u))throw new Error("Invalid DOCTYPE");E=!0}P++,R=""}if(P!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:u}}let ve=(d,u)=>{for(;u<d.length&&/\s/.test(d[u]);)u++;return u};function Pe(d,u){u=ve(d,u);let g="";for(;u<d.length&&!/\s/.test(d[u])&&d[u]!=='"'&&d[u]!=="'";)g+=d[u],u++;if(Nu(g),u=ve(d,u),d.substring(u,u+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(d[u]==="%")throw new Error("Parameter entities are not supported");let P="";return[u,P]=fn(d,u,"entity"),[g,P,--u]}function it(d,u){u=ve(d,u);let g="";for(;u<d.length&&!/\s/.test(d[u]);)g+=d[u],u++;Nu(g),u=ve(d,u);let P=d.substring(u,u+6).toUpperCase();if(P!=="SYSTEM"&&P!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${P}"`);u+=P.length,u=ve(d,u);let S=null,E=null;if(P==="PUBLIC")[u,S]=fn(d,u,"publicIdentifier"),d[u=ve(d,u)]!=='"'&&d[u]!=="'"||([u,E]=fn(d,u,"systemIdentifier"));else if(P==="SYSTEM"&&([u,E]=fn(d,u,"systemIdentifier"),!E))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:g,publicIdentifier:S,systemIdentifier:E,index:--u}}function fn(d,u,g){let P="",S=d[u];if(S!=='"'&&S!=="'")throw new Error(`Expected quoted string, found "${S}"`);for(u++;u<d.length&&d[u]!==S;)P+=d[u],u++;if(d[u]!==S)throw new Error(`Unterminated ${g} value`);return[++u,P]}function MR(d,u){u=ve(d,u);let g="";for(;u<d.length&&!/\s/.test(d[u]);)g+=d[u],u++;if(!Nu(g))throw new Error(`Invalid element name: "${g}"`);let P="";if(d[u=ve(d,u)]==="E"&&Hr(d,"MPTY",u))u+=4;else if(d[u]==="A"&&Hr(d,"NY",u))u+=2;else{if(d[u]!=="(")throw new Error(`Invalid Element Expression, found "${d[u]}"`);for(u++;u<d.length&&d[u]!==")";)P+=d[u],u++;if(d[u]!==")")throw new Error("Unterminated content model")}return{elementName:g,contentModel:P.trim(),index:u}}function Hr(d,u,g){for(let P=0;P<u.length;P++)if(u[P]!==d[g+P+1])return!1;return!0}function Nu(d){if(o(d))return d;throw new Error(`Invalid entity name ${d}`)}let kR=/^[-+]?0x[a-fA-F0-9]+$/,LR=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,FR={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},qR=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function ig(d){return typeof d=="function"?d:Array.isArray(d)?u=>{for(let g of d)if(typeof g=="string"&&u===g||g instanceof RegExp&&g.test(u))return!0}:()=>!1}class jR{constructor(u){this.options=u,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(g,P)=>String.fromCodePoint(Number.parseInt(P,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(g,P)=>String.fromCodePoint(Number.parseInt(P,16))}},this.addExternalEntities=UR,this.parseXml=VR,this.parseTextData=$R,this.resolveNameSpace=HR,this.buildAttributesMap=BR,this.isItStopNode=XR,this.replaceEntitiesValue=WR,this.readStopNodeData=JR,this.saveTextToParentTag=KR,this.addChild=GR,this.ignoreAttributesFn=ig(this.options.ignoreAttributes)}}function UR(d){let u=Object.keys(d);for(let g=0;g<u.length;g++){let P=u[g];this.lastEntities[P]={regex:new RegExp("&"+P+";","g"),val:d[P]}}}function $R(d,u,g,P,S,E,R){if(d!==void 0&&(this.options.trimValues&&!P&&(d=d.trim()),d.length>0)){R||(d=this.replaceEntitiesValue(d));let A=this.options.tagValueProcessor(u,d,g,S,E);return A==null?d:typeof A!=typeof d||A!==d?A:this.options.trimValues||d.trim()===d?og(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function HR(d){if(this.options.removeNSPrefix){let u=d.split(":"),g=d.charAt(0)==="/"?"/":"";if(u[0]==="xmlns")return"";u.length===2&&(d=g+u[1])}return d}let zR=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function BR(d,u,g){if(this.options.ignoreAttributes!==!0&&typeof d=="string"){let P=i(d,zR),S=P.length,E={};for(let R=0;R<S;R++){let A=this.resolveNameSpace(P[R][1]);if(this.ignoreAttributesFn(A,u))continue;let I=P[R][4],k=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(k=this.options.transformAttributeName(k)),k==="__proto__"&&(k="#__proto__"),I!==void 0){this.options.trimValues&&(I=I.trim()),I=this.replaceEntitiesValue(I);let z=this.options.attributeValueProcessor(A,I,u);E[k]=z==null?I:typeof z!=typeof I||z!==I?z:og(I,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(E[k]=!0)}if(!Object.keys(E).length)return;if(this.options.attributesGroupName){let R={};return R[this.options.attributesGroupName]=E,R}return E}}let VR=function(d){d=d.replace(/\r\n?/g,`
`);let u=new Ve("!xml"),g=u,P="",S="";for(let E=0;E<d.length;E++)if(d[E]==="<")if(d[E+1]==="/"){let R=zr(d,">",E,"Closing Tag is not closed."),A=d.substring(E+2,R).trim();if(this.options.removeNSPrefix){let z=A.indexOf(":");z!==-1&&(A=A.substr(z+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),g&&(P=this.saveTextToParentTag(P,g,S));let I=S.substring(S.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let k=0;I&&this.options.unpairedTags.indexOf(I)!==-1?(k=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=S.lastIndexOf("."),S=S.substring(0,k),g=this.tagsNodeStack.pop(),P="",E=R}else if(d[E+1]==="?"){let R=Du(d,E,!1,"?>");if(!R)throw new Error("Pi Tag is not closed.");if(P=this.saveTextToParentTag(P,g,S),!(this.options.ignoreDeclaration&&R.tagName==="?xml"||this.options.ignorePiTags)){let A=new Ve(R.tagName);A.add(this.options.textNodeName,""),R.tagName!==R.tagExp&&R.attrExpPresent&&(A[":@"]=this.buildAttributesMap(R.tagExp,S,R.tagName)),this.addChild(g,A,S,E)}E=R.closeIndex+1}else if(d.substr(E+1,3)==="!--"){let R=zr(d,"-->",E+4,"Comment is not closed.");if(this.options.commentPropName){let A=d.substring(E+4,R-2);P=this.saveTextToParentTag(P,g,S),g.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}E=R}else if(d.substr(E+1,2)==="!D"){let R=Ge(d,E);this.docTypeEntities=R.entities,E=R.i}else if(d.substr(E+1,2)==="!["){let R=zr(d,"]]>",E,"CDATA is not closed.")-2,A=d.substring(E+9,R);P=this.saveTextToParentTag(P,g,S);let I=this.parseTextData(A,g.tagname,S,!0,!1,!0,!0);I==null&&(I=""),this.options.cdataPropName?g.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):g.add(this.options.textNodeName,I),E=R+2}else{let R=Du(d,E,this.options.removeNSPrefix),A=R.tagName,I=R.rawTagName,k=R.tagExp,z=R.attrExpPresent,$=R.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),g&&P&&g.tagname!=="!xml"&&(P=this.saveTextToParentTag(P,g,S,!1));let ce=g;ce&&this.options.unpairedTags.indexOf(ce.tagname)!==-1&&(g=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),A!==u.tagname&&(S+=S?"."+A:A);let ge=E;if(this.isItStopNode(this.options.stopNodes,S,A)){let de="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),k=A):k=k.substr(0,k.length-1),E=R.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)E=R.closeIndex;else{let It=this.readStopNodeData(d,I,$+1);if(!It)throw new Error(`Unexpected end of ${I}`);E=It.i,de=It.tagContent}let Ne=new Ve(A);A!==k&&z&&(Ne[":@"]=this.buildAttributesMap(k,S,A)),de&&(de=this.parseTextData(de,A,S,!0,z,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),Ne.add(this.options.textNodeName,de),this.addChild(g,Ne,S,ge)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),k=A):k=k.substr(0,k.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));let de=new Ve(A);A!==k&&z&&(de[":@"]=this.buildAttributesMap(k,S,A)),this.addChild(g,de,S,ge),S=S.substr(0,S.lastIndexOf("."))}else{let de=new Ve(A);this.tagsNodeStack.push(g),A!==k&&z&&(de[":@"]=this.buildAttributesMap(k,S,A)),this.addChild(g,de,S,ge),g=de}P="",E=$}}else P+=d[E];return u.child};function GR(d,u,g,P){this.options.captureMetaData||(P=void 0);let S=this.options.updateTag(u.tagname,g,u[":@"]);S===!1||(typeof S=="string"&&(u.tagname=S),d.addChild(u,P))}let WR=function(d){if(this.options.processEntities){for(let u in this.docTypeEntities){let g=this.docTypeEntities[u];d=d.replace(g.regx,g.val)}for(let u in this.lastEntities){let g=this.lastEntities[u];d=d.replace(g.regex,g.val)}if(this.options.htmlEntities)for(let u in this.htmlEntities){let g=this.htmlEntities[u];d=d.replace(g.regex,g.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function KR(d,u,g,P){return d&&(P===void 0&&(P=u.child.length===0),(d=this.parseTextData(d,u.tagname,g,!1,!!u[":@"]&&Object.keys(u[":@"]).length!==0,P))!==void 0&&d!==""&&u.add(this.options.textNodeName,d),d=""),d}function XR(d,u,g){let P="*."+g;for(let S in d){let E=d[S];if(P===E||u===E)return!0}return!1}function zr(d,u,g,P){let S=d.indexOf(u,g);if(S===-1)throw new Error(P);return S+u.length-1}function Du(d,u,g,P=">"){let S=function($,ce,ge=">"){let de,Ne="";for(let It=ce;It<$.length;It++){let mr=$[It];if(de)mr===de&&(de="");else if(mr==='"'||mr==="'")de=mr;else if(mr===ge[0]){if(!ge[1])return{data:Ne,index:It};if($[It+1]===ge[1])return{data:Ne,index:It}}else mr==="	"&&(mr=" ");Ne+=mr}}(d,u+1,P);if(!S)return;let E=S.data,R=S.index,A=E.search(/\s/),I=E,k=!0;A!==-1&&(I=E.substring(0,A),E=E.substring(A+1).trimStart());let z=I;if(g){let $=I.indexOf(":");$!==-1&&(I=I.substr($+1),k=I!==S.data.substr($+1))}return{tagName:I,tagExp:E,closeIndex:R,attrExpPresent:k,rawTagName:z}}function JR(d,u,g){let P=g,S=1;for(;g<d.length;g++)if(d[g]==="<")if(d[g+1]==="/"){let E=zr(d,">",g,`${u} is not closed`);if(d.substring(g+2,E).trim()===u&&(S--,S===0))return{tagContent:d.substring(P,g),i:E};g=E}else if(d[g+1]==="?")g=zr(d,"?>",g+1,"StopNode is not closed.");else if(d.substr(g+1,3)==="!--")g=zr(d,"-->",g+3,"StopNode is not closed.");else if(d.substr(g+1,2)==="![")g=zr(d,"]]>",g,"StopNode is not closed.")-2;else{let E=Du(d,g,">");E&&((E&&E.tagName)===u&&E.tagExp[E.tagExp.length-1]!=="/"&&S++,g=E.closeIndex)}}function og(d,u,g){if(u&&typeof d=="string"){let P=d.trim();return P==="true"||P!=="false"&&function(S,E={}){if(E=Object.assign({},FR,E),!S||typeof S!="string")return S;let R=S.trim();if(E.skipLike!==void 0&&E.skipLike.test(R))return S;if(S==="0")return 0;if(E.hex&&kR.test(R))return function(I){if(parseInt)return parseInt(I,16);if(Number.parseInt)return Number.parseInt(I,16);if(window&&window.parseInt)return window.parseInt(I,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(R);if(R.search(/.+[eE].+/)!==-1)return function(I,k,z){if(!z.eNotation)return I;let $=k.match(qR);if($){let ce=$[1]||"",ge=$[3].indexOf("e")===-1?"E":"e",de=$[2],Ne=ce?I[de.length+1]===ge:I[de.length]===ge;return de.length>1&&Ne?I:de.length!==1||!$[3].startsWith(`.${ge}`)&&$[3][0]!==ge?z.leadingZeros&&!Ne?(k=($[1]||"")+$[3],Number(k)):I:Number(k)}return I}(S,R,E);{let I=LR.exec(R);if(I){let k=I[1]||"",z=I[2],$=((A=I[3])&&A.indexOf(".")!==-1&&((A=A.replace(/0+$/,""))==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substring(0,A.length-1))),A),ce=k?S[z.length+1]===".":S[z.length]===".";if(!E.leadingZeros&&(z.length>1||z.length===1&&!ce))return S;{let ge=Number(R),de=String(ge);if(ge===0||ge===-0)return ge;if(de.search(/[eE]/)!==-1)return E.eNotation?ge:S;if(R.indexOf(".")!==-1)return de==="0"||de===$||de===`${k}${$}`?ge:S;let Ne=z?$:R;return z?Ne===de||k+Ne===de?ge:S:Ne===de||Ne===k+de?ge:S}}return S}var A}(d,g)}return d!==void 0?d:""}let Mu=Ve.getMetaDataSymbol();function YR(d,u){return sg(d,u)}function sg(d,u,g){let P,S={};for(let E=0;E<d.length;E++){let R=d[E],A=QR(R),I="";if(I=g===void 0?A:g+"."+A,A===u.textNodeName)P===void 0?P=R[A]:P+=""+R[A];else{if(A===void 0)continue;if(R[A]){let k=sg(R[A],u,I),z=eT(k,u);R[Mu]!==void 0&&(k[Mu]=R[Mu]),R[":@"]?ZR(k,R[":@"],I,u):Object.keys(k).length!==1||k[u.textNodeName]===void 0||u.alwaysCreateTextNode?Object.keys(k).length===0&&(u.alwaysCreateTextNode?k[u.textNodeName]="":k=""):k=k[u.textNodeName],S[A]!==void 0&&S.hasOwnProperty(A)?(Array.isArray(S[A])||(S[A]=[S[A]]),S[A].push(k)):u.isArray(A,I,z)?S[A]=[k]:S[A]=k}}}return typeof P=="string"?P.length>0&&(S[u.textNodeName]=P):P!==void 0&&(S[u.textNodeName]=P),S}function QR(d){let u=Object.keys(d);for(let g=0;g<u.length;g++){let P=u[g];if(P!==":@")return P}}function ZR(d,u,g,P){if(u){let S=Object.keys(u),E=S.length;for(let R=0;R<E;R++){let A=S[R];P.isArray(A,g+"."+A,!0,!0)?d[A]=[u[A]]:d[A]=u[A]}}}function eT(d,u){let{textNodeName:g}=u,P=Object.keys(d).length;return P===0||!(P!==1||!d[g]&&typeof d[g]!="boolean"&&d[g]!==0)}class tT{constructor(u){this.externalEntities={},this.options=function(g){return Object.assign({},L,g)}(u)}parse(u,g){if(typeof u!="string"){if(!u.toString)throw new Error("XML data is accepted in String or Bytes[] form.");u=u.toString()}if(g){g===!0&&(g={});let E=a(u,g);if(E!==!0)throw Error(`${E.err.msg}:${E.err.line}:${E.err.col}`)}let P=new jR(this.options);P.addExternalEntities(this.externalEntities);let S=P.parseXml(u);return this.options.preserveOrder||S===void 0?S:YR(S,this.options)}addEntity(u,g){if(g.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(u.indexOf("&")!==-1||u.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(g==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[u]=g}static getMetaDataSymbol(){return Ve.getMetaDataSymbol()}}function rT(d,u){let g="";return u.format&&u.indentBy.length>0&&(g=`
`),ag(d,u,"",g)}function ag(d,u,g,P){let S="",E=!1;for(let R=0;R<d.length;R++){let A=d[R],I=nT(A);if(I===void 0)continue;let k="";if(k=g.length===0?I:`${g}.${I}`,I===u.textNodeName){let ge=A[I];iT(k,u)||(ge=u.tagValueProcessor(I,ge),ge=lg(ge,u)),E&&(S+=P),S+=ge,E=!1;continue}if(I===u.cdataPropName){E&&(S+=P),S+=`<![CDATA[${A[I][0][u.textNodeName]}]]>`,E=!1;continue}if(I===u.commentPropName){S+=P+`<!--${A[I][0][u.textNodeName]}-->`,E=!0;continue}if(I[0]==="?"){let ge=cg(A[":@"],u),de=I==="?xml"?"":P,Ne=A[I][0][u.textNodeName];Ne=Ne.length!==0?" "+Ne:"",S+=de+`<${I}${Ne}${ge}?>`,E=!0;continue}let z=P;z!==""&&(z+=u.indentBy);let $=P+`<${I}${cg(A[":@"],u)}`,ce=ag(A[I],u,k,z);u.unpairedTags.indexOf(I)!==-1?u.suppressUnpairedNode?S+=$+">":S+=$+"/>":ce&&ce.length!==0||!u.suppressEmptyNode?ce&&ce.endsWith(">")?S+=$+`>${ce}${P}</${I}>`:(S+=$+">",ce&&P!==""&&(ce.includes("/>")||ce.includes("</"))?S+=P+u.indentBy+ce+P:S+=ce,S+=`</${I}>`):S+=$+"/>",E=!0}return S}function nT(d){let u=Object.keys(d);for(let g=0;g<u.length;g++){let P=u[g];if(d.hasOwnProperty(P)&&P!==":@")return P}}function cg(d,u){let g="";if(d&&!u.ignoreAttributes)for(let P in d){if(!d.hasOwnProperty(P))continue;let S=u.attributeValueProcessor(P,d[P]);S=lg(S,u),S===!0&&u.suppressBooleanAttributes?g+=` ${P.substr(u.attributeNamePrefix.length)}`:g+=` ${P.substr(u.attributeNamePrefix.length)}="${S}"`}return g}function iT(d,u){let g=(d=d.substr(0,d.length-u.textNodeName.length-1)).substr(d.lastIndexOf(".")+1);for(let P in u.stopNodes)if(u.stopNodes[P]===d||u.stopNodes[P]==="*."+g)return!0;return!1}function lg(d,u){if(d&&d.length>0&&u.processEntities)for(let g=0;g<u.entities.length;g++){let P=u.entities[g];d=d.replace(P.regex,P.val)}return d}let oT={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,u){return u},attributeValueProcessor:function(d,u){return u},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function pr(d){this.options=Object.assign({},oT,d),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=ig(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=cT),this.processTextOrObjNode=sT,this.options.format?(this.indentate=aT,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function sT(d,u,g,P){let S=this.j2x(d,g+1,P.concat(u));return d[this.options.textNodeName]!==void 0&&Object.keys(d).length===1?this.buildTextValNode(d[this.options.textNodeName],u,S.attrStr,g):this.buildObjectNode(S.val,u,S.attrStr,g)}function aT(d){return this.options.indentBy.repeat(d)}function cT(d){return!(!d.startsWith(this.options.attributeNamePrefix)||d===this.options.textNodeName)&&d.substr(this.attrPrefixLen)}pr.prototype.build=function(d){return this.options.preserveOrder?rT(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0,[]).val)},pr.prototype.j2x=function(d,u,g){let P="",S="",E=g.join(".");for(let R in d)if(Object.prototype.hasOwnProperty.call(d,R))if(d[R]===void 0)this.isAttribute(R)&&(S+="");else if(d[R]===null)this.isAttribute(R)||R===this.options.cdataPropName?S+="":R[0]==="?"?S+=this.indentate(u)+"<"+R+"?"+this.tagEndChar:S+=this.indentate(u)+"<"+R+"/"+this.tagEndChar;else if(d[R]instanceof Date)S+=this.buildTextValNode(d[R],R,"",u);else if(typeof d[R]!="object"){let A=this.isAttribute(R);if(A&&!this.ignoreAttributesFn(A,E))P+=this.buildAttrPairStr(A,""+d[R]);else if(!A)if(R===this.options.textNodeName){let I=this.options.tagValueProcessor(R,""+d[R]);S+=this.replaceEntitiesValue(I)}else S+=this.buildTextValNode(d[R],R,"",u)}else if(Array.isArray(d[R])){let A=d[R].length,I="",k="";for(let z=0;z<A;z++){let $=d[R][z];if($!==void 0)if($===null)R[0]==="?"?S+=this.indentate(u)+"<"+R+"?"+this.tagEndChar:S+=this.indentate(u)+"<"+R+"/"+this.tagEndChar;else if(typeof $=="object")if(this.options.oneListGroup){let ce=this.j2x($,u+1,g.concat(R));I+=ce.val,this.options.attributesGroupName&&$.hasOwnProperty(this.options.attributesGroupName)&&(k+=ce.attrStr)}else I+=this.processTextOrObjNode($,R,u,g);else if(this.options.oneListGroup){let ce=this.options.tagValueProcessor(R,$);ce=this.replaceEntitiesValue(ce),I+=ce}else I+=this.buildTextValNode($,R,"",u)}this.options.oneListGroup&&(I=this.buildObjectNode(I,R,k,u)),S+=I}else if(this.options.attributesGroupName&&R===this.options.attributesGroupName){let A=Object.keys(d[R]),I=A.length;for(let k=0;k<I;k++)P+=this.buildAttrPairStr(A[k],""+d[R][A[k]])}else S+=this.processTextOrObjNode(d[R],R,u,g);return{attrStr:P,val:S}},pr.prototype.buildAttrPairStr=function(d,u){return u=this.options.attributeValueProcessor(d,""+u),u=this.replaceEntitiesValue(u),this.options.suppressBooleanAttributes&&u==="true"?" "+d:" "+d+'="'+u+'"'},pr.prototype.buildObjectNode=function(d,u,g,P){if(d==="")return u[0]==="?"?this.indentate(P)+"<"+u+g+"?"+this.tagEndChar:this.indentate(P)+"<"+u+g+this.closeTag(u)+this.tagEndChar;{let S="</"+u+this.tagEndChar,E="";return u[0]==="?"&&(E="?",S=""),!g&&g!==""||d.indexOf("<")!==-1?this.options.commentPropName!==!1&&u===this.options.commentPropName&&E.length===0?this.indentate(P)+`<!--${d}-->`+this.newLine:this.indentate(P)+"<"+u+g+E+this.tagEndChar+d+this.indentate(P)+S:this.indentate(P)+"<"+u+g+E+">"+d+S}},pr.prototype.closeTag=function(d){let u="";return this.options.unpairedTags.indexOf(d)!==-1?this.options.suppressUnpairedNode||(u="/"):u=this.options.suppressEmptyNode?"/":`></${d}`,u},pr.prototype.buildTextValNode=function(d,u,g,P){if(this.options.cdataPropName!==!1&&u===this.options.cdataPropName)return this.indentate(P)+`<![CDATA[${d}]]>`+this.newLine;if(this.options.commentPropName!==!1&&u===this.options.commentPropName)return this.indentate(P)+`<!--${d}-->`+this.newLine;if(u[0]==="?")return this.indentate(P)+"<"+u+g+"?"+this.tagEndChar;{let S=this.options.tagValueProcessor(u,d);return S=this.replaceEntitiesValue(S),S===""?this.indentate(P)+"<"+u+g+this.closeTag(u)+this.tagEndChar:this.indentate(P)+"<"+u+g+">"+S+"</"+u+this.tagEndChar}},pr.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let u=0;u<this.options.entities.length;u++){let g=this.options.entities[u];d=d.replace(g.regex,g.val)}return d};let lT={validate:a};uE.exports=t})()});var _E=C((WQ,gE)=>{"use strict";var Vl=Object.defineProperty,U1=Object.getOwnPropertyDescriptor,$1=Object.getOwnPropertyNames,H1=Object.prototype.hasOwnProperty,Gl=(e,t)=>Vl(e,"name",{value:t,configurable:!0}),z1=(e,t)=>{for(var r in t)Vl(e,r,{get:t[r],enumerable:!0})},B1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $1(t))!H1.call(e,i)&&i!==r&&Vl(e,i,{get:()=>t[i],enumerable:!(n=U1(t,i))||n.enumerable});return e},V1=e=>B1(Vl({},"__esModule",{value:!0}),e),pE={};z1(pE,{XmlNode:()=>G1,XmlText:()=>hE});gE.exports=V1(pE);function mE(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Gl(mE,"escapeAttribute");function fE(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Gl(fE,"escapeElement");var Ps,hE=(Ps=class{constructor(t){this.value=t}toString(){return fE(""+this.value)}},(()=>{Gl(Ps,"XmlText")})(),Ps),xr,G1=(xr=class{constructor(t,r=[]){b(this,"attributes",{});this.name=t,this.children=r}static of(t,r,n){let i=new xr(t);return r!==void 0&&i.addChildNode(new hE(r)),n!==void 0&&i.withName(n),i}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let i=xr.of(r,t[r]).withName(n);this.c(i)}}l(t,r,n,i){t[r]!=null&&i().map(s=>{s.withName(n),this.c(s)})}lc(t,r,n,i){if(t[r]!=null){let o=i(),s=new xr(n);o.map(a=>{s.c(a)}),this.c(s)}}toString(){let t=Boolean(this.children.length),r=`<${this.name}`,n=this.attributes;for(let i of Object.keys(n)){let o=n[i];o!=null&&(r+=` ${i}="${mE(""+o)}"`)}return r+=t?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}},(()=>{Gl(xr,"XmlNode")})(),xr)});var DE=C((KQ,NE)=>{"use strict";var Kl=Object.defineProperty,W1=Object.getOwnPropertyDescriptor,K1=Object.getOwnPropertyNames,X1=Object.prototype.hasOwnProperty,le=(e,t)=>Kl(e,"name",{value:t,configurable:!0}),J1=(e,t)=>{for(var r in t)Kl(e,r,{get:t[r],enumerable:!0})},Y1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of K1(t))!X1.call(e,i)&&i!==r&&Kl(e,i,{get:()=>t[i],enumerable:!(n=W1(t,i))||n.enumerable});return e},Q1=e=>Y1(Kl({},"__esModule",{value:!0}),e),bE={};J1(bE,{AwsEc2QueryProtocol:()=>xq,AwsJson1_0Protocol:()=>pq,AwsJson1_1Protocol:()=>mq,AwsJsonRpcProtocol:()=>_m,AwsQueryProtocol:()=>xE,AwsRestJsonProtocol:()=>hq,AwsRestXmlProtocol:()=>Dq,JsonCodec:()=>gm,JsonShapeDeserializer:()=>CE,JsonShapeSerializer:()=>AE,XmlCodec:()=>IE,XmlShapeDeserializer:()=>Sm,XmlShapeSerializer:()=>TE,_toBool:()=>eq,_toNum:()=>tq,_toStr:()=>Z1,awsExpectUnion:()=>_q,loadRestJsonErrorCode:()=>hm,loadRestXmlErrorCode:()=>RE,parseJsonBody:()=>fm,parseJsonErrorBody:()=>aq,parseXmlBody:()=>OE,parseXmlErrorBody:()=>Iq});NE.exports=Q1(bE);var Z1=le(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),eq=le(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),tq=le(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),rq=Xt(),kn=Le(),nq=Ss(),xs,tn=(xs=class{constructor(){b(this,"serdeContext")}setSerdeContext(t){this.serdeContext=t}},(()=>{le(xs,"SerdeContextConfig")})(),xs),ws=Le(),Ln=lt(),iq=Ke(),oq=lt();function PE(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new oq.NumericValue(n,"bigDecimal"):BigInt(n)}return t}le(PE,"jsonReviver");var sq=ie(),wE=le((e,t)=>(0,sq.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),fm=le((e,t)=>wE(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),aq=le(async(e,t)=>{let r=await fm(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),hm=le((e,t)=>{let r=le((o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=le(o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),i=r(e.headers,"x-amzn-errortype");if(i!==void 0)return n(e.headers[i]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}},"loadRestJsonErrorCode"),Os,CE=(Os=class extends tn{constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,PE):await fm(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",i=ws.NormalizedSchema.of(t);if(i.isListSchema()&&Array.isArray(r)){let s=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(s,l));return a}else if(i.isMapSchema()&&n){let s=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,m]of Object.entries(r))(c||m!=null)&&(a[l]=this._read(s,m));return a}else if(i.isStructSchema()&&n){let s={};for(let[a,c]of i.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,m=this._read(c,r[l]);m!=null&&(s[a]=m)}return s}if(i.isBlobSchema()&&typeof r=="string")return(0,iq.fromBase64)(r);let o=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Ln.LazyJsonString.from(r);if(i.isTimestampSchema()){let s=this.settings.timestampFormat;switch(s.useTrait?i.getSchema()===ws.SCHEMA.TIMESTAMP_DEFAULT?s.default:i.getSchema()??s.default:s.default){case ws.SCHEMA.TIMESTAMP_DATE_TIME:return(0,Ln.parseRfc3339DateTimeWithOffset)(r);case ws.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,Ln.parseRfc7231DateTime)(r);case ws.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return(0,Ln.parseEpochTimestamp)(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(i.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(i.isBigDecimalSchema()&&r!=null)return r instanceof Ln.NumericValue?r:new Ln.NumericValue(String(r),"bigDecimal");if(i.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}},(()=>{le(Os,"JsonShapeDeserializer")})(),Os),Fn=Le(),cq=lt(),lq=lt(),dq=lt(),SE=String.fromCharCode(925),Rs,uq=(Rs=class{constructor(){b(this,"values",new Map);b(this,"counter",0);b(this,"stage",0)}createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof dq.NumericValue){let n=`${SE+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),i=`${SE+"b"+this.counter++}_`+n;return this.values.set(`"${i}"`,n),i}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}},(()=>{le(Rs,"JsonReplacer")})(),Rs),Ts,AE=(Ts=class extends tn{constructor(r){super();b(this,"buffer");b(this,"rootSchema");this.settings=r}write(r,n){this.rootSchema=Fn.NormalizedSchema.of(r),this.buffer=this._write(this.rootSchema,n)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let r=new uq;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(r,n,i){let o=n!==null&&typeof n=="object",s=Fn.NormalizedSchema.of(r);if(s.isListSchema()&&Array.isArray(n)){let c=s.getValueSchema(),l=[],m=!!s.getMergedTraits().sparse;for(let f of n)(m||f!=null)&&l.push(this._write(c,f));return l}else if(s.isMapSchema()&&o){let c=s.getValueSchema(),l={},m=!!s.getMergedTraits().sparse;for(let[f,h]of Object.entries(n))(m||h!=null)&&(l[f]=this._write(c,h));return l}else if(s.isStructSchema()&&o){let c={};for(let[l,m]of s.structIterator()){let f=this.settings.jsonName?m.getMergedTraits().jsonName??l:l,h=this._write(m,n[l],s);h!==void 0&&(c[f]=h)}return c}if(n===null&&i?.isStructSchema())return;if(s.isBlobSchema()&&(n instanceof Uint8Array||typeof n=="string")){if(s===this.rootSchema)return n;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(n)}if(s.isTimestampSchema()&&n instanceof Date){let c=this.settings.timestampFormat;switch(c.useTrait?s.getSchema()===Fn.SCHEMA.TIMESTAMP_DEFAULT?c.default:s.getSchema()??c.default:c.default){case Fn.SCHEMA.TIMESTAMP_DATE_TIME:return n.toISOString().replace(".000Z","Z");case Fn.SCHEMA.TIMESTAMP_HTTP_DATE:return(0,cq.dateToUtcString)(n);case Fn.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return n.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",n),n.getTime()/1e3}}if(s.isNumericSchema()&&typeof n=="number"&&(Math.abs(n)===1/0||isNaN(n)))return String(n);let a=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof n=="string"&&a&&(a==="application/json"||a.endsWith("+json"))?lq.LazyJsonString.from(n):n}},(()=>{le(Ts,"JsonShapeSerializer")})(),Ts),Is,gm=(Is=class extends tn{constructor(t){super(),this.settings=t}createSerializer(){let t=new AE(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new CE(this.settings);return t.setSerdeContext(this.serdeContext),t}},(()=>{le(Is,"JsonCodec")})(),Is),Ns,_m=(Ns=class extends rq.RpcProtocol{constructor({defaultNamespace:r}){super({defaultNamespace:r});b(this,"serializer");b(this,"deserializer");b(this,"codec");this.codec=new gm({timestampFormat:{useTrait:!0,default:kn.SCHEMA.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(r,n,i){let o=await super.serializeRequest(r,n,i);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+kn.NormalizedSchema.of(r).getName()}),((0,kn.deref)(r.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,nq.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(r,n,i,o,s){let a=hm(i,o)??"Unknown",c=this.options.defaultNamespace,l=a;a.includes("#")&&([c,l]=a.split("#"));let m=kn.TypeRegistry.for(c),f;try{f=m.getSchema(a)}catch{let O=kn.TypeRegistry.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(O){let T=O.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let h=kn.NormalizedSchema.of(f),y=o.message??o.Message??"Unknown",v=new f.ctor(y);await this.deserializeHttpMessage(f,n,i,o);let w={};for(let[x,O]of h.structIterator()){let T=O.getMergedTraits().jsonName??x;w[x]=this.codec.createDeserializer().readObject(O,o[T])}throw Object.assign(v,{$metadata:s,$response:i,$fault:h.getMergedTraits().error,message:y,...w}),v}},(()=>{le(Ns,"AwsJsonRpcProtocol")})(),Ns),Ds,pq=(Ds=class extends _m{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}},(()=>{le(Ds,"AwsJson1_0Protocol")})(),Ds),Ms,mq=(Ms=class extends _m{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}},(()=>{le(Ms,"AwsJson1_1Protocol")})(),Ms),dm=Xt(),Cs=Le(),fq=Ss(),ks,hq=(ks=class extends dm.HttpBindingProtocol{constructor({defaultNamespace:r}){super({defaultNamespace:r});b(this,"serializer");b(this,"deserializer");b(this,"codec");let n={timestampFormat:{useTrait:!0,default:Cs.SCHEMA.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new gm(n),this.serializer=new dm.HttpInterceptingShapeSerializer(this.codec.createSerializer(),n),this.deserializer=new dm.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),n)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,n,i){let o=await super.serializeRequest(r,n,i),s=Cs.NormalizedSchema.of(r.input),a=s.getMemberSchemas();if(!o.headers["content-type"]){let c=Object.values(a).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(a).find(m=>{let{httpQuery:f,httpQueryParams:h,httpHeader:y,httpLabel:v,httpPrefixHeaders:w}=m.getMergedTraits();return!f&&!h&&!y&&!v&&w===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,fq.calculateBodyLength)(o.body))}catch{}return o}async handleError(r,n,i,o,s){let a=hm(i,o)??"Unknown",c=this.options.defaultNamespace,l=a;a.includes("#")&&([c,l]=a.split("#"));let m=Cs.TypeRegistry.for(c),f;try{f=m.getSchema(a)}catch{let O=Cs.TypeRegistry.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(O){let T=O.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let h=Cs.NormalizedSchema.of(f),y=o.message??o.Message??"Unknown",v=new f.ctor(y);await this.deserializeHttpMessage(f,n,i,o);let w={};for(let[x,O]of h.structIterator()){let T=O.getMergedTraits().jsonName??x;w[x]=this.codec.createDeserializer().readObject(O,o[T])}throw Object.assign(v,{$metadata:s,$response:i,$fault:h.getMergedTraits().error,message:y,...w}),v}},(()=>{le(ks,"AwsRestJsonProtocol")})(),ks),gq=ie(),_q=le(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,gq.expectUnion)(e)},"awsExpectUnion"),um=Xt(),Or=Le(),Sq=Ss(),vq=Xt(),vE=Le(),yq=ie(),Eq=Ue(),bq=lm(),Ls,Sm=(Ls=class extends tn{constructor(r){super();b(this,"stringDeserializer");this.settings=r,this.stringDeserializer=new vq.FromStringShapeDeserializer(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,n,i){let o=vE.NormalizedSchema.of(r),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(m=>!!m.getMemberTraits().eventPayload)){let m={},f=Object.keys(s)[0];return s[f].isBlobSchema()?m[f]=n:m[f]=this.read(s[f],n),m}let c=(this.serdeContext?.utf8Encoder??Eq.toUtf8)(n),l=this.parseXml(c);return this.readSchema(r,i?l[i]:l)}readSchema(r,n){let i=vE.NormalizedSchema.of(r),o=i.getMergedTraits();if(i.isListSchema()&&!Array.isArray(n))return this.readSchema(i,[n]);if(n==null)return n;if(typeof n=="object"){let s=!!o.sparse,a=!!o.xmlFlattened;if(i.isListSchema()){let l=i.getValueSchema(),m=[],f=l.getMergedTraits().xmlName??"member",h=a?n:(n[0]??n)[f],y=Array.isArray(h)?h:[h];for(let v of y)(v!=null||s)&&m.push(this.readSchema(l,v));return m}let c={};if(i.isMapSchema()){let l=i.getKeySchema(),m=i.getValueSchema(),f;a?f=Array.isArray(n)?n:[n]:f=Array.isArray(n.entry)?n.entry:[n.entry];let h=l.getMergedTraits().xmlName??"key",y=m.getMergedTraits().xmlName??"value";for(let v of f){let w=v[h],x=v[y];(x!=null||s)&&(c[w]=this.readSchema(m,x))}return c}if(i.isStructSchema()){for(let[l,m]of i.structIterator()){let f=m.getMergedTraits(),h=f.httpPayload?f.xmlName??m.getName():m.getMemberTraits().xmlName??l;n[h]!=null&&(c[l]=this.readSchema(m,n[h]))}return c}if(i.isDocumentSchema())return n;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${i.getName(!0)}`)}return i.isListSchema()?[]:i.isMapSchema()||i.isStructSchema()?{}:this.stringDeserializer.read(i,n)}parseXml(r){if(r.length){let n=new bq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:le((c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0,"tagValueProcessor")});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),(0,yq.getValueFromTextNode)(a)}return{}}},(()=>{le(Ls,"XmlShapeDeserializer")})(),Ls),pm=Xt(),Wl=Le(),Pq=lt(),wq=ie(),Cq=Ke(),Fs,Aq=(Fs=class extends tn{constructor(r){super();b(this,"buffer");this.settings=r}write(r,n,i=""){this.buffer===void 0&&(this.buffer="");let o=Wl.NormalizedSchema.of(r);if(i&&!i.endsWith(".")&&(i+="."),o.isBlobSchema())(typeof n=="string"||n instanceof Uint8Array)&&(this.writeKey(i),this.writeValue((this.serdeContext?.base64Encoder??Cq.toBase64)(n)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())n!=null&&(this.writeKey(i),this.writeValue(String(n)));else if(o.isBigIntegerSchema())n!=null&&(this.writeKey(i),this.writeValue(String(n)));else if(o.isBigDecimalSchema())n!=null&&(this.writeKey(i),this.writeValue(n instanceof Pq.NumericValue?n.string:String(n)));else if(o.isTimestampSchema()){if(n instanceof Date)switch(this.writeKey(i),(0,pm.determineTimestampFormat)(o,this.settings)){case Wl.SCHEMA.TIMESTAMP_DATE_TIME:this.writeValue(n.toISOString().replace(".000Z","Z"));break;case Wl.SCHEMA.TIMESTAMP_HTTP_DATE:this.writeValue((0,wq.dateToUtcString)(n));break;case Wl.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(n.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(n))if(n.length===0)this.settings.serializeEmptyLists&&(this.writeKey(i),this.writeValue(""));else{let s=o.getValueSchema(),a=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,c=1;for(let l of n){if(l==null)continue;let m=this.getKey("member",s.getMergedTraits().xmlName),f=a?`${i}${c}`:`${i}${m}.${c}`;this.write(s,l,f),++c}}}else if(o.isMapSchema()){if(n&&typeof n=="object"){let s=o.getKeySchema(),a=o.getValueSchema(),c=o.getMergedTraits().xmlFlattened,l=1;for(let[m,f]of Object.entries(n)){if(f==null)continue;let h=this.getKey("key",s.getMergedTraits().xmlName),y=c?`${i}${l}.${h}`:`${i}entry.${l}.${h}`,v=this.getKey("value",a.getMergedTraits().xmlName),w=c?`${i}${l}.${v}`:`${i}entry.${l}.${v}`;this.write(s,m,y),this.write(a,f,w),++l}}}else if(o.isStructSchema()){if(n&&typeof n=="object")for(let[s,a]of o.structIterator()){if(n[s]==null)continue;let c=this.getKey(s,a.getMergedTraits().xmlName),l=`${i}${c}`;this.write(a,n[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,n){let i=n??r;return this.settings.capitalizeKeys?i[0].toUpperCase()+i.slice(1):i}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${(0,pm.extendedEncodeURIComponent)(r)}=`}writeValue(r){this.buffer+=(0,pm.extendedEncodeURIComponent)(r)}},(()=>{le(Fs,"QueryShapeSerializer")})(),Fs),qs,xE=(qs=class extends um.RpcProtocol{constructor(r){super({defaultNamespace:r.defaultNamespace});b(this,"serializer");b(this,"deserializer");this.options=r;let n={timestampFormat:{useTrait:!0,default:Or.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Aq(n),this.deserializer=new Sm(n)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,n,i){let o=await super.serializeRequest(r,n,i);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),((0,Or.deref)(r.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${r.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,Sq.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(r,n,i){let o=this.deserializer,s=Or.NormalizedSchema.of(r.output),a={};if(i.statusCode>=300){let f=await(0,um.collectBody)(i.body,n);f.byteLength>0&&Object.assign(a,await o.read(Or.SCHEMA.DOCUMENT,f)),await this.handleError(r,n,i,a,this.deserializeMetadata(i))}for(let f in i.headers){let h=i.headers[f];delete i.headers[f],i.headers[f.toLowerCase()]=h}let c=s.isStructSchema()&&this.useNestedResult()?r.name.split("#")[1]+"Result":void 0,l=await(0,um.collectBody)(i.body,n);return l.byteLength>0&&Object.assign(a,await o.read(s,l,c)),{$metadata:this.deserializeMetadata(i),...a}}useNestedResult(){return!0}async handleError(r,n,i,o,s){let a=this.loadQueryErrorCode(i,o)??"Unknown",c=this.options.defaultNamespace,l=a;a.includes("#")&&([c,l]=a.split("#"));let m=this.loadQueryError(o),f=Or.TypeRegistry.for(c),h;try{h=f.find(O=>Or.NormalizedSchema.of(O).getMergedTraits().awsQueryError?.[0]===l),h||(h=f.getSchema(a))}catch{let T=Or.TypeRegistry.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(T){let D=T.ctor;throw Object.assign(new D(l),m)}throw new Error(l)}let y=Or.NormalizedSchema.of(h),v=this.loadQueryErrorMessage(o),w=new h.ctor(v),x={};for(let[O,T]of y.structIterator()){let D=T.getMergedTraits().xmlName??O,U=m[D]??o[D];x[O]=this.deserializer.readSchema(T,U)}throw Object.assign(w,{$metadata:s,$response:i,$fault:y.getMergedTraits().error,message:v,...x}),w}loadQueryErrorCode(r,n){let i=(n.Errors?.[0]?.Error??n.Errors?.Error??n.Error)?.Code;if(i!==void 0)return i;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let n=this.loadQueryError(r);return n?.message??n?.Message??r.message??r.Message??"Unknown"}},(()=>{le(qs,"AwsQueryProtocol")})(),qs),js,xq=(js=class extends xE{constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}},(()=>{le(js,"AwsEc2QueryProtocol")})(),js),mm=Xt(),As=Le(),Oq=Ss(),Rq=ie(),Tq=lm(),OE=le((e,t)=>wE(e,t).then(r=>{if(r.length){let n=new Tq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:le((c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0,"tagValueProcessor")});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),(0,Rq.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),Iq=le(async(e,t)=>{let r=await OE(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),RE=le((e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode"),Lt=_E(),en=Le(),Nq=lt(),yE=ie(),EE=Ke(),Us,TE=(Us=class extends tn{constructor(r){super();b(this,"stringBuffer");b(this,"byteBuffer");b(this,"buffer");this.settings=r}write(r,n){let i=en.NormalizedSchema.of(r);if(i.isStringSchema()&&typeof n=="string")this.stringBuffer=n;else if(i.isBlobSchema())this.byteBuffer="byteLength"in n?n:(this.serdeContext?.base64Decoder??EE.fromBase64)(n);else{this.buffer=this.writeStruct(i,n,void 0);let o=i.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(i.getName())}}flush(){if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,n,i){let o=r.getMergedTraits(),s=r.isMemberSchema()&&!o.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():o.xmlName??r.getName();if(!s||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let a=Lt.XmlNode.of(s),[c,l]=this.getXmlnsAttribute(r,i);l&&a.addAttribute(c,l);for(let[m,f]of r.structIterator()){let h=n[m];if(h!=null){if(f.getMergedTraits().xmlAttribute){a.addAttribute(f.getMergedTraits().xmlName??m,this.writeSimple(f,h));continue}if(f.isListSchema())this.writeList(f,h,a,l);else if(f.isMapSchema())this.writeMap(f,h,a,l);else if(f.isStructSchema())a.addChildNode(this.writeStruct(f,h,l));else{let y=Lt.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,h,y,l),a.addChildNode(y)}}}return a}writeList(r,n,i,o){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let s=r.getMergedTraits(),a=r.getValueSchema(),c=a.getMergedTraits(),l=!!c.sparse,m=!!s.xmlFlattened,[f,h]=this.getXmlnsAttribute(r,o),y=le((v,w)=>{if(a.isListSchema())this.writeList(a,Array.isArray(w)?w:[w],v,h);else if(a.isMapSchema())this.writeMap(a,w,v,h);else if(a.isStructSchema()){let x=this.writeStruct(a,w,h);v.addChildNode(x.withName(m?s.xmlName??r.getMemberName():c.xmlName??"member"))}else{let x=Lt.XmlNode.of(m?s.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,w,x,h),v.addChildNode(x)}},"writeItem");if(m)for(let v of n)(l||v!=null)&&y(i,v);else{let v=Lt.XmlNode.of(s.xmlName??r.getMemberName());h&&v.addAttribute(f,h);for(let w of n)(l||w!=null)&&y(v,w);i.addChildNode(v)}}writeMap(r,n,i,o,s=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let a=r.getMergedTraits(),c=r.getKeySchema(),m=c.getMergedTraits().xmlName??"key",f=r.getValueSchema(),h=f.getMergedTraits(),y=h.xmlName??"value",v=!!h.sparse,w=!!a.xmlFlattened,[x,O]=this.getXmlnsAttribute(r,o),T=le((D,U,L)=>{let H=Lt.XmlNode.of(m,U),[Ve,Ge]=this.getXmlnsAttribute(c,O);Ge&&H.addAttribute(Ve,Ge),D.addChildNode(H);let ve=Lt.XmlNode.of(y);f.isListSchema()?this.writeList(f,L,ve,O):f.isMapSchema()?this.writeMap(f,L,ve,O,!0):f.isStructSchema()?ve=this.writeStruct(f,L,O):this.writeSimpleInto(f,L,ve,O),D.addChildNode(ve)},"addKeyValue");if(w){for(let[D,U]of Object.entries(n))if(v||U!=null){let L=Lt.XmlNode.of(a.xmlName??r.getMemberName());T(L,D,U),i.addChildNode(L)}}else{let D;s||(D=Lt.XmlNode.of(a.xmlName??r.getMemberName()),O&&D.addAttribute(x,O),i.addChildNode(D));for(let[U,L]of Object.entries(n))if(v||L!=null){let H=Lt.XmlNode.of("entry");T(H,U,L),(s?i:D).addChildNode(H)}}}writeSimple(r,n){if(n===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let i=en.NormalizedSchema.of(r),o=null;if(n&&typeof n=="object")if(i.isBlobSchema())o=(this.serdeContext?.base64Encoder??EE.toBase64)(n);else if(i.isTimestampSchema()&&n instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?i.getSchema()===en.SCHEMA.TIMESTAMP_DEFAULT?s.default:i.getSchema()??s.default:s.default){case en.SCHEMA.TIMESTAMP_DATE_TIME:o=n.toISOString().replace(".000Z","Z");break;case en.SCHEMA.TIMESTAMP_HTTP_DATE:o=(0,yE.dateToUtcString)(n);break;case en.SCHEMA.TIMESTAMP_EPOCH_SECONDS:o=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",n),o=(0,yE.dateToUtcString)(n);break}}else{if(i.isBigDecimalSchema()&&n)return n instanceof Nq.NumericValue?n.string:String(n);throw i.isMapSchema()||i.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${i.getName(!0)}`)}if((i.isStringSchema()||i.isBooleanSchema()||i.isNumericSchema()||i.isBigIntegerSchema()||i.isBigDecimalSchema())&&(o=String(n)),o===null)throw new Error(`Unhandled schema-value pair ${i.getName(!0)}=${n}`);return o}writeSimpleInto(r,n,i,o){let s=this.writeSimple(r,n),a=en.NormalizedSchema.of(r),c=new Lt.XmlText(s),[l,m]=this.getXmlnsAttribute(a,o);m&&i.addAttribute(l,m),i.addChildNode(c)}getXmlnsAttribute(r,n){let i=r.getMergedTraits(),[o,s]=i.xmlNamespace??[];return s&&s!==n?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}},(()=>{le(Us,"XmlShapeSerializer")})(),Us),$s,IE=($s=class extends tn{constructor(t){super(),this.settings=t}createSerializer(){let t=new TE(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Sm(this.settings);return t.setSerdeContext(this.serdeContext),t}},(()=>{le($s,"XmlCodec")})(),$s),Hs,Dq=(Hs=class extends mm.HttpBindingProtocol{constructor(r){super(r);b(this,"codec");b(this,"serializer");b(this,"deserializer");let n={timestampFormat:{useTrait:!0,default:As.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new IE(n),this.serializer=new mm.HttpInterceptingShapeSerializer(this.codec.createSerializer(),n),this.deserializer=new mm.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),n)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,n,i){let o=await super.serializeRequest(r,n,i),s=As.NormalizedSchema.of(r.input),a=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let c=Object.values(a).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(a).find(m=>{let{httpQuery:f,httpQueryParams:h,httpHeader:y,httpLabel:v,httpPrefixHeaders:w}=m.getMergedTraits();return!f&&!h&&!y&&!v&&w===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,Oq.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(r,n,i){return super.deserializeResponse(r,n,i)}async handleError(r,n,i,o,s){let a=RE(i,o)??"Unknown",c=this.options.defaultNamespace,l=a;a.includes("#")&&([c,l]=a.split("#"));let m=As.TypeRegistry.for(c),f;try{f=m.getSchema(a)}catch{let O=As.TypeRegistry.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(O){let T=O.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let h=As.NormalizedSchema.of(f),y=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",v=new f.ctor(y);await this.deserializeHttpMessage(f,n,i,o);let w={};for(let[x,O]of h.structIterator()){let T=O.getMergedTraits().xmlName??x,D=o.Error?.[T]??o[T];w[x]=this.codec.createDeserializer().readSchema(O,D)}throw Object.assign(v,{$metadata:s,$response:i,$fault:h.getMergedTraits().error,message:y,...w}),v}},(()=>{le(Hs,"AwsRestXmlProtocol")})(),Hs)});var Fe=C(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var vm=Jr();vm.__exportStar(Pt(),zs);vm.__exportStar(em(),zs);vm.__exportStar(DE(),zs)});var qn=C((JQ,VE)=>{"use strict";var Jl=Object.defineProperty,Mq=Object.getOwnPropertyDescriptor,kq=Object.getOwnPropertyNames,Lq=Object.prototype.hasOwnProperty,Qt=(e,t)=>Jl(e,"name",{value:t,configurable:!0}),Fq=(e,t)=>{for(var r in t)Jl(e,r,{get:t[r],enumerable:!0})},qq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kq(t))!Lq.call(e,i)&&i!==r&&Jl(e,i,{get:()=>t[i],enumerable:!(n=Mq(t,i))||n.enumerable});return e},jq=e=>qq(Jl({},"__esModule",{value:!0}),e),FE={};Fq(FE,{DEFAULT_UA_APP_ID:()=>qE,getUserAgentMiddlewareOptions:()=>BE,getUserAgentPlugin:()=>Wq,resolveUserAgentConfig:()=>UE,userAgentMiddleware:()=>zE});VE.exports=jq(FE);var Uq=et(),qE=void 0;function jE(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Qt(jE,"isValidUserAgentAppId");function UE(e){let t=(0,Uq.normalizeProvider)(e.userAgentAppId??qE),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Qt(async()=>{let n=await t();if(!jE(n)){let i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Qt(UE,"resolveUserAgentConfig");var $q=On(),Hq=be(),Ft=Fe(),zq=/\d{12}\.ddb/;async function $E(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Ft.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?(0,Ft.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Ft.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Ft.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(zq)&&(0,Ft.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Ft.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&(0,Ft.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))(0,Ft.setFeature)(e,s,a)}}Qt($E,"checkFeatures");var ME="user-agent",ym="x-amz-user-agent",kE=" ",Em="/",Bq=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Vq=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,LE="-",Gq=1024;function HE(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Gq){t.length?t+=","+n:t+=n;continue}break}return t}Qt(HE,"encodeFeatures");var zE=Qt(e=>(t,r)=>async n=>{let{request:i}=n;if(!Hq.HttpRequest.isInstance(i))return t(n);let{headers:o}=i,s=r?.userAgent?.map(Xl)||[],a=(await e.defaultUserAgentProvider()).map(Xl);await $E(r,e,n);let c=r;a.push(`m/${HE(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Xl)||[],m=await e.userAgentAppId();m&&a.push(Xl([`app/${m}`]));let f=(0,$q.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...s,...l]).join(kE),y=[...a.filter(v=>v.startsWith("aws-sdk-")),...l].join(kE);return e.runtime!=="browser"?(y&&(o[ym]=o[ym]?`${o[ME]} ${y}`:y),o[ME]=h):o[ym]=h,t({...n,request:i})},"userAgentMiddleware"),Xl=Qt(e=>{let t=e[0].split(Em).map(s=>s.replace(Bq,LE)).join(Em),r=e[1]?.replace(Vq,LE),n=t.indexOf(Em),i=t.substring(0,n),o=t.substring(n+1);return i==="api"&&(o=o.toLowerCase()),[i,o,r].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},"escapeUserAgent"),BE={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Wq=Qt(e=>({applyToStack:Qt(t=>{t.add(zE(e),BE)},"applyToStack")}),"getUserAgentPlugin")});var JE=C((YQ,XE)=>{var Yl=Object.defineProperty,Kq=Object.getOwnPropertyDescriptor,Xq=Object.getOwnPropertyNames,Jq=Object.prototype.hasOwnProperty,GE=(e,t)=>Yl(e,"name",{value:t,configurable:!0}),Yq=(e,t)=>{for(var r in t)Yl(e,r,{get:t[r],enumerable:!0})},Qq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Xq(t))!Jq.call(e,i)&&i!==r&&Yl(e,i,{get:()=>t[i],enumerable:!(n=Kq(t,i))||n.enumerable});return e},Zq=e=>Qq(Yl({},"__esModule",{value:!0}),e),WE={};Yq(WE,{SelectorType:()=>KE,booleanSelector:()=>ej,numberSelector:()=>tj});XE.exports=Zq(WE);var ej=GE((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),tj=GE((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),KE=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(KE||{})});var qt=C((QQ,ab)=>{var Zl=Object.defineProperty,rj=Object.getOwnPropertyDescriptor,nj=Object.getOwnPropertyNames,ij=Object.prototype.hasOwnProperty,wt=(e,t)=>Zl(e,"name",{value:t,configurable:!0}),oj=(e,t)=>{for(var r in t)Zl(e,r,{get:t[r],enumerable:!0})},sj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nj(t))!ij.call(e,i)&&i!==r&&Zl(e,i,{get:()=>t[i],enumerable:!(n=rj(t,i))||n.enumerable});return e},aj=e=>sj(Zl({},"__esModule",{value:!0}),e),ZE={};oj(ZE,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>tb,CONFIG_USE_FIPS_ENDPOINT:()=>nb,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>cj,DEFAULT_USE_FIPS_ENDPOINT:()=>dj,ENV_USE_DUALSTACK_ENDPOINT:()=>eb,ENV_USE_FIPS_ENDPOINT:()=>rb,NODE_REGION_CONFIG_FILE_OPTIONS:()=>gj,NODE_REGION_CONFIG_OPTIONS:()=>hj,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>lj,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>uj,REGION_ENV_NAME:()=>ib,REGION_INI_NAME:()=>ob,getRegionInfo:()=>Ej,resolveCustomEndpointsConfig:()=>pj,resolveEndpointsConfig:()=>fj,resolveRegionConfig:()=>_j});ab.exports=aj(ZE);var Rr=JE(),eb="AWS_USE_DUALSTACK_ENDPOINT",tb="use_dualstack_endpoint",cj=!1,lj={environmentVariableSelector:e=>(0,Rr.booleanSelector)(e,eb,Rr.SelectorType.ENV),configFileSelector:e=>(0,Rr.booleanSelector)(e,tb,Rr.SelectorType.CONFIG),default:!1},rb="AWS_USE_FIPS_ENDPOINT",nb="use_fips_endpoint",dj=!1,uj={environmentVariableSelector:e=>(0,Rr.booleanSelector)(e,rb,Rr.SelectorType.ENV),configFileSelector:e=>(0,Rr.booleanSelector)(e,nb,Rr.SelectorType.CONFIG),default:!1},Ql=ct(),pj=wt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:i}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ql.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ql.normalizeProvider)(i??!1)})},"resolveCustomEndpointsConfig"),mj=wt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),fj=wt(e=>{let t=(0,Ql.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:i,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?(0,Ql.normalizeProvider)(typeof r=="string"?i(r):r):()=>mj({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),ib="AWS_REGION",ob="region",hj={environmentVariableSelector:e=>e[ib],configFileSelector:e=>e[ob],default:()=>{throw new Error("Region is missing")}},gj={preferredFile:"credentials"},sb=wt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),YE=wt(e=>sb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),_j=wt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return YE(t);let n=await t();return YE(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return sb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),QE=wt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),Sj=wt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),vj=wt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),yj=wt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(i);if(o)return o[0].slice(1,-1)}},"getResolvedSigningRegion"),Ej=wt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:o})=>{let s=vj(e,{partitionHash:o}),a=e in i?e:o[s]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=QE(i[a]?.variants,c),m=QE(o[s]?.variants,c),f=Sj(a,{regionHostname:l,partitionHostname:m});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=yj(f,{signingRegion:i[a]?.signingRegion,regionRegex:o[s].regionRegex,useFipsEndpoint:t});return{partition:s,signingService:n,hostname:f,...h&&{signingRegion:h},...i[a]?.signingService&&{signingService:i[a].signingService}}},"getRegionInfo")});var Bs=C((ZQ,pb)=>{var ed=Object.defineProperty,bj=Object.getOwnPropertyDescriptor,Pj=Object.getOwnPropertyNames,wj=Object.prototype.hasOwnProperty,lb=(e,t)=>ed(e,"name",{value:t,configurable:!0}),Cj=(e,t)=>{for(var r in t)ed(e,r,{get:t[r],enumerable:!0})},Aj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pj(t))!wj.call(e,i)&&i!==r&&ed(e,i,{get:()=>t[i],enumerable:!(n=bj(t,i))||n.enumerable});return e},xj=e=>Aj(ed({},"__esModule",{value:!0}),e),db={};Cj(db,{contentLengthMiddleware:()=>bm,contentLengthMiddlewareOptions:()=>ub,getContentLengthPlugin:()=>Rj});pb.exports=xj(db);var Oj=be(),cb="content-length";function bm(e){return t=>async r=>{let n=r.request;if(Oj.HttpRequest.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(cb)===-1)try{let s=e(i);n.headers={...n.headers,[cb]:String(s)}}catch{}}return t({...r,request:n})}}lb(bm,"contentLengthMiddleware");var ub={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Rj=lb(e=>({applyToStack:t=>{t.add(bm(e.bodyLengthChecker),ub)}}),"getContentLengthPlugin")});var jn=C(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.getHomeDir=void 0;var Tj=require("os"),Ij=require("path"),Pm={},Nj=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Dj=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Ij.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let i=Nj();return Pm[i]||(Pm[i]=(0,Tj.homedir)()),Pm[i]};td.getHomeDir=Dj});var wm=C(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.getSSOTokenFilepath=void 0;var Mj=require("crypto"),kj=require("path"),Lj=jn(),Fj=e=>{let r=(0,Mj.createHash)("sha1").update(e).digest("hex");return(0,kj.join)((0,Lj.getHomeDir)(),".aws","sso","cache",`${r}.json`)};rd.getSSOTokenFilepath=Fj});var mb=C(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.getSSOTokenFromFile=void 0;var qj=require("fs"),jj=wm(),{readFile:Uj}=qj.promises,$j=async e=>{let t=(0,jj.getSSOTokenFilepath)(e),r=await Uj(t,"utf8");return JSON.parse(r)};nd.getSSOTokenFromFile=$j});var Am=C(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.slurpFile=void 0;var Hj=require("fs"),{readFile:zj}=Hj.promises,Cm={},Bj=(e,t)=>((!Cm[e]||t?.ignoreCache)&&(Cm[e]=zj(e,"utf8")),Cm[e]);id.slurpFile=Bj});var Tr=C((i9,Gs)=>{var ad=Object.defineProperty,Vj=Object.getOwnPropertyDescriptor,Gj=Object.getOwnPropertyNames,Wj=Object.prototype.hasOwnProperty,ut=(e,t)=>ad(e,"name",{value:t,configurable:!0}),Kj=(e,t)=>{for(var r in t)ad(e,r,{get:t[r],enumerable:!0})},xm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Gj(t))!Wj.call(e,i)&&i!==r&&ad(e,i,{get:()=>t[i],enumerable:!(n=Vj(t,i))||n.enumerable});return e},Rm=(e,t,r)=>(xm(e,t,"default"),r&&xm(r,t,"default")),Xj=e=>xm(ad({},"__esModule",{value:!0}),e),Vs={};Kj(Vs,{CONFIG_PREFIX_SEPARATOR:()=>rn,DEFAULT_PROFILE:()=>_b,ENV_PROFILE:()=>gb,getProfileName:()=>Jj,loadSharedConfigFiles:()=>vb,loadSsoSessionData:()=>lU,parseKnownFiles:()=>uU});Gs.exports=Xj(Vs);Rm(Vs,jn(),Gs.exports);var gb="AWS_PROFILE",_b="default",Jj=ut(e=>e.profile||process.env[gb]||_b,"getProfileName");Rm(Vs,wm(),Gs.exports);Rm(Vs,mb(),Gs.exports);var od=Br(),Yj=ut(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(rn);return r===-1?!1:Object.values(od.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let i=r.indexOf(rn),o=r.substring(0,i)===od.IniSectionType.PROFILE?r.substring(i+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),sd=require("path"),Qj=jn(),Zj="AWS_CONFIG_FILE",Sb=ut(()=>process.env[Zj]||(0,sd.join)((0,Qj.getHomeDir)(),".aws","config"),"getConfigFilepath"),eU=jn(),tU="AWS_SHARED_CREDENTIALS_FILE",rU=ut(()=>process.env[tU]||(0,sd.join)((0,eU.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),nU=jn(),iU=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,oU=["__proto__","profile __proto__"],Om=ut(e=>{let t={},r,n;for(let i of e.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=iU.exec(a);if(c){let[,l,,m]=c;Object.values(od.IniSectionType).includes(l)&&(r=[l,m].join(rn))}else r=a;if(oU.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),t[r]=t[r]||{};let m=n?[n,c].join(rn):c;t[r][m]=l}}}}return t},"parseIni"),fb=Am(),hb=ut(()=>({}),"swallowError"),rn=".",vb=ut(async(e={})=>{let{filepath:t=rU(),configFilepath:r=Sb()}=e,n=(0,nU.getHomeDir)(),i="~/",o=t;t.startsWith(i)&&(o=(0,sd.join)(n,t.slice(2)));let s=r;r.startsWith(i)&&(s=(0,sd.join)(n,r.slice(2)));let a=await Promise.all([(0,fb.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(Om).then(Yj).catch(hb),(0,fb.slurpFile)(o,{ignoreCache:e.ignoreCache}).then(Om).catch(hb)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),sU=ut(e=>Object.entries(e).filter(([t])=>t.startsWith(od.IniSectionType.SSO_SESSION+rn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(rn)+1)]:n}),{}),"getSsoSessionData"),aU=Am(),cU=ut(()=>({}),"swallowError"),lU=ut(async(e={})=>(0,aU.slurpFile)(e.configFilepath??Sb()).then(Om).then(sU).catch(cU),"loadSsoSessionData"),dU=ut((...e)=>{let t={};for(let r of e)for(let[n,i]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],i):t[n]=i;return t},"mergeConfigFiles"),uU=ut(async e=>{let t=await vb(e);return dU(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Ir=C((o9,bb)=>{var cd=Object.defineProperty,pU=Object.getOwnPropertyDescriptor,mU=Object.getOwnPropertyNames,fU=Object.prototype.hasOwnProperty,Un=(e,t)=>cd(e,"name",{value:t,configurable:!0}),hU=(e,t)=>{for(var r in t)cd(e,r,{get:t[r],enumerable:!0})},gU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mU(t))!fU.call(e,i)&&i!==r&&cd(e,i,{get:()=>t[i],enumerable:!(n=pU(t,i))||n.enumerable});return e},_U=e=>gU(cd({},"__esModule",{value:!0}),e),Eb={};hU(Eb,{loadConfig:()=>bU});bb.exports=_U(Eb);var Ws=Xe();function Tm(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Un(Tm,"getSelectorName");var SU=Un((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ws.CredentialsProviderError(r.message||`Not found in ENV: ${Tm(e.toString())}`,{logger:t?.logger})}},"fromEnv"),yb=Tr(),vU=Un((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,yb.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,yb.loadSharedConfigFiles)(r),s=o[n]||{},a=i[n]||{},c=t==="config"?{...s,...a}:{...a,...s};try{let m=e(c,t==="config"?i:o);if(m===void 0)throw new Error;return m}catch(l){throw new Ws.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Tm(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),yU=Un(e=>typeof e=="function","isFunction"),EU=Un(e=>yU(e)?async()=>await e():(0,Ws.fromStatic)(e),"fromStatic"),bU=Un(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:i,logger:o}=n,s={signingName:i,logger:o};return(0,Ws.memoize)((0,Ws.chain)(SU(e,s),vU(t,n),EU(r)))},"loadConfig")});var Ab=C(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.getEndpointUrlConfig=void 0;var Pb=Tr(),wb="AWS_ENDPOINT_URL",Cb="endpoint_url",PU=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[wb,...r].join("_")];if(n)return n;let i=t[wb];if(i)return i},configFileSelector:(t,r)=>{if(r&&t.services){let i=r[["services",t.services].join(Pb.CONFIG_PREFIX_SEPARATOR)];if(i){let o=e.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),Cb].join(Pb.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[Cb];if(n)return n},default:void 0});ld.getEndpointUrlConfig=PU});var Im=C(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.getEndpointFromConfig=void 0;var wU=Ir(),CU=Ab(),AU=async e=>(0,wU.loadConfig)((0,CU.getEndpointUrlConfig)(e??""))();dd.getEndpointFromConfig=AU});var Nr=C((c9,Db)=>{var pd=Object.defineProperty,xU=Object.getOwnPropertyDescriptor,OU=Object.getOwnPropertyNames,RU=Object.prototype.hasOwnProperty,pt=(e,t)=>pd(e,"name",{value:t,configurable:!0}),TU=(e,t)=>{for(var r in t)pd(e,r,{get:t[r],enumerable:!0})},IU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of OU(t))!RU.call(e,i)&&i!==r&&pd(e,i,{get:()=>t[i],enumerable:!(n=xU(t,i))||n.enumerable});return e},NU=e=>IU(pd({},"__esModule",{value:!0}),e),Ob={};TU(Ob,{endpointMiddleware:()=>Ib,endpointMiddlewareOptions:()=>Nb,getEndpointFromInstructions:()=>Rb,getEndpointPlugin:()=>zU,resolveEndpointConfig:()=>VU,resolveEndpointRequiredConfig:()=>GU,resolveParams:()=>Tb,toEndpointV1:()=>Nm});Db.exports=NU(Ob);var DU=pt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),qU(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!FU(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),MU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,kU=/(\d+\.){3}\d+/,LU=/\.\./,FU=pt(e=>MU.test(e)&&!kU.test(e)&&!LU.test(e),"isDnsCompatibleBucketName"),qU=pt(e=>{let[t,r,n,,,i]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,s=Boolean(o&&r&&n&&i);if(o&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),jU=pt((e,t,r)=>{let n=pt(async()=>{let i=r[e]??r[t];return typeof i=="function"?i():i},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:c}=i;return`${o}//${s}${a?":"+a:""}${c}`}}return i}:n},"createConfigValueProvider"),UU=Im(),xb=Pr(),Nm=pt(e=>typeof e=="object"?"url"in e?(0,xb.parseUrl)(e.url):e:(0,xb.parseUrl)(e),"toEndpointV1"),Rb=pt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let s;r.serviceConfiguredEndpoint?s=await r.serviceConfiguredEndpoint():s=await(0,UU.getEndpointFromConfig)(r.serviceId),s&&(r.endpoint=()=>Promise.resolve(Nm(s)),r.isCustomEndpoint=!0)}let i=await Tb(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},"getEndpointFromInstructions"),Tb=pt(async(e,t,r)=>{let n={},i=t?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":n[o]=s.value;break;case"contextParams":n[o]=e[s.name];break;case"clientContextParams":case"builtInParams":n[o]=await jU(s.name,o,r)();break;case"operationContextParams":n[o]=s.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await DU(n),n},"resolveParams"),$U=et(),ud=ct(),Ib=pt(({config:e,instructions:t})=>(r,n)=>async i=>{e.isCustomEndpoint&&(0,$U.setFeature)(n,"ENDPOINT_OVERRIDE","N");let o=await Rb(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;let c=(0,ud.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return r({...i})},"endpointMiddleware"),HU=hr(),Nb={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:HU.serializerMiddlewareOption.name},zU=pt((e,t)=>({applyToStack:r=>{r.addRelativeTo(Ib({config:e,instructions:t}),Nb)}}),"getEndpointPlugin"),BU=Im(),VU=pt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=e,o=r!=null?async()=>Nm(await(0,ud.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,ud.normalizeProvider)(n??!1),useFipsEndpoint:(0,ud.normalizeProvider)(i??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,BU.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),GU=pt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Mm=C(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default=XU;var WU=KU(require("crypto"));function KU(e){return e&&e.__esModule?e:{default:e}}var fd=new Uint8Array(256),md=fd.length;function XU(){return md>fd.length-16&&(WU.default.randomFillSync(fd),md=0),fd.slice(md,md+=16)}});var Mb=C(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.default=void 0;var JU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;hd.default=JU});var Ks=C(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.default=void 0;var YU=QU(Mb());function QU(e){return e&&e.__esModule?e:{default:e}}function ZU(e){return typeof e=="string"&&YU.default.test(e)}var e$=ZU;gd.default=e$});var Js=C(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.default=void 0;Xs.unsafeStringify=kb;var t$=r$(Ks());function r$(e){return e&&e.__esModule?e:{default:e}}var He=[];for(let e=0;e<256;++e)He.push((e+256).toString(16).slice(1));function kb(e,t=0){return He[e[t+0]]+He[e[t+1]]+He[e[t+2]]+He[e[t+3]]+"-"+He[e[t+4]]+He[e[t+5]]+"-"+He[e[t+6]]+He[e[t+7]]+"-"+He[e[t+8]]+He[e[t+9]]+"-"+He[e[t+10]]+He[e[t+11]]+He[e[t+12]]+He[e[t+13]]+He[e[t+14]]+He[e[t+15]]}function n$(e,t=0){let r=kb(e,t);if(!(0,t$.default)(r))throw TypeError("Stringified UUID is invalid");return r}var i$=n$;Xs.default=i$});var Fb=C(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.default=void 0;var o$=a$(Mm()),s$=Js();function a$(e){return e&&e.__esModule?e:{default:e}}var Lb,km,Lm=0,Fm=0;function c$(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||Lb,s=e.clockseq!==void 0?e.clockseq:km;if(o==null||s==null){let h=e.random||(e.rng||o$.default)();o==null&&(o=Lb=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),s==null&&(s=km=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Fm+1,l=a-Lm+(c-Fm)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>Lm)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Lm=a,Fm=c,km=s,a+=122192928e5;let m=((a&268435455)*1e4+c)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=m&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let h=0;h<6;++h)i[n+h]=o[h];return t||(0,s$.unsafeStringify)(i)}var l$=c$;_d.default=l$});var qm=C(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.default=void 0;var d$=u$(Ks());function u$(e){return e&&e.__esModule?e:{default:e}}function p$(e){if(!(0,d$.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var m$=p$;Sd.default=m$});var jm=C(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.URL=nn.DNS=void 0;nn.default=S$;var f$=Js(),h$=g$(qm());function g$(e){return e&&e.__esModule?e:{default:e}}function _$(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var qb="6ba7b810-9dad-11d1-80b4-00c04fd430c8";nn.DNS=qb;var jb="6ba7b811-9dad-11d1-80b4-00c04fd430c8";nn.URL=jb;function S$(e,t,r){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=_$(i)),typeof o=="string"&&(o=(0,h$.default)(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let m=0;m<16;++m)s[a+m]=l[m];return s}return(0,f$.unsafeStringify)(l)}try{n.name=e}catch{}return n.DNS=qb,n.URL=jb,n}});var Ub=C(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.default=void 0;var v$=y$(require("crypto"));function y$(e){return e&&e.__esModule?e:{default:e}}function E$(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),v$.default.createHash("md5").update(e).digest()}var b$=E$;vd.default=b$});var Hb=C(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.default=void 0;var P$=$b(jm()),w$=$b(Ub());function $b(e){return e&&e.__esModule?e:{default:e}}var C$=(0,P$.default)("v3",48,w$.default),A$=C$;yd.default=A$});var zb=C(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=void 0;var x$=O$(require("crypto"));function O$(e){return e&&e.__esModule?e:{default:e}}var R$={randomUUID:x$.default.randomUUID};Ed.default=R$});var Gb=C(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.default=void 0;var Bb=Vb(zb()),T$=Vb(Mm()),I$=Js();function Vb(e){return e&&e.__esModule?e:{default:e}}function N$(e,t,r){if(Bb.default.randomUUID&&!t&&!e)return Bb.default.randomUUID();e=e||{};let n=e.random||(e.rng||T$.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,I$.unsafeStringify)(n)}var D$=N$;bd.default=D$});var Wb=C(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=void 0;var M$=k$(require("crypto"));function k$(e){return e&&e.__esModule?e:{default:e}}function L$(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),M$.default.createHash("sha1").update(e).digest()}var F$=L$;Pd.default=F$});var Xb=C(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.default=void 0;var q$=Kb(jm()),j$=Kb(Wb());function Kb(e){return e&&e.__esModule?e:{default:e}}var U$=(0,q$.default)("v5",80,j$.default),$$=U$;wd.default=$$});var Jb=C(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.default=void 0;var H$="00000000-0000-0000-0000-000000000000";Cd.default=H$});var Yb=C(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=void 0;var z$=B$(Ks());function B$(e){return e&&e.__esModule?e:{default:e}}function V$(e){if(!(0,z$.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var G$=V$;Ad.default=G$});var Qb=C(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Object.defineProperty(Ct,"NIL",{enumerable:!0,get:function(){return Y$.default}});Object.defineProperty(Ct,"parse",{enumerable:!0,get:function(){return tH.default}});Object.defineProperty(Ct,"stringify",{enumerable:!0,get:function(){return eH.default}});Object.defineProperty(Ct,"v1",{enumerable:!0,get:function(){return W$.default}});Object.defineProperty(Ct,"v3",{enumerable:!0,get:function(){return K$.default}});Object.defineProperty(Ct,"v4",{enumerable:!0,get:function(){return X$.default}});Object.defineProperty(Ct,"v5",{enumerable:!0,get:function(){return J$.default}});Object.defineProperty(Ct,"validate",{enumerable:!0,get:function(){return Z$.default}});Object.defineProperty(Ct,"version",{enumerable:!0,get:function(){return Q$.default}});var W$=Zt(Fb()),K$=Zt(Hb()),X$=Zt(Gb()),J$=Zt(Xb()),Y$=Zt(Jb()),Q$=Zt(Yb()),Z$=Zt(Ks()),eH=Zt(Js()),tH=Zt(qm());function Zt(e){return e&&e.__esModule?e:{default:e}}});var $m=C((C9,rP)=>{var xd=Object.defineProperty,rH=Object.getOwnPropertyDescriptor,nH=Object.getOwnPropertyNames,iH=Object.prototype.hasOwnProperty,on=(e,t)=>xd(e,"name",{value:t,configurable:!0}),oH=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},sH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nH(t))!iH.call(e,i)&&i!==r&&xd(e,i,{get:()=>t[i],enumerable:!(n=rH(t,i))||n.enumerable});return e},aH=e=>sH(xd({},"__esModule",{value:!0}),e),Zb={};oH(Zb,{isBrowserNetworkError:()=>tP,isClockSkewCorrectedError:()=>eP,isClockSkewError:()=>hH,isRetryableByTrait:()=>fH,isServerError:()=>_H,isThrottlingError:()=>gH,isTransientError:()=>Um});rP.exports=aH(Zb);var cH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],lH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dH=["TimeoutError","RequestTimeout","RequestTimeoutException"],uH=[500,502,503,504],pH=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mH=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],fH=on(e=>e.$retryable!==void 0,"isRetryableByTrait"),hH=on(e=>cH.includes(e.name),"isClockSkewError"),eP=on(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),tP=on(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),gH=on(e=>e.$metadata?.httpStatusCode===429||lH.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Um=on((e,t=0)=>eP(e)||dH.includes(e.name)||pH.includes(e?.code||"")||mH.includes(e?.code||"")||uH.includes(e.$metadata?.httpStatusCode||0)||tP(e)||e.cause!==void 0&&t<=10&&Um(e.cause,t+1),"isTransientError"),_H=on(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Um(e)}return!1},"isServerError")});var $n=C((A9,uP)=>{var Od=Object.defineProperty,SH=Object.getOwnPropertyDescriptor,vH=Object.getOwnPropertyNames,yH=Object.prototype.hasOwnProperty,At=(e,t)=>Od(e,"name",{value:t,configurable:!0}),EH=(e,t)=>{for(var r in t)Od(e,r,{get:t[r],enumerable:!0})},bH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vH(t))!yH.call(e,i)&&i!==r&&Od(e,i,{get:()=>t[i],enumerable:!(n=SH(t,i))||n.enumerable});return e},PH=e=>bH(Od({},"__esModule",{value:!0}),e),iP={};EH(iP,{AdaptiveRetryStrategy:()=>RH,ConfiguredRetryStrategy:()=>TH,DEFAULT_MAX_ATTEMPTS:()=>Hm,DEFAULT_RETRY_DELAY_BASE:()=>Ys,DEFAULT_RETRY_MODE:()=>wH,DefaultRateLimiter:()=>sP,INITIAL_RETRY_TOKENS:()=>zm,INVOCATION_ID_HEADER:()=>AH,MAXIMUM_RETRY_DELAY:()=>Bm,NO_RETRY_INCREMENT:()=>dP,REQUEST_HEADER:()=>xH,RETRY_COST:()=>cP,RETRY_MODES:()=>oP,StandardRetryStrategy:()=>Vm,THROTTLING_RETRY_DELAY_BASE:()=>aP,TIMEOUT_RETRY_COST:()=>lP});uP.exports=PH(iP);var oP=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(oP||{}),Hm=3,wH="standard",CH=$m(),sn,sP=(sn=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>sn.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,CH.isThrottlingError)(t)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},(()=>{At(sn,"DefaultRateLimiter")})(),(()=>{sn.setTimeoutFn=setTimeout})(),sn),Ys=100,Bm=20*1e3,aP=500,zm=500,cP=5,lP=10,dP=1,AH="amz-sdk-invocation-id",xH="amz-sdk-request",OH=At(()=>{let e=Ys;return{computeNextBackoffDelay:At(n=>Math.floor(Math.min(Bm,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:At(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),nP=At(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:At(()=>t,"getRetryCount"),getRetryDelay:At(()=>Math.min(Bm,e),"getRetryDelay"),getRetryCost:At(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Qs,Vm=(Qs=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=zm,this.retryBackoffStrategy=OH(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return nP({retryDelay:Ys,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?aP:Ys);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,nP({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(zm,this.capacity+(t.getRetryCost()??dP))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Hm}`),Hm}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?lP:cP}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},(()=>{At(Qs,"StandardRetryStrategy")})(),Qs),Zs,RH=(Zs=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new sP,this.standardRetryStrategy=new Vm(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},(()=>{At(Zs,"AdaptiveRetryStrategy")})(),Zs),ea,TH=(ea=class extends Vm{constructor(t,r=Ys){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}},(()=>{At(ea,"ConfiguredRetryStrategy")})(),ea)});var pP=C(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.isStreamingPayload=void 0;var IH=require("stream"),NH=e=>e?.body instanceof IH.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Rd.isStreamingPayload=NH});var er=C((O9,xP)=>{var Td=Object.defineProperty,DH=Object.getOwnPropertyDescriptor,MH=Object.getOwnPropertyNames,kH=Object.prototype.hasOwnProperty,De=(e,t)=>Td(e,"name",{value:t,configurable:!0}),LH=(e,t)=>{for(var r in t)Td(e,r,{get:t[r],enumerable:!0})},FH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MH(t))!kH.call(e,i)&&i!==r&&Td(e,i,{get:()=>t[i],enumerable:!(n=DH(t,i))||n.enumerable});return e},qH=e=>FH(Td({},"__esModule",{value:!0}),e),fP={};LH(fP,{AdaptiveRetryStrategy:()=>$H,CONFIG_MAX_ATTEMPTS:()=>Wm,CONFIG_RETRY_MODE:()=>EP,ENV_MAX_ATTEMPTS:()=>Gm,ENV_RETRY_MODE:()=>yP,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>HH,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>BH,StandardRetryStrategy:()=>vP,defaultDelayDecider:()=>gP,defaultRetryDecider:()=>_P,getOmitRetryHeadersPlugin:()=>VH,getRetryAfterHint:()=>AP,getRetryPlugin:()=>YH,omitRetryHeadersMiddleware:()=>bP,omitRetryHeadersMiddlewareOptions:()=>PP,resolveRetryConfig:()=>zH,retryMiddleware:()=>wP,retryMiddlewareOptions:()=>CP});xP.exports=qH(fP);var Hn=be(),hP=Qb(),xe=$n(),jH=De((e,t)=>{let r=e,n=t?.noRetryIncrement??xe.NO_RETRY_INCREMENT,i=t?.retryCost??xe.RETRY_COST,o=t?.timeoutRetryCost??xe.TIMEOUT_RETRY_COST,s=e,a=De(f=>f.name==="TimeoutError"?o:i,"getCapacityAmount"),c=De(f=>a(f)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:De(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return s-=h,h},"retrieveRetryTokens"),releaseRetryTokens:De(f=>{s+=f??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),gP=De((e,t)=>Math.floor(Math.min(xe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Dr=$m(),_P=De(e=>e?(0,Dr.isRetryableByTrait)(e)||(0,Dr.isClockSkewError)(e)||(0,Dr.isThrottlingError)(e)||(0,Dr.isTransientError)(e):!1,"defaultRetryDecider"),SP=De(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),ta,vP=(ta=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=xe.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??_P,this.delayDecider=r?.delayDecider??gP,this.retryQuota=r?.retryQuota??jH(xe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=xe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let i,o=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(Hn.HttpRequest.isInstance(c)&&(c.headers[xe.INVOCATION_ID_HEADER]=(0,hP.v4)());;)try{Hn.HttpRequest.isInstance(c)&&(c.headers[xe.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(i),m.$metadata.attempts=o+1,m.$metadata.totalRetryDelay=s,{response:l,output:m}}catch(l){let m=SP(l);if(o++,this.shouldRetry(m,o,a)){i=this.retryQuota.retrieveRetryTokens(m);let f=this.delayDecider((0,Dr.isThrottlingError)(m)?xe.THROTTLING_RETRY_DELAY_BASE:xe.DEFAULT_RETRY_DELAY_BASE,o),h=UH(m.$response),y=Math.max(h||0,f);s+=y,await new Promise(v=>setTimeout(v,y));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=o,m.$metadata.totalRetryDelay=s,m}}},(()=>{De(ta,"StandardRetryStrategy")})(),ta),UH=De(e=>{if(!Hn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),ra,$H=(ra=class extends vP{constructor(t,r){let{rateLimiter:n,...i}=r??{};super(t,i),this.rateLimiter=n??new xe.DefaultRateLimiter,this.mode=xe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},(()=>{De(ra,"AdaptiveRetryStrategy")})(),ra),mP=ct(),Gm="AWS_MAX_ATTEMPTS",Wm="max_attempts",HH={environmentVariableSelector:e=>{let t=e[Gm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Gm} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Wm];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Wm} mast be a number, got "${t}"`);return r},default:xe.DEFAULT_MAX_ATTEMPTS},zH=De(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,i=(0,mP.normalizeProvider)(n??xe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:i,retryStrategy:async()=>t||(await(0,mP.normalizeProvider)(r)()===xe.RETRY_MODES.ADAPTIVE?new xe.AdaptiveRetryStrategy(i):new xe.StandardRetryStrategy(i))})},"resolveRetryConfig"),yP="AWS_RETRY_MODE",EP="retry_mode",BH={environmentVariableSelector:e=>e[yP],configFileSelector:e=>e[EP],default:xe.DEFAULT_RETRY_MODE},bP=De(()=>e=>async t=>{let{request:r}=t;return Hn.HttpRequest.isInstance(r)&&(delete r.headers[xe.INVOCATION_ID_HEADER],delete r.headers[xe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),PP={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},VH=De(e=>({applyToStack:t=>{t.addRelativeTo(bP(),PP)}}),"getOmitRetryHeadersPlugin"),GH=ie(),WH=pP(),wP=De(e=>(t,r)=>async n=>{let i=await e.retryStrategy(),o=await e.maxAttempts();if(KH(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:m}=n,f=Hn.HttpRequest.isInstance(m);for(f&&(m.headers[xe.INVOCATION_ID_HEADER]=(0,hP.v4)());;)try{f&&(m.headers[xe.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:h,output:y}=await t(n);return i.recordSuccess(s),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=l,{response:h,output:y}}catch(h){let y=XH(h);if(a=SP(h),f&&(0,WH.isStreamingPayload)(m))throw(r.logger instanceof GH.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=await i.refreshRetryTokenForRetry(s,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let v=s.getRetryDelay();l+=v,await new Promise(w=>setTimeout(w,v))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),KH=De(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),XH=De(e=>{let t={error:e,errorType:JH(e)},r=AP(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),JH=De(e=>(0,Dr.isThrottlingError)(e)?"THROTTLING":(0,Dr.isTransientError)(e)?"TRANSIENT":(0,Dr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),CP={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},YH=De(e=>({applyToStack:t=>{t.add(wP(e),CP)}}),"getRetryPlugin"),AP=De(e=>{if(!Hn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Xm=C(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.resolveHttpAuthSchemeConfig=Mr.defaultSNSHttpAuthSchemeProvider=Mr.defaultSNSHttpAuthSchemeParametersProvider=void 0;var QH=Fe(),Km=ct(),ZH=async(e,t,r)=>({operation:(0,Km.getSmithyContext)(t).operation,region:await(0,Km.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Mr.defaultSNSHttpAuthSchemeParametersProvider=ZH;function ez(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sns",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var tz=e=>{let t=[];switch(e.operation){default:t.push(ez(e))}return t};Mr.defaultSNSHttpAuthSchemeProvider=tz;var rz=e=>{let t=(0,QH.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Km.normalizeProvider)(e.authSchemePreference??[])})};Mr.resolveHttpAuthSchemeConfig=rz});var OP=C((T9,nz)=>{nz.exports={name:"@aws-sdk/client-sns",description:"AWS SDK for JavaScript Sns Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sns","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sns"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.848.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sns",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sns"}}});var Jm=C((I9,LP)=>{"use strict";var Id=Object.defineProperty,iz=Object.getOwnPropertyDescriptor,oz=Object.getOwnPropertyNames,sz=Object.prototype.hasOwnProperty,az=(e,t)=>Id(e,"name",{value:t,configurable:!0}),cz=(e,t)=>{for(var r in t)Id(e,r,{get:t[r],enumerable:!0})},lz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of oz(t))!sz.call(e,i)&&i!==r&&Id(e,i,{get:()=>t[i],enumerable:!(n=iz(t,i))||n.enumerable});return e},dz=e=>lz(Id({},"__esModule",{value:!0}),e),RP={};cz(RP,{ENV_ACCOUNT_ID:()=>kP,ENV_CREDENTIAL_SCOPE:()=>MP,ENV_EXPIRATION:()=>DP,ENV_KEY:()=>TP,ENV_SECRET:()=>IP,ENV_SESSION:()=>NP,fromEnv:()=>mz});LP.exports=dz(RP);var uz=Pt(),pz=Xe(),TP="AWS_ACCESS_KEY_ID",IP="AWS_SECRET_ACCESS_KEY",NP="AWS_SESSION_TOKEN",DP="AWS_CREDENTIAL_EXPIRATION",MP="AWS_CREDENTIAL_SCOPE",kP="AWS_ACCOUNT_ID",mz=az(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[TP],r=process.env[IP],n=process.env[NP],i=process.env[DP],o=process.env[MP],s=process.env[kP];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...o&&{credentialScope:o},...s&&{accountId:s}};return(0,uz.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new pz.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var na=C((N9,XP)=>{var Md=Object.defineProperty,fz=Object.getOwnPropertyDescriptor,hz=Object.getOwnPropertyNames,gz=Object.prototype.hasOwnProperty,Me=(e,t)=>Md(e,"name",{value:t,configurable:!0}),_z=(e,t)=>{for(var r in t)Md(e,r,{get:t[r],enumerable:!0})},Sz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hz(t))!gz.call(e,i)&&i!==r&&Md(e,i,{get:()=>t[i],enumerable:!(n=fz(t,i))||n.enumerable});return e},vz=e=>Sz(Md({},"__esModule",{value:!0}),e),UP={};_z(UP,{DEFAULT_MAX_RETRIES:()=>BP,DEFAULT_TIMEOUT:()=>zP,ENV_CMDS_AUTH_TOKEN:()=>Zm,ENV_CMDS_FULL_URI:()=>Nd,ENV_CMDS_RELATIVE_URI:()=>Dd,Endpoint:()=>VP,fromContainerMetadata:()=>Pz,fromInstanceMetadata:()=>Bz,getInstanceMetadataEndpoint:()=>WP,httpRequest:()=>Bn,providerConfigFromInit:()=>ef});XP.exports=vz(UP);var yz=require("url"),jt=Xe(),Ez=require("buffer"),bz=require("http");function Bn(e){return new Promise((t,r)=>{let n=(0,bz.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new jt.ProviderError("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new jt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new jt.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let s=[];i.on("data",a=>{s.push(a)}),i.on("end",()=>{t(Ez.Buffer.concat(s)),n.destroy()})}),n.end()})}Me(Bn,"httpRequest");var $P=Me(e=>Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),HP=Me(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),zP=1e3,BP=0,ef=Me(({maxRetries:e=BP,timeout:t=zP})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Qm=Me((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Nd="AWS_CONTAINER_CREDENTIALS_FULL_URI",Dd="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Zm="AWS_CONTAINER_AUTHORIZATION_TOKEN",Pz=Me((e={})=>{let{timeout:t,maxRetries:r}=ef(e);return()=>Qm(async()=>{let n=await Oz({logger:e.logger}),i=JSON.parse(await wz(t,n));if(!$P(i))throw new jt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return HP(i)},r)},"fromContainerMetadata"),wz=Me(async(e,t)=>(process.env[Zm]&&(t.headers={...t.headers,Authorization:process.env[Zm]}),(await Bn({...t,timeout:e})).toString()),"requestFromEcsImds"),Cz="169.254.170.2",Az={localhost:!0,"127.0.0.1":!0},xz={"http:":!0,"https:":!0},Oz=Me(async({logger:e})=>{if(process.env[Dd])return{hostname:Cz,path:process.env[Dd]};if(process.env[Nd]){let t=(0,yz.parse)(process.env[Nd]);if(!t.hostname||!(t.hostname in Az))throw new jt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in xz))throw new jt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new jt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Dd} or ${Nd} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),zn,Rz=(zn=class extends jt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,zn.prototype)}},(()=>{Me(zn,"InstanceMetadataV1FallbackError")})(),zn),tf=Ir(),Tz=Pr(),VP=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(VP||{}),Iz="AWS_EC2_METADATA_SERVICE_ENDPOINT",Nz="ec2_metadata_service_endpoint",Dz={environmentVariableSelector:e=>e[Iz],configFileSelector:e=>e[Nz],default:void 0},GP=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(GP||{}),Mz="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",kz="ec2_metadata_service_endpoint_mode",Lz={environmentVariableSelector:e=>e[Mz],configFileSelector:e=>e[kz],default:"IPv4"},WP=Me(async()=>(0,Tz.parseUrl)(await Fz()||await qz()),"getInstanceMetadataEndpoint"),Fz=Me(async()=>(0,tf.loadConfig)(Dz)(),"getFromEndpointConfig"),qz=Me(async()=>{let e=await(0,tf.loadConfig)(Lz)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(GP)}`)}},"getFromEndpointModeConfig"),jz=5*60,Uz=5*60,$z="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",FP=Me((e,t)=>{let r=jz+Math.floor(Math.random()*Uz),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+$z);let i=e.originalExpiration??e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Hz=Me((e,t={})=>{let r=t?.logger||console,n;return async()=>{let i;try{i=await e(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=FP(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=FP(n,r);else throw o}return n=i,i}},"staticStabilityProvider"),KP="/latest/meta-data/iam/security-credentials/",zz="/latest/api/token",Ym="AWS_EC2_METADATA_V1_DISABLED",qP="ec2_metadata_v1_disabled",jP="x-aws-ec2-metadata-token",Bz=Me((e={})=>Hz(Vz(e),{logger:e.logger}),"fromInstanceMetadata"),Vz=Me((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:i,maxRetries:o}=ef(e),s=Me(async(a,c)=>{if(t||c.headers?.[jP]==null){let f=!1,h=!1,y=await(0,tf.loadConfig)({environmentVariableSelector:v=>{let w=v[Ym];if(h=!!w&&w!=="false",w===void 0)throw new jt.CredentialsProviderError(`${Ym} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:v=>{let w=v[qP];return f=!!w&&w!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let v=[];throw e.ec2MetadataV1Disabled&&v.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&v.push(`config file profile (${qP})`),h&&v.push(`process environment variable (${Ym})`),new Rz(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${v.join(", ")}].`)}}let m=(await Qm(async()=>{let f;try{f=await Wz(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return Qm(async()=>{let f;try{f=await Kz(m,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await WP();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let c;try{c=(await Gz({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[jP]:c},timeout:i})}}},"getInstanceMetadataProvider"),Gz=Me(async e=>Bn({...e,path:zz,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Wz=Me(async e=>(await Bn({...e,path:KP})).toString(),"getProfile"),Kz=Me(async(e,t,r)=>{let n=JSON.parse((await Bn({...t,path:KP+e})).toString());if(!$P(n))throw new jt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return HP(n)},"getCredentialsFromProfile")});var JP=C(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.checkUrl=void 0;var Xz=Xe(),Jz="169.254.170.2",Yz="169.254.170.23",Qz="[fd00:ec2::23]",Zz=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Jz||e.hostname===Yz||e.hostname===Qz)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=i=>{let o=parseInt(i,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Xz.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};kd.checkUrl=Zz});var YP=C(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.createGetRequest=nB;Ld.getCredentials=iB;var rf=Xe(),eB=be(),tB=ie(),rB=ml();function nB(e){return new eB.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function iB(e,t){let n=await(0,rB.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new rf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:(0,tB.parseRfc3339DateTime)(i.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new rf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:i.Code,Message:i.Message})}throw new rf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var QP=C(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.retryWrapper=void 0;var oB=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Fd.retryWrapper=oB});var tw=C(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.fromHttp=void 0;var sB=Jr(),aB=Pt(),cB=Wr(),ZP=Xe(),lB=sB.__importDefault(require("fs/promises")),dB=JP(),ew=YP(),uB=QP(),pB="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",mB="http://169.254.170.2",fB="AWS_CONTAINER_CREDENTIALS_FULL_URI",hB="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",gB="AWS_CONTAINER_AUTHORIZATION_TOKEN",_B=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[pB],n=e.awsContainerCredentialsFullUri??process.env[fB],i=e.awsContainerAuthorizationToken??process.env[gB],o=e.awsContainerAuthorizationTokenFile??process.env[hB],s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),i&&o&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${mB}${r}`;else throw new ZP.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,dB.checkUrl)(a,e.logger);let c=new cB.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,uB.retryWrapper)(async()=>{let l=(0,ew.createGetRequest)(a);i?l.headers.Authorization=i:o&&(l.headers.Authorization=(await lB.default.readFile(o)).toString());try{let m=await c.handle(l);return(0,ew.getCredentials)(m.response).then(f=>(0,aB.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(m){throw new ZP.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};qd.fromHttp=_B});var nf=C(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.fromHttp=void 0;var SB=tw();Object.defineProperty(jd,"fromHttp",{enumerable:!0,get:function(){return SB.fromHttp}})});var sf=C(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.resolveHttpAuthSchemeConfig=kr.defaultSSOHttpAuthSchemeProvider=kr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var vB=Fe(),of=ct(),yB=async(e,t,r)=>({operation:(0,of.getSmithyContext)(t).operation,region:await(0,of.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kr.defaultSSOHttpAuthSchemeParametersProvider=yB;function EB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Ud(e){return{schemeId:"smithy.api#noAuth"}}var bB=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Ud(e));break}case"ListAccountRoles":{t.push(Ud(e));break}case"ListAccounts":{t.push(Ud(e));break}case"Logout":{t.push(Ud(e));break}default:t.push(EB(e))}return t};kr.defaultSSOHttpAuthSchemeProvider=bB;var PB=e=>{let t=(0,vB.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,of.normalizeProvider)(e.authSchemePreference??[])})};kr.resolveHttpAuthSchemeConfig=PB});var rw=C((j9,wB)=>{wB.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var ia=C((U9,lw)=>{"use strict";var Hd=Object.defineProperty,CB=Object.getOwnPropertyDescriptor,AB=Object.getOwnPropertyNames,xB=Object.prototype.hasOwnProperty,$d=(e,t)=>Hd(e,"name",{value:t,configurable:!0}),OB=(e,t)=>{for(var r in t)Hd(e,r,{get:t[r],enumerable:!0})},RB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AB(t))!xB.call(e,i)&&i!==r&&Hd(e,i,{get:()=>t[i],enumerable:!(n=CB(t,i))||n.enumerable});return e},TB=e=>RB(Hd({},"__esModule",{value:!0}),e),iw={};OB(iw,{NODE_APP_ID_CONFIG_OPTIONS:()=>kB,UA_APP_ID_ENV_NAME:()=>aw,UA_APP_ID_INI_NAME:()=>cw,createDefaultUserAgentProvider:()=>sw,crtAvailability:()=>ow,defaultUserAgent:()=>NB});lw.exports=TB(iw);var nw=require("os"),af=require("process"),ow={isCrtAvailable:!1},IB=$d(()=>ow.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),sw=$d(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,nw.platform)()}`,(0,nw.release)()],["lang/js"],["md/nodejs",`${af.versions.node}`]],i=IB();i&&n.push(i),e&&n.push([`api/${e}`,t]),af.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${af.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},"createDefaultUserAgentProvider"),NB=sw,DB=qn(),aw="AWS_SDK_UA_APP_ID",cw="sdk_ua_app_id",MB="sdk-ua-app-id",kB={environmentVariableSelector:$d(e=>e[aw],"environmentVariableSelector"),configFileSelector:$d(e=>e[cw]??e[MB],"configFileSelector"),default:DB.DEFAULT_UA_APP_ID}});var sa=C(($9,mw)=>{var zd=Object.defineProperty,LB=Object.getOwnPropertyDescriptor,FB=Object.getOwnPropertyNames,qB=Object.prototype.hasOwnProperty,uw=(e,t)=>zd(e,"name",{value:t,configurable:!0}),jB=(e,t)=>{for(var r in t)zd(e,r,{get:t[r],enumerable:!0})},UB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FB(t))!qB.call(e,i)&&i!==r&&zd(e,i,{get:()=>t[i],enumerable:!(n=LB(t,i))||n.enumerable});return e},$B=e=>UB(zd({},"__esModule",{value:!0}),e),pw={};jB(pw,{Hash:()=>BB});mw.exports=$B(pw);var cf=hn(),HB=Ue(),zB=require("buffer"),dw=require("crypto"),oa,BB=(oa=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,HB.toUint8Array)(lf(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,dw.createHmac)(this.algorithmIdentifier,lf(this.secret)):(0,dw.createHash)(this.algorithmIdentifier)}},(()=>{uw(oa,"Hash")})(),oa);function lf(e,t){return zB.Buffer.isBuffer(e)?e:typeof e=="string"?(0,cf.fromString)(e,t):ArrayBuffer.isView(e)?(0,cf.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,cf.fromArrayBuffer)(e)}uw(lf,"castSourceData")});var aa=C((H9,gw)=>{var Bd=Object.defineProperty,VB=Object.getOwnPropertyDescriptor,GB=Object.getOwnPropertyNames,WB=Object.prototype.hasOwnProperty,KB=(e,t)=>Bd(e,"name",{value:t,configurable:!0}),XB=(e,t)=>{for(var r in t)Bd(e,r,{get:t[r],enumerable:!0})},JB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of GB(t))!WB.call(e,i)&&i!==r&&Bd(e,i,{get:()=>t[i],enumerable:!(n=VB(t,i))||n.enumerable});return e},YB=e=>JB(Bd({},"__esModule",{value:!0}),e),hw={};XB(hw,{calculateBodyLength:()=>QB});gw.exports=YB(hw);var fw=require("fs"),QB=KB(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,fw.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,fw.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Iw=C(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.ruleSet=void 0;var xw="required",ft="fn",ht="argv",Wn="ref",_w=!0,Sw="isSet",ca="booleanEquals",Vn="error",Gn="endpoint",tr="tree",df="PartitionResult",uf="getAttr",vw={[xw]:!1,type:"String"},yw={[xw]:!0,default:!1,type:"Boolean"},Ew={[Wn]:"Endpoint"},Ow={[ft]:ca,[ht]:[{[Wn]:"UseFIPS"},!0]},Rw={[ft]:ca,[ht]:[{[Wn]:"UseDualStack"},!0]},mt={},bw={[ft]:uf,[ht]:[{[Wn]:df},"supportsFIPS"]},Tw={[Wn]:df},Pw={[ft]:ca,[ht]:[!0,{[ft]:uf,[ht]:[Tw,"supportsDualStack"]}]},ww=[Ow],Cw=[Rw],Aw=[{[Wn]:"Region"}],ZB={version:"1.0",parameters:{Region:vw,UseDualStack:yw,UseFIPS:yw,Endpoint:vw},rules:[{conditions:[{[ft]:Sw,[ht]:[Ew]}],rules:[{conditions:ww,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Vn},{conditions:Cw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Vn},{endpoint:{url:Ew,properties:mt,headers:mt},type:Gn}],type:tr},{conditions:[{[ft]:Sw,[ht]:Aw}],rules:[{conditions:[{[ft]:"aws.partition",[ht]:Aw,assign:df}],rules:[{conditions:[Ow,Rw],rules:[{conditions:[{[ft]:ca,[ht]:[_w,bw]},Pw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mt,headers:mt},type:Gn}],type:tr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Vn}],type:tr},{conditions:ww,rules:[{conditions:[{[ft]:ca,[ht]:[bw,_w]}],rules:[{conditions:[{[ft]:"stringEquals",[ht]:[{[ft]:uf,[ht]:[Tw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:mt,headers:mt},type:Gn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:mt,headers:mt},type:Gn}],type:tr},{error:"FIPS is enabled but this partition does not support FIPS",type:Vn}],type:tr},{conditions:Cw,rules:[{conditions:[Pw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mt,headers:mt},type:Gn}],type:tr},{error:"DualStack is enabled but this partition does not support DualStack",type:Vn}],type:tr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:mt,headers:mt},type:Gn}],type:tr}],type:tr},{error:"Invalid Configuration: Missing Region",type:Vn}]};Vd.ruleSet=ZB});var Nw=C(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.defaultEndpointResolver=void 0;var eV=On(),pf=xn(),tV=Iw(),rV=new pf.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),nV=(e,t={})=>rV.get(e,()=>(0,pf.resolveEndpoint)(tV.ruleSet,{endpointParams:e,logger:t.logger}));Gd.defaultEndpointResolver=nV;pf.customEndpointFunctions.aws=eV.awsEndpointFunctions});var kw=C(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getRuntimeConfig=void 0;var iV=Fe(),oV=et(),sV=ie(),aV=Pr(),Dw=Ke(),Mw=Ue(),cV=sf(),lV=Nw(),dV=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Dw.fromBase64,base64Encoder:e?.base64Encoder??Dw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lV.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??cV.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iV.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new oV.NoAuthSigner}],logger:e?.logger??new sV.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??aV.parseUrl,utf8Decoder:e?.utf8Decoder??Mw.fromUtf8,utf8Encoder:e?.utf8Encoder??Mw.toUtf8});Wd.getRuntimeConfig=dV});var da=C((G9,$w)=>{var uV=Object.create,la=Object.defineProperty,pV=Object.getOwnPropertyDescriptor,mV=Object.getOwnPropertyNames,fV=Object.getPrototypeOf,hV=Object.prototype.hasOwnProperty,mf=(e,t)=>la(e,"name",{value:t,configurable:!0}),gV=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},jw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mV(t))!hV.call(e,i)&&i!==r&&la(e,i,{get:()=>t[i],enumerable:!(n=pV(t,i))||n.enumerable});return e},_V=(e,t,r)=>(r=e!=null?uV(fV(e)):{},jw(t||!e||!e.__esModule?la(r,"default",{value:e,enumerable:!0}):r,e)),SV=e=>jw(la({},"__esModule",{value:!0}),e),Uw={};gV(Uw,{resolveDefaultsModeConfig:()=>OV});$w.exports=SV(Uw);var vV=qt(),Lw=Ir(),yV=Xe(),EV="AWS_EXECUTION_ENV",Fw="AWS_REGION",qw="AWS_DEFAULT_REGION",bV="AWS_EC2_METADATA_DISABLED",PV=["in-region","cross-region","mobile","standard","legacy"],wV="/latest/meta-data/placement/region",CV="AWS_DEFAULTS_MODE",AV="defaults_mode",xV={environmentVariableSelector:e=>e[CV],configFileSelector:e=>e[AV],default:"legacy"},OV=mf(({region:e=(0,Lw.loadConfig)(vV.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Lw.loadConfig)(xV)}={})=>(0,yV.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return RV(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${PV.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),RV=mf(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await TV();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),TV=mf(async()=>{if(process.env[EV]&&(process.env[Fw]||process.env[qw]))return process.env[Fw]??process.env[qw];if(!process.env[bV])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>_V(na())),r=await e();return(await t({...r,path:wV})).toString()}catch{}},"inferPhysicalRegion")});var Gw=C(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.getRuntimeConfig=void 0;var IV=Jr(),NV=IV.__importDefault(rw()),Hw=Fe(),zw=ia(),Kd=qt(),DV=sa(),Bw=er(),an=Ir(),Vw=Wr(),MV=aa(),kV=$n(),LV=kw(),FV=ie(),qV=da(),jV=ie(),UV=e=>{(0,jV.emitWarningIfUnsupportedVersion)(process.version);let t=(0,qV.resolveDefaultsModeConfig)(e),r=()=>t().then(FV.loadConfigsForDefaultMode),n=(0,LV.getRuntimeConfig)(e);(0,Hw.emitWarningIfUnsupportedVersion)(process.version);let i={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(Hw.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:e?.bodyLengthChecker??MV.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,zw.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:NV.default.version}),maxAttempts:e?.maxAttempts??(0,an.loadConfig)(Bw.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(Kd.NODE_REGION_CONFIG_OPTIONS,{...Kd.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:Vw.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,an.loadConfig)({...Bw.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||kV.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??DV.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Vw.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(Kd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(Kd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(zw.NODE_APP_ID_CONFIG_OPTIONS,i)}};Xd.getRuntimeConfig=UV});var ua=C((K9,Qw)=>{"use strict";var Jd=Object.defineProperty,$V=Object.getOwnPropertyDescriptor,HV=Object.getOwnPropertyNames,zV=Object.prototype.hasOwnProperty,Ut=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),BV=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},VV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HV(t))!zV.call(e,i)&&i!==r&&Jd(e,i,{get:()=>t[i],enumerable:!(n=$V(t,i))||n.enumerable});return e},GV=e=>VV(Jd({},"__esModule",{value:!0}),e),Kw={};BV(Kw,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>JV,NODE_REGION_CONFIG_OPTIONS:()=>XV,REGION_ENV_NAME:()=>Xw,REGION_INI_NAME:()=>Jw,getAwsRegionExtensionConfiguration:()=>WV,resolveAwsRegionExtensionConfiguration:()=>KV,resolveRegionConfig:()=>YV});Qw.exports=GV(Kw);var WV=Ut(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),KV=Ut(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Xw="AWS_REGION",Jw="region",XV={environmentVariableSelector:Ut(e=>e[Xw],"environmentVariableSelector"),configFileSelector:Ut(e=>e[Jw],"configFileSelector"),default:Ut(()=>{throw new Error("Region is missing")},"default")},JV={preferredFile:"credentials"},Yw=Ut(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Ww=Ut(e=>Yw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),YV=Ut(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Ut(async()=>{if(typeof t=="string")return Ww(t);let n=await t();return Ww(n)},"region"),useFipsEndpoint:Ut(async()=>{let n=typeof t=="string"?t:await t();return Yw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var AC=C((X9,CC)=>{"use strict";var Yd=Object.defineProperty,QV=Object.getOwnPropertyDescriptor,ZV=Object.getOwnPropertyNames,eG=Object.prototype.hasOwnProperty,se=(e,t)=>Yd(e,"name",{value:t,configurable:!0}),tG=(e,t)=>{for(var r in t)Yd(e,r,{get:t[r],enumerable:!0})},rG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ZV(t))!eG.call(e,i)&&i!==r&&Yd(e,i,{get:()=>t[i],enumerable:!(n=QV(t,i))||n.enumerable});return e},nG=e=>rG(Yd({},"__esModule",{value:!0}),e),oC={};tG(oC,{GetRoleCredentialsCommand:()=>bC,GetRoleCredentialsRequestFilterSensitiveLog:()=>dC,GetRoleCredentialsResponseFilterSensitiveLog:()=>pC,InvalidRequestException:()=>sC,ListAccountRolesCommand:()=>ff,ListAccountRolesRequestFilterSensitiveLog:()=>mC,ListAccountsCommand:()=>hf,ListAccountsRequestFilterSensitiveLog:()=>fC,LogoutCommand:()=>PC,LogoutRequestFilterSensitiveLog:()=>hC,ResourceNotFoundException:()=>aC,RoleCredentialsFilterSensitiveLog:()=>uC,SSO:()=>wC,SSOClient:()=>Zd,SSOServiceException:()=>Zn,TooManyRequestsException:()=>cC,UnauthorizedException:()=>lC,__Client:()=>q.Client,paginateListAccountRoles:()=>RG,paginateListAccounts:()=>TG});CC.exports=nG(oC);var Zw=zo(),iG=Bo(),oG=Vo(),eC=qn(),sG=qt(),rr=et(),aG=Bs(),va=Nr(),tC=er(),rC=sf(),cG=se(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Qd={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},lG=Gw(),nC=ua(),iC=be(),q=ie(),dG=se(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),uG=se(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),pG=se((e,t)=>{let r=Object.assign((0,nC.getAwsRegionExtensionConfiguration)(e),(0,q.getDefaultExtensionConfiguration)(e),(0,iC.getHttpHandlerExtensionConfiguration)(e),dG(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,nC.resolveAwsRegionExtensionConfiguration)(r),(0,q.resolveDefaultRuntimeConfig)(r),(0,iC.resolveHttpHandlerRuntimeConfig)(r),uG(r))},"resolveRuntimeExtensions"),ma,Zd=(ma=class extends q.Client{constructor(...[r]){let n=(0,lG.getRuntimeConfig)(r||{});super(n);b(this,"config");this.initConfig=n;let i=cG(n),o=(0,eC.resolveUserAgentConfig)(i),s=(0,tC.resolveRetryConfig)(o),a=(0,sG.resolveRegionConfig)(s),c=(0,Zw.resolveHostHeaderConfig)(a),l=(0,va.resolveEndpointConfig)(c),m=(0,rC.resolveHttpAuthSchemeConfig)(l),f=pG(m,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,eC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,tC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aG.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Zw.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iG.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,oG.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,rr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:rC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:se(async h=>new rr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,rr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},(()=>{se(ma,"SSOClient")})(),ma),eu=hr(),Kn,Zn=(Kn=class extends q.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Kn.prototype)}},(()=>{se(Kn,"SSOServiceException")})(),Kn),Xn,sC=(Xn=class extends Zn{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r});b(this,"name","InvalidRequestException");b(this,"$fault","client");Object.setPrototypeOf(this,Xn.prototype)}},(()=>{se(Xn,"InvalidRequestException")})(),Xn),Jn,aC=(Jn=class extends Zn{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r});b(this,"name","ResourceNotFoundException");b(this,"$fault","client");Object.setPrototypeOf(this,Jn.prototype)}},(()=>{se(Jn,"ResourceNotFoundException")})(),Jn),Yn,cC=(Yn=class extends Zn{constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r});b(this,"name","TooManyRequestsException");b(this,"$fault","client");Object.setPrototypeOf(this,Yn.prototype)}},(()=>{se(Yn,"TooManyRequestsException")})(),Yn),Qn,lC=(Qn=class extends Zn{constructor(r){super({name:"UnauthorizedException",$fault:"client",...r});b(this,"name","UnauthorizedException");b(this,"$fault","client");Object.setPrototypeOf(this,Qn.prototype)}},(()=>{se(Qn,"UnauthorizedException")})(),Qn),dC=se(e=>({...e,...e.accessToken&&{accessToken:q.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),uC=se(e=>({...e,...e.secretAccessKey&&{secretAccessKey:q.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:q.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),pC=se(e=>({...e,...e.roleCredentials&&{roleCredentials:uC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),mC=se(e=>({...e,...e.accessToken&&{accessToken:q.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),fC=se(e=>({...e,...e.accessToken&&{accessToken:q.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),hC=se(e=>({...e,...e.accessToken&&{accessToken:q.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),pa=Fe(),mG=se(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,q.map)({},q.isSerializableHeaderValue,{[nu]:e[ru]});r.bp("/federation/credentials");let i=(0,q.map)({[xG]:[,(0,q.expectNonNull)(e[AG],"roleName")],[_C]:[,(0,q.expectNonNull)(e[gC],"accountId")]}),o;return r.m("GET").h(n).q(i).b(o),r.build()},"se_GetRoleCredentialsCommand"),fG=se(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,q.map)({},q.isSerializableHeaderValue,{[nu]:e[ru]});r.bp("/assignment/roles");let i=(0,q.map)({[EC]:[,e[yC]],[vC]:[()=>e.maxResults!==void 0,()=>e[SC].toString()],[_C]:[,(0,q.expectNonNull)(e[gC],"accountId")]}),o;return r.m("GET").h(n).q(i).b(o),r.build()},"se_ListAccountRolesCommand"),hG=se(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,q.map)({},q.isSerializableHeaderValue,{[nu]:e[ru]});r.bp("/assignment/accounts");let i=(0,q.map)({[EC]:[,e[yC]],[vC]:[()=>e.maxResults!==void 0,()=>e[SC].toString()]}),o;return r.m("GET").h(n).q(i).b(o),r.build()},"se_ListAccountsCommand"),gG=se(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,q.map)({},q.isSerializableHeaderValue,{[nu]:e[ru]});r.bp("/logout");let i;return r.m("POST").h(n).b(i),r.build()},"se_LogoutCommand"),_G=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tu(e,t);let r=(0,q.map)({$metadata:Lr(e)}),n=(0,q.expectNonNull)((0,q.expectObject)(await(0,pa.parseJsonBody)(e.body,t)),"body"),i=(0,q.take)(n,{roleCredentials:q._json});return Object.assign(r,i),r},"de_GetRoleCredentialsCommand"),SG=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tu(e,t);let r=(0,q.map)({$metadata:Lr(e)}),n=(0,q.expectNonNull)((0,q.expectObject)(await(0,pa.parseJsonBody)(e.body,t)),"body"),i=(0,q.take)(n,{nextToken:q.expectString,roleList:q._json});return Object.assign(r,i),r},"de_ListAccountRolesCommand"),vG=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tu(e,t);let r=(0,q.map)({$metadata:Lr(e)}),n=(0,q.expectNonNull)((0,q.expectObject)(await(0,pa.parseJsonBody)(e.body,t)),"body"),i=(0,q.take)(n,{accountList:q._json,nextToken:q.expectString});return Object.assign(r,i),r},"de_ListAccountsCommand"),yG=se(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tu(e,t);let r=(0,q.map)({$metadata:Lr(e)});return await(0,q.collectBody)(e.body,t),r},"de_LogoutCommand"),tu=se(async(e,t)=>{let r={...e,body:await(0,pa.parseJsonErrorBody)(e.body,t)},n=(0,pa.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await bG(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await PG(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await wG(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await CG(r,t);default:let i=r.body;return EG({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),EG=(0,q.withBaseException)(Zn),bG=se(async(e,t)=>{let r=(0,q.map)({}),n=e.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new sC({$metadata:Lr(e),...r});return(0,q.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),PG=se(async(e,t)=>{let r=(0,q.map)({}),n=e.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new aC({$metadata:Lr(e),...r});return(0,q.decorateServiceException)(o,e.body)},"de_ResourceNotFoundExceptionRes"),wG=se(async(e,t)=>{let r=(0,q.map)({}),n=e.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new cC({$metadata:Lr(e),...r});return(0,q.decorateServiceException)(o,e.body)},"de_TooManyRequestsExceptionRes"),CG=se(async(e,t)=>{let r=(0,q.map)({}),n=e.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new lC({$metadata:Lr(e),...r});return(0,q.decorateServiceException)(o,e.body)},"de_UnauthorizedExceptionRes"),Lr=se(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),gC="accountId",ru="accessToken",_C="account_id",SC="maxResults",vC="max_result",yC="nextToken",EC="next_token",AG="roleName",xG="role_name",nu="x-amz-sso_bearer_token",fa,bC=(fa=class extends q.Command.classBuilder().ep(Qd).m(function(t,r,n,i){return[(0,eu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,va.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(dC,pC).ser(mG).de(_G).build(){},(()=>{se(fa,"GetRoleCredentialsCommand")})(),fa),ha,ff=(ha=class extends q.Command.classBuilder().ep(Qd).m(function(t,r,n,i){return[(0,eu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,va.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(mC,void 0).ser(fG).de(SG).build(){},(()=>{se(ha,"ListAccountRolesCommand")})(),ha),ga,hf=(ga=class extends q.Command.classBuilder().ep(Qd).m(function(t,r,n,i){return[(0,eu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,va.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(fC,void 0).ser(hG).de(vG).build(){},(()=>{se(ga,"ListAccountsCommand")})(),ga),_a,PC=(_a=class extends q.Command.classBuilder().ep(Qd).m(function(t,r,n,i){return[(0,eu.getSerdePlugin)(n,this.serialize,this.deserialize),(0,va.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(hC,void 0).ser(gG).de(yG).build(){},(()=>{se(_a,"LogoutCommand")})(),_a),OG={GetRoleCredentialsCommand:bC,ListAccountRolesCommand:ff,ListAccountsCommand:hf,LogoutCommand:PC},Sa,wC=(Sa=class extends Zd{},(()=>{se(Sa,"SSO")})(),Sa);(0,q.createAggregatedClient)(OG,wC);var RG=(0,rr.createPaginator)(Zd,ff,"nextToken","nextToken","maxResults"),TG=(0,rr.createPaginator)(Zd,hf,"nextToken","nextToken","maxResults")});var _f=C(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.resolveHttpAuthSchemeConfig=Fr.defaultSSOOIDCHttpAuthSchemeProvider=Fr.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var IG=Fe(),gf=ct(),NG=async(e,t,r)=>({operation:(0,gf.getSmithyContext)(t).operation,region:await(0,gf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Fr.defaultSSOOIDCHttpAuthSchemeParametersProvider=NG;function DG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function MG(e){return{schemeId:"smithy.api#noAuth"}}var kG=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(MG(e));break}default:t.push(DG(e))}return t};Fr.defaultSSOOIDCHttpAuthSchemeProvider=kG;var LG=e=>{let t=(0,IG.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,gf.normalizeProvider)(e.authSchemePreference??[])})};Fr.resolveHttpAuthSchemeConfig=LG});var Sf=C((Y9,FG)=>{FG.exports={name:"@aws-sdk/nested-clients",version:"3.848.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var $C=C(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.ruleSet=void 0;var FC="required",_t="fn",St="argv",ri="ref",xC=!0,OC="isSet",ya="booleanEquals",ei="error",ti="endpoint",nr="tree",vf="PartitionResult",yf="getAttr",RC={[FC]:!1,type:"String"},TC={[FC]:!0,default:!1,type:"Boolean"},IC={[ri]:"Endpoint"},qC={[_t]:ya,[St]:[{[ri]:"UseFIPS"},!0]},jC={[_t]:ya,[St]:[{[ri]:"UseDualStack"},!0]},gt={},NC={[_t]:yf,[St]:[{[ri]:vf},"supportsFIPS"]},UC={[ri]:vf},DC={[_t]:ya,[St]:[!0,{[_t]:yf,[St]:[UC,"supportsDualStack"]}]},MC=[qC],kC=[jC],LC=[{[ri]:"Region"}],qG={version:"1.0",parameters:{Region:RC,UseDualStack:TC,UseFIPS:TC,Endpoint:RC},rules:[{conditions:[{[_t]:OC,[St]:[IC]}],rules:[{conditions:MC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ei},{conditions:kC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ei},{endpoint:{url:IC,properties:gt,headers:gt},type:ti}],type:nr},{conditions:[{[_t]:OC,[St]:LC}],rules:[{conditions:[{[_t]:"aws.partition",[St]:LC,assign:vf}],rules:[{conditions:[qC,jC],rules:[{conditions:[{[_t]:ya,[St]:[xC,NC]},DC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ti}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ei}],type:nr},{conditions:MC,rules:[{conditions:[{[_t]:ya,[St]:[NC,xC]}],rules:[{conditions:[{[_t]:"stringEquals",[St]:[{[_t]:yf,[St]:[UC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:gt,headers:gt},type:ti},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ti}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:ei}],type:nr},{conditions:kC,rules:[{conditions:[DC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ti}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:ei}],type:nr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ti}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:ei}]};iu.ruleSet=qG});var HC=C(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.defaultEndpointResolver=void 0;var jG=On(),Ef=xn(),UG=$C(),$G=new Ef.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),HG=(e,t={})=>$G.get(e,()=>(0,Ef.resolveEndpoint)(UG.ruleSet,{endpointParams:e,logger:t.logger}));ou.defaultEndpointResolver=HG;Ef.customEndpointFunctions.aws=jG.awsEndpointFunctions});var VC=C(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.getRuntimeConfig=void 0;var zG=Fe(),BG=et(),VG=ie(),GG=Pr(),zC=Ke(),BC=Ue(),WG=_f(),KG=HC(),XG=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??zC.fromBase64,base64Encoder:e?.base64Encoder??zC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??KG.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??WG.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new zG.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new BG.NoAuthSigner}],logger:e?.logger??new VG.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??GG.parseUrl,utf8Decoder:e?.utf8Decoder??BC.fromUtf8,utf8Encoder:e?.utf8Encoder??BC.toUtf8});su.getRuntimeConfig=XG});var JC=C(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getRuntimeConfig=void 0;var JG=Jr(),YG=JG.__importDefault(Sf()),GC=Fe(),WC=ia(),au=qt(),QG=sa(),KC=er(),cn=Ir(),XC=Wr(),ZG=aa(),e2=$n(),t2=VC(),r2=ie(),n2=da(),i2=ie(),o2=e=>{(0,i2.emitWarningIfUnsupportedVersion)(process.version);let t=(0,n2.resolveDefaultsModeConfig)(e),r=()=>t().then(r2.loadConfigsForDefaultMode),n=(0,t2.getRuntimeConfig)(e);(0,GC.emitWarningIfUnsupportedVersion)(process.version);let i={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,cn.loadConfig)(GC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:e?.bodyLengthChecker??ZG.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,WC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:YG.default.version}),maxAttempts:e?.maxAttempts??(0,cn.loadConfig)(KC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,cn.loadConfig)(au.NODE_REGION_CONFIG_OPTIONS,{...au.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:XC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,cn.loadConfig)({...KC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||e2.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??QG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??XC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,cn.loadConfig)(au.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:e?.useFipsEndpoint??(0,cn.loadConfig)(au.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:e?.userAgentAppId??(0,cn.loadConfig)(WC.NODE_APP_ID_CONFIG_OPTIONS,i)}};cu.getRuntimeConfig=o2});var wf=C((r7,PA)=>{"use strict";var lu=Object.defineProperty,s2=Object.getOwnPropertyDescriptor,a2=Object.getOwnPropertyNames,c2=Object.prototype.hasOwnProperty,oe=(e,t)=>lu(e,"name",{value:t,configurable:!0}),l2=(e,t)=>{for(var r in t)lu(e,r,{get:t[r],enumerable:!0})},d2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of a2(t))!c2.call(e,i)&&i!==r&&lu(e,i,{get:()=>t[i],enumerable:!(n=s2(t,i))||n.enumerable});return e},u2=e=>d2(lu({},"__esModule",{value:!0}),e),iA={};l2(iA,{$Command:()=>aA.Command,AccessDeniedException:()=>cA,AuthorizationPendingException:()=>lA,CreateTokenCommand:()=>EA,CreateTokenRequestFilterSensitiveLog:()=>dA,CreateTokenResponseFilterSensitiveLog:()=>uA,ExpiredTokenException:()=>pA,InternalServerException:()=>mA,InvalidClientException:()=>fA,InvalidGrantException:()=>hA,InvalidRequestException:()=>gA,InvalidScopeException:()=>_A,SSOOIDC:()=>bA,SSOOIDCClient:()=>sA,SSOOIDCServiceException:()=>ot,SlowDownException:()=>SA,UnauthorizedClientException:()=>vA,UnsupportedGrantTypeException:()=>yA,__Client:()=>oA.Client});PA.exports=u2(iA);var YC=zo(),p2=Bo(),m2=Vo(),QC=qn(),f2=qt(),bf=et(),h2=Bs(),g2=Nr(),ZC=er(),oA=ie(),eA=_f(),_2=oe(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),S2={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},v2=JC(),tA=ua(),rA=be(),nA=ie(),y2=oe(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),E2=oe(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),b2=oe((e,t)=>{let r=Object.assign((0,tA.getAwsRegionExtensionConfiguration)(e),(0,nA.getDefaultExtensionConfiguration)(e),(0,rA.getHttpHandlerExtensionConfiguration)(e),y2(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,tA.resolveAwsRegionExtensionConfiguration)(r),(0,nA.resolveDefaultRuntimeConfig)(r),(0,rA.resolveHttpHandlerRuntimeConfig)(r),E2(r))},"resolveRuntimeExtensions"),Ea,sA=(Ea=class extends oA.Client{constructor(...[r]){let n=(0,v2.getRuntimeConfig)(r||{});super(n);b(this,"config");this.initConfig=n;let i=_2(n),o=(0,QC.resolveUserAgentConfig)(i),s=(0,ZC.resolveRetryConfig)(o),a=(0,f2.resolveRegionConfig)(s),c=(0,YC.resolveHostHeaderConfig)(a),l=(0,g2.resolveEndpointConfig)(c),m=(0,eA.resolveHttpAuthSchemeConfig)(l),f=b2(m,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,QC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ZC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,h2.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,YC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,p2.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,m2.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,bf.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:eA.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:oe(async h=>new bf.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,bf.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},(()=>{oe(Ea,"SSOOIDCClient")})(),Ea),P2=ie(),w2=Nr(),C2=hr(),aA=ie(),ni=ie(),A2=ie(),ii,ot=(ii=class extends A2.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,ii.prototype)}},(()=>{oe(ii,"SSOOIDCServiceException")})(),ii),oi,cA=(oi=class extends ot{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r});b(this,"name","AccessDeniedException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,oi.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(oi,"AccessDeniedException")})(),oi),si,lA=(si=class extends ot{constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r});b(this,"name","AuthorizationPendingException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,si.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(si,"AuthorizationPendingException")})(),si),dA=oe(e=>({...e,...e.clientSecret&&{clientSecret:ni.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ni.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:ni.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),uA=oe(e=>({...e,...e.accessToken&&{accessToken:ni.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ni.SENSITIVE_STRING},...e.idToken&&{idToken:ni.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),ai,pA=(ai=class extends ot{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r});b(this,"name","ExpiredTokenException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,ai.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(ai,"ExpiredTokenException")})(),ai),ci,mA=(ci=class extends ot{constructor(r){super({name:"InternalServerException",$fault:"server",...r});b(this,"name","InternalServerException");b(this,"$fault","server");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,ci.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(ci,"InternalServerException")})(),ci),li,fA=(li=class extends ot{constructor(r){super({name:"InvalidClientException",$fault:"client",...r});b(this,"name","InvalidClientException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,li.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(li,"InvalidClientException")})(),li),di,hA=(di=class extends ot{constructor(r){super({name:"InvalidGrantException",$fault:"client",...r});b(this,"name","InvalidGrantException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,di.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(di,"InvalidGrantException")})(),di),ui,gA=(ui=class extends ot{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r});b(this,"name","InvalidRequestException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,ui.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(ui,"InvalidRequestException")})(),ui),pi,_A=(pi=class extends ot{constructor(r){super({name:"InvalidScopeException",$fault:"client",...r});b(this,"name","InvalidScopeException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,pi.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(pi,"InvalidScopeException")})(),pi),mi,SA=(mi=class extends ot{constructor(r){super({name:"SlowDownException",$fault:"client",...r});b(this,"name","SlowDownException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,mi.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(mi,"SlowDownException")})(),mi),fi,vA=(fi=class extends ot{constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r});b(this,"name","UnauthorizedClientException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,fi.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(fi,"UnauthorizedClientException")})(),fi),hi,yA=(hi=class extends ot{constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r});b(this,"name","UnsupportedGrantTypeException");b(this,"$fault","client");b(this,"error");b(this,"error_description");Object.setPrototypeOf(this,hi.prototype),this.error=r.error,this.error_description=r.error_description}},(()=>{oe(hi,"UnsupportedGrantTypeException")})(),hi),Pf=Fe(),x2=et(),F=ie(),O2=oe(async(e,t)=>{let r=(0,x2.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let i;return i=JSON.stringify((0,F.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:oe(o=>(0,F._json)(o),"scope")})),r.m("POST").h(n).b(i),r.build()},"se_CreateTokenCommand"),R2=oe(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T2(e,t);let r=(0,F.map)({$metadata:vt(e)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,Pf.parseJsonBody)(e.body,t)),"body"),i=(0,F.take)(n,{accessToken:F.expectString,expiresIn:F.expectInt32,idToken:F.expectString,refreshToken:F.expectString,tokenType:F.expectString});return Object.assign(r,i),r},"de_CreateTokenCommand"),T2=oe(async(e,t)=>{let r={...e,body:await(0,Pf.parseJsonErrorBody)(e.body,t)},n=(0,Pf.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await N2(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await D2(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await M2(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await k2(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await L2(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await F2(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await q2(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await j2(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await U2(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await $2(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await H2(r,t);default:let i=r.body;return I2({output:e,parsedBody:i,errorCode:n})}},"de_CommandError"),I2=(0,F.withBaseException)(ot),N2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new cA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_AccessDeniedExceptionRes"),D2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new lA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_AuthorizationPendingExceptionRes"),M2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new pA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_ExpiredTokenExceptionRes"),k2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new mA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_InternalServerExceptionRes"),L2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new fA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_InvalidClientExceptionRes"),F2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new hA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_InvalidGrantExceptionRes"),q2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new gA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_InvalidRequestExceptionRes"),j2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new _A({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_InvalidScopeExceptionRes"),U2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new SA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_SlowDownExceptionRes"),$2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new vA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_UnauthorizedClientExceptionRes"),H2=oe(async(e,t)=>{let r=(0,F.map)({}),n=e.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let o=new yA({$metadata:vt(e),...r});return(0,F.decorateServiceException)(o,e.body)},"de_UnsupportedGrantTypeExceptionRes"),vt=oe(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ba,EA=(ba=class extends aA.Command.classBuilder().ep(S2).m(function(t,r,n,i){return[(0,C2.getSerdePlugin)(n,this.serialize,this.deserialize),(0,w2.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(dA,uA).ser(O2).de(R2).build(){},(()=>{oe(ba,"CreateTokenCommand")})(),ba),z2={CreateTokenCommand:EA},Pa,bA=(Pa=class extends sA{},(()=>{oe(Pa,"SSOOIDC")})(),Pa);(0,P2.createAggregatedClient)(z2,bA)});var IA=C((n7,TA)=>{"use strict";var B2=Object.create,Ca=Object.defineProperty,V2=Object.getOwnPropertyDescriptor,G2=Object.getOwnPropertyNames,W2=Object.getPrototypeOf,K2=Object.prototype.hasOwnProperty,ir=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),X2=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},AA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of G2(t))!K2.call(e,i)&&i!==r&&Ca(e,i,{get:()=>t[i],enumerable:!(n=V2(t,i))||n.enumerable});return e},xA=(e,t,r)=>(r=e!=null?B2(W2(e)):{},AA(t||!e||!e.__esModule?Ca(r,"default",{value:e,enumerable:!0}):r,e)),J2=e=>AA(Ca({},"__esModule",{value:!0}),e),OA={};X2(OA,{fromEnvSigningName:()=>Z2,fromSso:()=>RA,fromStatic:()=>s4,nodeProvider:()=>a4});TA.exports=J2(OA);var Y2=Pt(),Q2=em(),st=Xe(),Z2=ir(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new st.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Q2.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new st.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Y2.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),e4=5*60*1e3,Cf="To refresh this SSO session run 'aws sso login' with the corresponding profile.",t4=ir(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>xA(wf()));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),r4=ir(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>xA(wf()));return(await t4(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),wA=ir(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new st.TokenProviderError(`Token is expired. ${Cf}`,!1)},"validateTokenExpiry"),ln=ir((e,t,r=!1)=>{if(typeof t>"u")throw new st.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Cf}`,!1)},"validateTokenKey"),wa=Tr(),n4=require("fs"),{writeFile:i4}=n4.promises,o4=ir((e,t)=>{let r=(0,wa.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return i4(r,n)},"writeSSOTokenToFile"),CA=new Date(0),RA=ir((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,wa.parseKnownFiles)(r),i=(0,wa.getProfileName)({profile:r.profile??t?.profile}),o=n[i];if(o){if(!o.sso_session)throw new st.TokenProviderError(`Profile '${i}' is missing required property 'sso_session'.`)}else throw new st.TokenProviderError(`Profile '${i}' could not be found in shared credentials file.`,!1);let s=o.sso_session,c=(await(0,wa.loadSsoSessionData)(r))[s];if(!c)throw new st.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let w of["sso_start_url","sso_region"])if(!c[w])throw new st.TokenProviderError(`Sso session '${s}' is missing required property '${w}'.`,!1);let l=c.sso_start_url,m=c.sso_region,f;try{f=await(0,wa.getSSOTokenFromFile)(s)}catch{throw new st.TokenProviderError(`The SSO session token associated with profile=${i} was not found or is invalid. ${Cf}`,!1)}ln("accessToken",f.accessToken),ln("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:y}=f,v={token:h,expiration:new Date(y)};if(v.expiration.getTime()-Date.now()>e4)return v;if(Date.now()-CA.getTime()<30*1e3)return wA(v),v;ln("clientId",f.clientId,!0),ln("clientSecret",f.clientSecret,!0),ln("refreshToken",f.refreshToken,!0);try{CA.setTime(Date.now());let w=await r4(f,m,r);ln("accessToken",w.accessToken),ln("expiresIn",w.expiresIn);let x=new Date(Date.now()+w.expiresIn*1e3);try{await o4(s,{...f,accessToken:w.accessToken,expiresAt:x.toISOString(),refreshToken:w.refreshToken})}catch{}return{token:w.accessToken,expiration:x}}catch{return wA(v),v}},"fromSso"),s4=ir(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new st.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),a4=ir((e={})=>(0,st.memoize)((0,st.chain)(RA(e),async()=>{throw new st.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var xf=C((i7,UA)=>{"use strict";var uu=Object.defineProperty,c4=Object.getOwnPropertyDescriptor,MA=Object.getOwnPropertyNames,l4=Object.prototype.hasOwnProperty,pu=(e,t)=>uu(e,"name",{value:t,configurable:!0}),d4=(e,t)=>function(){return e&&(t=(0,e[MA(e)[0]])(e=0)),t},kA=(e,t)=>{for(var r in t)uu(e,r,{get:t[r],enumerable:!0})},u4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of MA(t))!l4.call(e,i)&&i!==r&&uu(e,i,{get:()=>t[i],enumerable:!(n=c4(t,i))||n.enumerable});return e},p4=e=>u4(uu({},"__esModule",{value:!0}),e),LA={};kA(LA,{GetRoleCredentialsCommand:()=>Af.GetRoleCredentialsCommand,SSOClient:()=>Af.SSOClient});var Af,m4=d4({"src/loadSso.ts"(){"use strict";Af=AC()}}),FA={};kA(FA,{fromSSO:()=>h4,isSsoProfile:()=>qA,validateSsoProfile:()=>jA});UA.exports=p4(FA);var qA=pu(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),NA=Pt(),f4=IA(),xt=Xe(),du=Tr(),Aa=!1,DA=pu(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,clientConfig:s,parentClientConfig:a,profile:c,logger:l})=>{let m,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Ge=await(0,f4.fromSso)({profile:c})();m={accessToken:Ge.token,expiresAt:new Date(Ge.expiration).toISOString()}}catch(Ge){throw new xt.CredentialsProviderError(Ge.message,{tryNextLink:Aa,logger:l})}else try{m=await(0,du.getSSOTokenFromFile)(e)}catch{throw new xt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Aa,logger:l})}if(new Date(m.expiresAt).getTime()-Date.now()<=0)throw new xt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Aa,logger:l});let{accessToken:h}=m,{SSOClient:y,GetRoleCredentialsCommand:v}=await Promise.resolve().then(()=>(m4(),LA)),w=o||new y(Object.assign({},s??{},{logger:s?.logger??a?.logger,region:s?.region??n})),x;try{x=await w.send(new v({accountId:r,roleName:i,accessToken:h}))}catch(Ge){throw new xt.CredentialsProviderError(Ge,{tryNextLink:Aa,logger:l})}let{roleCredentials:{accessKeyId:O,secretAccessKey:T,sessionToken:D,expiration:U,credentialScope:L,accountId:H}={}}=x;if(!O||!T||!D||!U)throw new xt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Aa,logger:l});let Ve={accessKeyId:O,secretAccessKey:T,sessionToken:D,expiration:new Date(U),...L&&{credentialScope:L},...H&&{accountId:H}};return t?(0,NA.setCredentialFeature)(Ve,"CREDENTIALS_SSO","s"):(0,NA.setCredentialFeature)(Ve,"CREDENTIALS_SSO_LEGACY","u"),Ve},"resolveSSOCredentials"),jA=pu((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:o}=e;if(!r||!n||!i||!o)throw new xt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),h4=pu((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=e,{ssoClient:a}=e,c=(0,du.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!i&&!o&&!s){let m=(await(0,du.parseKnownFiles)(e))[c];if(!m)throw new xt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!qA(m))throw new xt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let O=(await(0,du.loadSsoSessionData)(e))[m.sso_session],T=` configurations in profile ${c} and sso-session ${m.sso_session}`;if(i&&i!==O.sso_region)throw new xt.CredentialsProviderError("Conflicting SSO region"+T,{tryNextLink:!1,logger:e.logger});if(r&&r!==O.sso_start_url)throw new xt.CredentialsProviderError("Conflicting SSO start_url"+T,{tryNextLink:!1,logger:e.logger});m.sso_region=O.sso_region,m.sso_start_url=O.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:y,sso_role_name:v,sso_session:w}=jA(m,e.logger);return DA({ssoStartUrl:f,ssoSession:w,ssoAccountId:h,ssoRegion:y,ssoRoleName:v,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!i||!o)throw new xt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return DA({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});var Rf=C(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.resolveHttpAuthSchemeConfig=Ot.resolveStsAuthConfig=Ot.defaultSTSHttpAuthSchemeProvider=Ot.defaultSTSHttpAuthSchemeParametersProvider=void 0;var g4=Fe(),Of=ct(),_4=xa(),S4=async(e,t,r)=>({operation:(0,Of.getSmithyContext)(t).operation,region:await(0,Of.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ot.defaultSTSHttpAuthSchemeParametersProvider=S4;function v4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function y4(e){return{schemeId:"smithy.api#noAuth"}}var E4=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(y4(e));break}default:t.push(v4(e))}return t};Ot.defaultSTSHttpAuthSchemeProvider=E4;var b4=e=>Object.assign(e,{stsClientCtor:_4.STSClient});Ot.resolveStsAuthConfig=b4;var P4=e=>{let t=(0,Ot.resolveStsAuthConfig)(e),r=(0,g4.resolveAwsSdkSigV4Config)(t);return Object.assign(r,{authSchemePreference:(0,Of.normalizeProvider)(e.authSchemePreference??[])})};Ot.resolveHttpAuthSchemeConfig=P4});var Oa=C(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.commonParams=gi.resolveClientEndpointParameters=void 0;var w4=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});gi.resolveClientEndpointParameters=w4;gi.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var c0=C(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.ruleSet=void 0;var QA="required",re="type",pe="fn",me="argv",jr="ref",$A=!1,Tf=!0,qr="booleanEquals",ze="stringEquals",ZA="sigv4",e0="sts",t0="us-east-1",Ce="endpoint",HA="https://sts.{Region}.{PartitionResult#dnsSuffix}",$t="tree",_i="error",Nf="getAttr",zA={[QA]:!1,[re]:"String"},If={[QA]:!0,default:!1,[re]:"Boolean"},r0={[jr]:"Endpoint"},BA={[pe]:"isSet",[me]:[{[jr]:"Region"}]},Be={[jr]:"Region"},VA={[pe]:"aws.partition",[me]:[Be],assign:"PartitionResult"},n0={[jr]:"UseFIPS"},i0={[jr]:"UseDualStack"},We={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:ZA,signingName:e0,signingRegion:t0}]},headers:{}},at={},GA={conditions:[{[pe]:ze,[me]:[Be,"aws-global"]}],[Ce]:We,[re]:Ce},o0={[pe]:qr,[me]:[n0,!0]},s0={[pe]:qr,[me]:[i0,!0]},WA={[pe]:Nf,[me]:[{[jr]:"PartitionResult"},"supportsFIPS"]},a0={[jr]:"PartitionResult"},KA={[pe]:qr,[me]:[!0,{[pe]:Nf,[me]:[a0,"supportsDualStack"]}]},XA=[{[pe]:"isSet",[me]:[r0]}],JA=[o0],YA=[s0],C4={version:"1.0",parameters:{Region:zA,UseDualStack:If,UseFIPS:If,Endpoint:zA,UseGlobalEndpoint:If},rules:[{conditions:[{[pe]:qr,[me]:[{[jr]:"UseGlobalEndpoint"},Tf]},{[pe]:"not",[me]:XA},BA,VA,{[pe]:qr,[me]:[n0,$A]},{[pe]:qr,[me]:[i0,$A]}],rules:[{conditions:[{[pe]:ze,[me]:[Be,"ap-northeast-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"ap-south-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"ap-southeast-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"ap-southeast-2"]}],endpoint:We,[re]:Ce},GA,{conditions:[{[pe]:ze,[me]:[Be,"ca-central-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"eu-central-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"eu-north-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"eu-west-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"eu-west-2"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"eu-west-3"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"sa-east-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,t0]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"us-east-2"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"us-west-1"]}],endpoint:We,[re]:Ce},{conditions:[{[pe]:ze,[me]:[Be,"us-west-2"]}],endpoint:We,[re]:Ce},{endpoint:{url:HA,properties:{authSchemes:[{name:ZA,signingName:e0,signingRegion:"{Region}"}]},headers:at},[re]:Ce}],[re]:$t},{conditions:XA,rules:[{conditions:JA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[re]:_i},{conditions:YA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[re]:_i},{endpoint:{url:r0,properties:at,headers:at},[re]:Ce}],[re]:$t},{conditions:[BA],rules:[{conditions:[VA],rules:[{conditions:[o0,s0],rules:[{conditions:[{[pe]:qr,[me]:[Tf,WA]},KA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},[re]:Ce}],[re]:$t},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[re]:_i}],[re]:$t},{conditions:JA,rules:[{conditions:[{[pe]:qr,[me]:[WA,Tf]}],rules:[{conditions:[{[pe]:ze,[me]:[{[pe]:Nf,[me]:[a0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:at,headers:at},[re]:Ce},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},[re]:Ce}],[re]:$t},{error:"FIPS is enabled but this partition does not support FIPS",[re]:_i}],[re]:$t},{conditions:YA,rules:[{conditions:[KA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},[re]:Ce}],[re]:$t},{error:"DualStack is enabled but this partition does not support DualStack",[re]:_i}],[re]:$t},GA,{endpoint:{url:HA,properties:at,headers:at},[re]:Ce}],[re]:$t}],[re]:$t},{error:"Invalid Configuration: Missing Region",[re]:_i}]};mu.ruleSet=C4});var l0=C(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.defaultEndpointResolver=void 0;var A4=On(),Df=xn(),x4=c0(),O4=new Df.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),R4=(e,t={})=>O4.get(e,()=>(0,Df.resolveEndpoint)(x4.ruleSet,{endpointParams:e,logger:t.logger}));fu.defaultEndpointResolver=R4;Df.customEndpointFunctions.aws=A4.awsEndpointFunctions});var p0=C(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.getRuntimeConfig=void 0;var T4=Fe(),I4=et(),N4=ie(),D4=Pr(),d0=Ke(),u0=Ue(),M4=Rf(),k4=l0(),L4=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??d0.fromBase64,base64Encoder:e?.base64Encoder??d0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??k4.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??M4.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new T4.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new I4.NoAuthSigner}],logger:e?.logger??new N4.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??D4.parseUrl,utf8Decoder:e?.utf8Decoder??u0.fromUtf8,utf8Encoder:e?.utf8Encoder??u0.toUtf8});hu.getRuntimeConfig=L4});var g0=C(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.getRuntimeConfig=void 0;var F4=Jr(),q4=F4.__importDefault(Sf()),Mf=Fe(),m0=ia(),gu=qt(),j4=et(),U4=sa(),f0=er(),dn=Ir(),h0=Wr(),$4=aa(),H4=$n(),z4=p0(),B4=ie(),V4=da(),G4=ie(),W4=e=>{(0,G4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,V4.resolveDefaultsModeConfig)(e),r=()=>t().then(B4.loadConfigsForDefaultMode),n=(0,z4.getRuntimeConfig)(e);(0,Mf.emitWarningIfUnsupportedVersion)(process.version);let i={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,dn.loadConfig)(Mf.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:e?.bodyLengthChecker??$4.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,m0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:q4.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await e.credentialDefaultProvider(s?.__config||{})()),signer:new Mf.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new j4.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,dn.loadConfig)(f0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,dn.loadConfig)(gu.NODE_REGION_CONFIG_OPTIONS,{...gu.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:h0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,dn.loadConfig)({...f0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||H4.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??U4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??h0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,dn.loadConfig)(gu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:e?.useFipsEndpoint??(0,dn.loadConfig)(gu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:e?.userAgentAppId??(0,dn.loadConfig)(m0.NODE_APP_ID_CONFIG_OPTIONS,i)}};_u.getRuntimeConfig=W4});var _0=C(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.resolveHttpAuthRuntimeConfig=Si.getHttpAuthExtensionConfiguration=void 0;var K4=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}};Si.getHttpAuthExtensionConfiguration=K4;var X4=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Si.resolveHttpAuthRuntimeConfig=X4});var b0=C(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.resolveRuntimeExtensions=void 0;var S0=ua(),v0=be(),y0=ie(),E0=_0(),J4=(e,t)=>{let r=Object.assign((0,S0.getAwsRegionExtensionConfiguration)(e),(0,y0.getDefaultExtensionConfiguration)(e),(0,v0.getHttpHandlerExtensionConfiguration)(e),(0,E0.getHttpAuthExtensionConfiguration)(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,S0.resolveAwsRegionExtensionConfiguration)(r),(0,y0.resolveDefaultRuntimeConfig)(r),(0,v0.resolveHttpHandlerRuntimeConfig)(r),(0,E0.resolveHttpAuthRuntimeConfig)(r))};Su.resolveRuntimeExtensions=J4});var xa=C(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.STSClient=vi.__Client=void 0;var P0=zo(),Y4=Bo(),Q4=Vo(),w0=qn(),Z4=qt(),kf=et(),e3=Bs(),t3=Nr(),C0=er(),x0=ie();Object.defineProperty(vi,"__Client",{enumerable:!0,get:function(){return x0.Client}});var A0=Rf(),r3=Oa(),n3=g0(),i3=b0(),Lf=class extends x0.Client{constructor(...[r]){let n=(0,n3.getRuntimeConfig)(r||{});super(n);b(this,"config");this.initConfig=n;let i=(0,r3.resolveClientEndpointParameters)(n),o=(0,w0.resolveUserAgentConfig)(i),s=(0,C0.resolveRetryConfig)(o),a=(0,Z4.resolveRegionConfig)(s),c=(0,P0.resolveHostHeaderConfig)(a),l=(0,t3.resolveEndpointConfig)(c),m=(0,A0.resolveHttpAuthSchemeConfig)(l),f=(0,i3.resolveRuntimeExtensions)(m,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,w0.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,C0.getRetryPlugin)(this.config)),this.middlewareStack.use((0,e3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,P0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Y4.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Q4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,kf.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:A0.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new kf.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use((0,kf.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};vi.STSClient=Lf});var mh=C((f7,ph)=>{"use strict";var vu=Object.defineProperty,o3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,a3=Object.prototype.hasOwnProperty,j=(e,t)=>vu(e,"name",{value:t,configurable:!0}),c3=(e,t)=>{for(var r in t)vu(e,r,{get:t[r],enumerable:!0})},oh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of s3(t))!a3.call(e,i)&&i!==r&&vu(e,i,{get:()=>t[i],enumerable:!(n=o3(t,i))||n.enumerable});return e},l3=(e,t,r)=>(oh(e,t,"default"),r&&oh(r,t,"default")),d3=e=>oh(vu({},"__esModule",{value:!0}),e),ah={};c3(ah,{AssumeRoleCommand:()=>dh,AssumeRoleResponseFilterSensitiveLog:()=>T0,AssumeRoleWithWebIdentityCommand:()=>uh,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>F0,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>q0,ClientInputEndpointParameters:()=>rW.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>ch,ExpiredTokenException:()=>I0,IDPCommunicationErrorException:()=>j0,IDPRejectedClaimException:()=>k0,InvalidIdentityTokenException:()=>L0,MalformedPolicyDocumentException:()=>N0,PackedPolicyTooLargeException:()=>D0,RegionDisabledException:()=>M0,STS:()=>J0,STSServiceException:()=>sr,decorateDefaultCredentialProvider:()=>oW,getDefaultRoleAssumer:()=>rx,getDefaultRoleAssumerWithWebIdentity:()=>nx});ph.exports=d3(ah);l3(ah,xa(),ph.exports);var u3=ie(),p3=Nr(),m3=hr(),f3=ie(),h3=Oa(),R0=ie(),g3=ie(),Oi,sr=(Oi=class extends g3.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Oi.prototype)}},(()=>{j(Oi,"STSServiceException")})(),Oi),ch=j(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:R0.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),T0=j(e=>({...e,...e.Credentials&&{Credentials:ch(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),Ri,I0=(Ri=class extends sr{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r});b(this,"name","ExpiredTokenException");b(this,"$fault","client");Object.setPrototypeOf(this,Ri.prototype)}},(()=>{j(Ri,"ExpiredTokenException")})(),Ri),Ti,N0=(Ti=class extends sr{constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r});b(this,"name","MalformedPolicyDocumentException");b(this,"$fault","client");Object.setPrototypeOf(this,Ti.prototype)}},(()=>{j(Ti,"MalformedPolicyDocumentException")})(),Ti),Ii,D0=(Ii=class extends sr{constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r});b(this,"name","PackedPolicyTooLargeException");b(this,"$fault","client");Object.setPrototypeOf(this,Ii.prototype)}},(()=>{j(Ii,"PackedPolicyTooLargeException")})(),Ii),Ni,M0=(Ni=class extends sr{constructor(r){super({name:"RegionDisabledException",$fault:"client",...r});b(this,"name","RegionDisabledException");b(this,"$fault","client");Object.setPrototypeOf(this,Ni.prototype)}},(()=>{j(Ni,"RegionDisabledException")})(),Ni),Di,k0=(Di=class extends sr{constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r});b(this,"name","IDPRejectedClaimException");b(this,"$fault","client");Object.setPrototypeOf(this,Di.prototype)}},(()=>{j(Di,"IDPRejectedClaimException")})(),Di),Mi,L0=(Mi=class extends sr{constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r});b(this,"name","InvalidIdentityTokenException");b(this,"$fault","client");Object.setPrototypeOf(this,Mi.prototype)}},(()=>{j(Mi,"InvalidIdentityTokenException")})(),Mi),F0=j(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:R0.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),q0=j(e=>({...e,...e.Credentials&&{Credentials:ch(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),ki,j0=(ki=class extends sr{constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r});b(this,"name","IDPCommunicationErrorException");b(this,"$fault","client");Object.setPrototypeOf(this,ki.prototype)}},(()=>{j(ki,"IDPCommunicationErrorException")})(),ki),lh=Fe(),_3=be(),he=ie(),S3=j(async(e,t)=>{let r=V0,n;return n=X0({...R3(e,t),[W0]:W3,[K0]:G0}),B0(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),v3=j(async(e,t)=>{let r=V0,n;return n=X0({...T3(e,t),[W0]:K3,[K0]:G0}),B0(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),y3=j(async(e,t)=>{if(e.statusCode>=300)return U0(e,t);let r=await(0,lh.parseXmlBody)(e.body,t),n={};return n=F3(r.AssumeRoleResult,t),{$metadata:ar(e),...n}},"de_AssumeRoleCommand"),E3=j(async(e,t)=>{if(e.statusCode>=300)return U0(e,t);let r=await(0,lh.parseXmlBody)(e.body,t),n={};return n=q3(r.AssumeRoleWithWebIdentityResult,t),{$metadata:ar(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),U0=j(async(e,t)=>{let r={...e,body:await(0,lh.parseXmlErrorBody)(e.body,t)},n=X3(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await b3(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await A3(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await x3(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await O3(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await P3(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await w3(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await C3(r,t);default:let i=r.body;return G3({output:e,parsedBody:i.Error,errorCode:n})}},"de_CommandError"),b3=j(async(e,t)=>{let r=e.body,n=j3(r.Error,t),i=new I0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_ExpiredTokenExceptionRes"),P3=j(async(e,t)=>{let r=e.body,n=U3(r.Error,t),i=new j0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_IDPCommunicationErrorExceptionRes"),w3=j(async(e,t)=>{let r=e.body,n=$3(r.Error,t),i=new k0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_IDPRejectedClaimExceptionRes"),C3=j(async(e,t)=>{let r=e.body,n=H3(r.Error,t),i=new L0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_InvalidIdentityTokenExceptionRes"),A3=j(async(e,t)=>{let r=e.body,n=z3(r.Error,t),i=new N0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_MalformedPolicyDocumentExceptionRes"),x3=j(async(e,t)=>{let r=e.body,n=B3(r.Error,t),i=new D0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_PackedPolicyTooLargeExceptionRes"),O3=j(async(e,t)=>{let r=e.body,n=V3(r.Error,t),i=new M0({$metadata:ar(e),...n});return(0,he.decorateServiceException)(i,r)},"de_RegionDisabledExceptionRes"),R3=j((e,t)=>{let r={};if(e[Ai]!=null&&(r[Ai]=e[Ai]),e[xi]!=null&&(r[xi]=e[xi]),e[wi]!=null){let n=$0(e[wi],t);e[wi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}if(e[Pi]!=null&&(r[Pi]=e[Pi]),e[bi]!=null&&(r[bi]=e[bi]),e[Zf]!=null){let n=L3(e[Zf],t);e[Zf]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}if(e[th]!=null){let n=k3(e[th],t);e[th]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([i,o])=>{let s=`TransitiveTagKeys.${i}`;r[s]=o})}if(e[zf]!=null&&(r[zf]=e[zf]),e[Yf]!=null&&(r[Yf]=e[Yf]),e[eh]!=null&&(r[eh]=e[eh]),e[or]!=null&&(r[or]=e[or]),e[Gf]!=null){let n=D3(e[Gf],t);e[Gf]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([i,o])=>{let s=`ProvidedContexts.${i}`;r[s]=o})}return r},"se_AssumeRoleRequest"),T3=j((e,t)=>{let r={};if(e[Ai]!=null&&(r[Ai]=e[Ai]),e[xi]!=null&&(r[xi]=e[xi]),e[nh]!=null&&(r[nh]=e[nh]),e[Wf]!=null&&(r[Wf]=e[Wf]),e[wi]!=null){let n=$0(e[wi],t);e[wi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}return e[Pi]!=null&&(r[Pi]=e[Pi]),e[bi]!=null&&(r[bi]=e[bi]),r},"se_AssumeRoleWithWebIdentityRequest"),$0=j((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=I3(i,t);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),I3=j((e,t)=>{let r={};return e[ih]!=null&&(r[ih]=e[ih]),r},"se_PolicyDescriptorType"),N3=j((e,t)=>{let r={};return e[Vf]!=null&&(r[Vf]=e[Vf]),e[$f]!=null&&(r[$f]=e[$f]),r},"se_ProvidedContext"),D3=j((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=N3(i,t);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),M3=j((e,t)=>{let r={};return e[Bf]!=null&&(r[Bf]=e[Bf]),e[rh]!=null&&(r[rh]=e[rh]),r},"se_Tag"),k3=j((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_tagKeyListType"),L3=j((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=M3(i,t);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),H0=j((e,t)=>{let r={};return e[qf]!=null&&(r[qf]=(0,he.expectString)(e[qf])),e[jf]!=null&&(r[jf]=(0,he.expectString)(e[jf])),r},"de_AssumedRoleUser"),F3=j((e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=z0(e[Ei],t)),e[yi]!=null&&(r[yi]=H0(e[yi],t)),e[Ci]!=null&&(r[Ci]=(0,he.strictParseInt32)(e[Ci])),e[or]!=null&&(r[or]=(0,he.expectString)(e[or])),r},"de_AssumeRoleResponse"),q3=j((e,t)=>{let r={};return e[Ei]!=null&&(r[Ei]=z0(e[Ei],t)),e[Jf]!=null&&(r[Jf]=(0,he.expectString)(e[Jf])),e[yi]!=null&&(r[yi]=H0(e[yi],t)),e[Ci]!=null&&(r[Ci]=(0,he.strictParseInt32)(e[Ci])),e[Kf]!=null&&(r[Kf]=(0,he.expectString)(e[Kf])),e[Uf]!=null&&(r[Uf]=(0,he.expectString)(e[Uf])),e[or]!=null&&(r[or]=(0,he.expectString)(e[or])),r},"de_AssumeRoleWithWebIdentityResponse"),z0=j((e,t)=>{let r={};return e[Ff]!=null&&(r[Ff]=(0,he.expectString)(e[Ff])),e[Xf]!=null&&(r[Xf]=(0,he.expectString)(e[Xf])),e[Qf]!=null&&(r[Qf]=(0,he.expectString)(e[Qf])),e[Hf]!=null&&(r[Hf]=(0,he.expectNonNull)((0,he.parseRfc3339DateTimeWithOffset)(e[Hf]))),r},"de_Credentials"),j3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_ExpiredTokenException"),U3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_IDPCommunicationErrorException"),$3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_IDPRejectedClaimException"),H3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_InvalidIdentityTokenException"),z3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_MalformedPolicyDocumentException"),B3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_PackedPolicyTooLargeException"),V3=j((e,t)=>{let r={};return e[Te]!=null&&(r[Te]=(0,he.expectString)(e[Te])),r},"de_RegionDisabledException"),ar=j(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),G3=(0,he.withBaseException)(sr),B0=j(async(e,t,r,n,i)=>{let{hostname:o,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new _3.HttpRequest(l)},"buildHttpRpcRequest"),V0={"content-type":"application/x-www-form-urlencoded"},G0="2011-06-15",W0="Action",Ff="AccessKeyId",W3="AssumeRole",qf="AssumedRoleId",yi="AssumedRoleUser",K3="AssumeRoleWithWebIdentity",jf="Arn",Uf="Audience",Ei="Credentials",$f="ContextAssertion",bi="DurationSeconds",Hf="Expiration",zf="ExternalId",Bf="Key",Pi="Policy",wi="PolicyArns",Vf="ProviderArn",Gf="ProvidedContexts",Wf="ProviderId",Ci="PackedPolicySize",Kf="Provider",Ai="RoleArn",xi="RoleSessionName",Xf="SecretAccessKey",Jf="SubjectFromWebIdentityToken",or="SourceIdentity",Yf="SerialNumber",Qf="SessionToken",Zf="Tags",eh="TokenCode",th="TransitiveTagKeys",K0="Version",rh="Value",nh="WebIdentityToken",ih="arn",Te="message",X0=j(e=>Object.entries(e).map(([t,r])=>(0,he.extendedEncodeURIComponent)(t)+"="+(0,he.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),X3=j((e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),Ra,dh=(Ra=class extends f3.Command.classBuilder().ep(h3.commonParams).m(function(t,r,n,i){return[(0,m3.getSerdePlugin)(n,this.serialize,this.deserialize),(0,p3.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,T0).ser(S3).de(y3).build(){},(()=>{j(Ra,"AssumeRoleCommand")})(),Ra),J3=Nr(),Y3=hr(),Q3=ie(),Z3=Oa(),Ta,uh=(Ta=class extends Q3.Command.classBuilder().ep(Z3.commonParams).m(function(t,r,n,i){return[(0,Y3.getSerdePlugin)(n,this.serialize,this.deserialize),(0,J3.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(F0,q0).ser(v3).de(E3).build(){},(()=>{j(Ta,"AssumeRoleWithWebIdentityCommand")})(),Ta),eW=xa(),tW={AssumeRoleCommand:dh,AssumeRoleWithWebIdentityCommand:uh},Ia,J0=(Ia=class extends eW.STSClient{},(()=>{j(Ia,"STS")})(),Ia);(0,u3.createAggregatedClient)(tW,J0);var rW=Oa(),sh=Pt(),O0="us-east-1",Y0=j(e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},"getAccountIdFromAssumedRoleUser"),Q0=j(async(e,t,r)=>{let n=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${i} (parent client)`,`${O0} (STS default)`),n??i??O0},"resolveRegion"),nW=j((e,t)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:m=e?.parentClientConfig?.logger,region:f,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y}=e,v=await Q0(f,e?.parentClientConfig?.region,y),w=!Z0(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:j(()=>async()=>n,"credentialDefaultProvider"),region:v,requestHandler:w?h:void 0,logger:m})}let{Credentials:s,AssumedRoleUser:a}=await r.send(new dh(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=Y0(a),l={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...c&&{accountId:c}};return(0,sh.setCredentialFeature)(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},"getDefaultRoleAssumer"),iW=j((e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,h=await Q0(l,e?.parentClientConfig?.region,f),y=!Z0(m);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:y?m:void 0,logger:c})}let{Credentials:i,AssumedRoleUser:o}=await r.send(new uh(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let s=Y0(o),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...s&&{accountId:s}};return s&&(0,sh.setCredentialFeature)(a,"RESOLVED_ACCOUNT_ID","T"),(0,sh.setCredentialFeature)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},"getDefaultRoleAssumerWithWebIdentity"),Z0=j(e=>e?.metadata?.handlerProtocol==="h2","isH2"),ex=xa(),tx=j((e,t)=>{var r;return t?(r=class extends e{constructor(i){super(i);for(let o of t)this.middlewareStack.use(o)}},(()=>{j(r,"CustomizableSTSClient")})(),r):e},"getCustomizableStsClientCtor"),rx=j((e={},t)=>nW(e,tx(ex.STSClient,t)),"getDefaultRoleAssumer"),nx=j((e={},t)=>iW(e,tx(ex.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),oW=j(e=>t=>e({roleAssumer:rx(t),roleAssumerWithWebIdentity:nx(t),...t}),"decorateDefaultCredentialProvider")});var gh=C((h7,sx)=>{"use strict";var yu=Object.defineProperty,sW=Object.getOwnPropertyDescriptor,aW=Object.getOwnPropertyNames,cW=Object.prototype.hasOwnProperty,hh=(e,t)=>yu(e,"name",{value:t,configurable:!0}),lW=(e,t)=>{for(var r in t)yu(e,r,{get:t[r],enumerable:!0})},dW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of aW(t))!cW.call(e,i)&&i!==r&&yu(e,i,{get:()=>t[i],enumerable:!(n=sW(t,i))||n.enumerable});return e},uW=e=>dW(yu({},"__esModule",{value:!0}),e),ox={};lW(ox,{fromProcess:()=>_W});sx.exports=uW(ox);var ix=Tr(),fh=Xe(),pW=require("child_process"),mW=require("util"),fW=Pt(),hW=hh((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let i={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,fW.setCredentialFeature)(i,"CREDENTIALS_PROCESS","w"),i},"getValidatedProcessCredentials"),gW=hh(async(e,t,r)=>{let n=t[e];if(t[e]){let i=n.credential_process;if(i!==void 0){let o=(0,mW.promisify)(pW.exec);try{let{stdout:s}=await o(i),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return hW(e,a,t)}catch(s){throw new fh.CredentialsProviderError(s.message,{logger:r})}}else throw new fh.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new fh.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),_W=hh((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,ix.parseKnownFiles)(e);return gW((0,ix.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var _h=C(Ht=>{"use strict";var SW=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vW=Ht&&Ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yW=Ht&&Ht.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),i=0;i<n.length;i++)n[i]!=="default"&&SW(r,t,n[i]);return vW(r,t),r}}();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.fromWebToken=void 0;var EW=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:o,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>yW(mh()));l=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:o,PolicyArns:s,Policy:a,DurationSeconds:c})};Ht.fromWebToken=EW});var cx=C(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.fromTokenFile=void 0;var bW=Pt(),PW=Xe(),wW=require("fs"),CW=_h(),ax="AWS_WEB_IDENTITY_TOKEN_FILE",AW="AWS_ROLE_ARN",xW="AWS_ROLE_SESSION_NAME",OW=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[ax],r=e?.roleArn??process.env[AW],n=e?.roleSessionName??process.env[xW];if(!t||!r)throw new PW.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let i=await(0,CW.fromWebToken)({...e,webIdentityToken:(0,wW.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[ax]&&(0,bW.setCredentialFeature)(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i};Eu.fromTokenFile=OW});var yh=C((S7,bu)=>{"use strict";var lx=Object.defineProperty,RW=Object.getOwnPropertyDescriptor,TW=Object.getOwnPropertyNames,IW=Object.prototype.hasOwnProperty,Sh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of TW(t))!IW.call(e,i)&&i!==r&&lx(e,i,{get:()=>t[i],enumerable:!(n=RW(t,i))||n.enumerable});return e},dx=(e,t,r)=>(Sh(e,t,"default"),r&&Sh(r,t,"default")),NW=e=>Sh(lx({},"__esModule",{value:!0}),e),vh={};bu.exports=NW(vh);dx(vh,cx(),bu.exports);dx(vh,_h(),bu.exports)});var Sx=C((v7,_x)=>{"use strict";var DW=Object.create,Da=Object.defineProperty,MW=Object.getOwnPropertyDescriptor,kW=Object.getOwnPropertyNames,LW=Object.getPrototypeOf,FW=Object.prototype.hasOwnProperty,ke=(e,t)=>Da(e,"name",{value:t,configurable:!0}),qW=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},fx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kW(t))!FW.call(e,i)&&i!==r&&Da(e,i,{get:()=>t[i],enumerable:!(n=MW(t,i))||n.enumerable});return e},Ur=(e,t,r)=>(r=e!=null?DW(LW(e)):{},fx(t||!e||!e.__esModule?Da(r,"default",{value:e,enumerable:!0}):r,e)),jW=e=>fx(Da({},"__esModule",{value:!0}),e),hx={};qW(hx,{fromIni:()=>YW});_x.exports=jW(hx);var bh=Tr(),$r=Pt(),Na=Xe(),UW=ke((e,t,r)=>{let n={EcsContainer:ke(async i=>{let{fromHttp:o}=await Promise.resolve().then(()=>Ur(nf())),{fromContainerMetadata:s}=await Promise.resolve().then(()=>Ur(na()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Na.chain)(o(i??{}),s(i))().then(Eh)},"EcsContainer"),Ec2InstanceMetadata:ke(async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>Ur(na()));return async()=>o(i)().then(Eh)},"Ec2InstanceMetadata"),Environment:ke(async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>Ur(Jm()));return async()=>o(i)().then(Eh)},"Environment")};if(e in n)return n[e];throw new Na.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Eh=ke(e=>(0,$r.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),$W=ke((e,{profile:t="default",logger:r}={})=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(HW(e,{profile:t,logger:r})||zW(e,{profile:t,logger:r})),"isAssumeRoleProfile"),HW=ke((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),zW=ke((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),BW=ke(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:o,region:s}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Ur(mh()));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:s??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new Na.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,bh.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let a=o?gx(o,t,r,{...n,[o]:!0},ux(t[o]??{})):(await UW(i.credential_source,e,r.logger)(r))();if(ux(i))return a.then(c=>(0,$r.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new Na.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let m=await a;return r.roleAssumer(m,c).then(f=>(0,$r.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),ux=ke(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),VW=ke(e=>Boolean(e)&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),GW=ke(async(e,t)=>Promise.resolve().then(()=>Ur(gh())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,$r.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),WW=ke(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Ur(xf()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(i=>t.sso_session?(0,$r.setCredentialFeature)(i,"CREDENTIALS_PROFILE_SSO","r"):(0,$r.setCredentialFeature)(i,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),KW=ke(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),px=ke(e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),mx=ke(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,$r.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),XW=ke(e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),JW=ke(async(e,t)=>Promise.resolve().then(()=>Ur(yh())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,$r.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),gx=ke(async(e,t,r,n={},i=!1)=>{let o=t[e];if(Object.keys(n).length>0&&px(o))return mx(o,r);if(i||$W(o,{profile:e,logger:r.logger}))return BW(e,t,r,n);if(px(o))return mx(o,r);if(XW(o))return JW(o,r);if(VW(o))return GW(r,e);if(KW(o))return await WW(e,o,r);throw new Na.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),YW=ke((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,bh.parseKnownFiles)(r);return gx((0,bh.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Ax=C((y7,Cx)=>{"use strict";var QW=Object.create,Ma=Object.defineProperty,ZW=Object.getOwnPropertyDescriptor,eK=Object.getOwnPropertyNames,tK=Object.getPrototypeOf,rK=Object.prototype.hasOwnProperty,Pu=(e,t)=>Ma(e,"name",{value:t,configurable:!0}),nK=(e,t)=>{for(var r in t)Ma(e,r,{get:t[r],enumerable:!0})},Ex=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of eK(t))!rK.call(e,i)&&i!==r&&Ma(e,i,{get:()=>t[i],enumerable:!(n=ZW(t,i))||n.enumerable});return e},Li=(e,t,r)=>(r=e!=null?QW(tK(e)):{},Ex(t||!e||!e.__esModule?Ma(r,"default",{value:e,enumerable:!0}):r,e)),iK=e=>Ex(Ma({},"__esModule",{value:!0}),e),bx={};nK(bx,{credentialsTreatedAsExpired:()=>wx,credentialsWillNeedRefresh:()=>Px,defaultProvider:()=>aK});Cx.exports=iK(bx);var Ph=Jm(),oK=Tr(),un=Xe(),vx="AWS_EC2_METADATA_DISABLED",sK=Pu(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>Li(na()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>Li(nf()));return(0,un.chain)(o(e),n(e))}return process.env[vx]&&process.env[vx]!=="false"?async()=>{throw new un.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(e))},"remoteProvider"),yx=!1,aK=Pu((e={})=>(0,un.memoize)((0,un.chain)(async()=>{if(e.profile??process.env[oK.ENV_PROFILE])throw process.env[Ph.ENV_KEY]&&process.env[Ph.ENV_SECRET]&&(yx||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),yx=!0)),new un.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Ph.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoSession:o}=e;if(!t&&!r&&!n&&!i&&!o)throw new un.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:s}=await Promise.resolve().then(()=>Li(xf()));return s(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Li(Sx()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Li(gh()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Li(yh()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await sK(e))()),async()=>{throw new un.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),wx,Px),"defaultProvider"),Px=Pu(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),wx=Pu(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var $x=C(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.ruleSet=void 0;var qx="required",yt="fn",Et="argv",qi="ref",xx=!0,Ox="isSet",ka="booleanEquals",Fi="error",pn="endpoint",cr="tree",Ch="PartitionResult",Rx="stringEquals",Tx={[qx]:!1,type:"String"},Ix={[qx]:!0,default:!1,type:"Boolean"},Nx={[qi]:"Endpoint"},jx={[yt]:ka,[Et]:[{[qi]:"UseFIPS"},!0]},Ux={[yt]:ka,[Et]:[{[qi]:"UseDualStack"},!0]},rt={},wh={[qi]:"Region"},Dx={[yt]:"getAttr",[Et]:[{[qi]:Ch},"supportsFIPS"]},Mx={[yt]:ka,[Et]:[!0,{[yt]:"getAttr",[Et]:[{[qi]:Ch},"supportsDualStack"]}]},kx=[jx],Lx=[Ux],Fx=[wh],cK={version:"1.0",parameters:{Region:Tx,UseDualStack:Ix,UseFIPS:Ix,Endpoint:Tx},rules:[{conditions:[{[yt]:Ox,[Et]:[Nx]}],rules:[{conditions:kx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fi},{conditions:Lx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fi},{endpoint:{url:Nx,properties:rt,headers:rt},type:pn}],type:cr},{conditions:[{[yt]:Ox,[Et]:Fx}],rules:[{conditions:[{[yt]:"aws.partition",[Et]:Fx,assign:Ch}],rules:[{conditions:[jx,Ux],rules:[{conditions:[{[yt]:ka,[Et]:[xx,Dx]},Mx],rules:[{endpoint:{url:"https://sns-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rt,headers:rt},type:pn}],type:cr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fi}],type:cr},{conditions:kx,rules:[{conditions:[{[yt]:ka,[Et]:[Dx,xx]}],rules:[{conditions:[{[yt]:Rx,[Et]:[wh,"us-gov-east-1"]}],endpoint:{url:"https://sns.us-gov-east-1.amazonaws.com",properties:rt,headers:rt},type:pn},{conditions:[{[yt]:Rx,[Et]:[wh,"us-gov-west-1"]}],endpoint:{url:"https://sns.us-gov-west-1.amazonaws.com",properties:rt,headers:rt},type:pn},{endpoint:{url:"https://sns-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rt,headers:rt},type:pn}],type:cr},{error:"FIPS is enabled but this partition does not support FIPS",type:Fi}],type:cr},{conditions:Lx,rules:[{conditions:[Mx],rules:[{endpoint:{url:"https://sns.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rt,headers:rt},type:pn}],type:cr},{error:"DualStack is enabled but this partition does not support DualStack",type:Fi}],type:cr},{endpoint:{url:"https://sns.{Region}.{PartitionResult#dnsSuffix}",properties:rt,headers:rt},type:pn}],type:cr}],type:cr},{error:"Invalid Configuration: Missing Region",type:Fi}]};wu.ruleSet=cK});var Hx=C(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.defaultEndpointResolver=void 0;var lK=On(),Ah=xn(),dK=$x(),uK=new Ah.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),pK=(e,t={})=>uK.get(e,()=>(0,Ah.resolveEndpoint)(dK.ruleSet,{endpointParams:e,logger:t.logger}));Cu.defaultEndpointResolver=pK;Ah.customEndpointFunctions.aws=lK.awsEndpointFunctions});var Vx=C(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.getRuntimeConfig=void 0;var mK=Fe(),fK=ie(),hK=Pr(),zx=Ke(),Bx=Ue(),gK=Xm(),_K=Hx(),SK=e=>({apiVersion:"2010-03-31",base64Decoder:e?.base64Decoder??zx.fromBase64,base64Encoder:e?.base64Encoder??zx.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_K.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gK.defaultSNSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new mK.AwsSdkSigV4Signer}],logger:e?.logger??new fK.NoOpLogger,serviceId:e?.serviceId??"SNS",urlParser:e?.urlParser??hK.parseUrl,utf8Decoder:e?.utf8Decoder??Bx.fromUtf8,utf8Encoder:e?.utf8Encoder??Bx.toUtf8});Au.getRuntimeConfig=SK});var Jx=C(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.getRuntimeConfig=void 0;var vK=Jr(),yK=vK.__importDefault(OP()),Gx=Fe(),EK=Ax(),Wx=ia(),xu=qt(),bK=sa(),Kx=er(),mn=Ir(),Xx=Wr(),PK=aa(),wK=$n(),CK=Vx(),AK=ie(),xK=da(),OK=ie(),RK=e=>{(0,OK.emitWarningIfUnsupportedVersion)(process.version);let t=(0,xK.resolveDefaultsModeConfig)(e),r=()=>t().then(AK.loadConfigsForDefaultMode),n=(0,CK.getRuntimeConfig)(e);(0,Gx.emitWarningIfUnsupportedVersion)(process.version);let i={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,mn.loadConfig)(Gx.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:e?.bodyLengthChecker??PK.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??EK.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Wx.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:yK.default.version}),maxAttempts:e?.maxAttempts??(0,mn.loadConfig)(Kx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,mn.loadConfig)(xu.NODE_REGION_CONFIG_OPTIONS,{...xu.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:Xx.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,mn.loadConfig)({...Kx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wK.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??bK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Xx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,mn.loadConfig)(xu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:e?.useFipsEndpoint??(0,mn.loadConfig)(xu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:e?.userAgentAppId??(0,mn.loadConfig)(Wx.NODE_APP_ID_CONFIG_OPTIONS,i)}};Ou.getRuntimeConfig=RK});var DR=C((C7,NR)=>{"use strict";var Tu=Object.defineProperty,TK=Object.getOwnPropertyDescriptor,IK=Object.getOwnPropertyNames,NK=Object.prototype.hasOwnProperty,p=(e,t)=>Tu(e,"name",{value:t,configurable:!0}),DK=(e,t)=>{for(var r in t)Tu(e,r,{get:t[r],enumerable:!0})},MK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of IK(t))!NK.call(e,i)&&i!==r&&Tu(e,i,{get:()=>t[i],enumerable:!(n=TK(t,i))||n.enumerable});return e},kK=e=>MK(Tu({},"__esModule",{value:!0}),e),rO={};DK(rO,{AddPermissionCommand:()=>YO,AuthorizationErrorException:()=>nO,BatchEntryIdsNotDistinctException:()=>IO,BatchRequestTooLongException:()=>NO,CheckIfPhoneNumberIsOptedOutCommand:()=>QO,CheckIfPhoneNumberIsOptedOutInputFilterSensitiveLog:()=>FO,ConcurrentAccessException:()=>mO,ConfirmSubscriptionCommand:()=>ZO,CreatePlatformApplicationCommand:()=>eR,CreatePlatformEndpointCommand:()=>tR,CreateSMSSandboxPhoneNumberCommand:()=>rR,CreateSMSSandboxPhoneNumberInputFilterSensitiveLog:()=>qO,CreateTopicCommand:()=>nR,DeleteEndpointCommand:()=>iR,DeletePlatformApplicationCommand:()=>oR,DeleteSMSSandboxPhoneNumberCommand:()=>sR,DeleteSMSSandboxPhoneNumberInputFilterSensitiveLog:()=>jO,DeleteTopicCommand:()=>aR,EmptyBatchRequestException:()=>DO,EndpointDisabledException:()=>bO,FilterPolicyLimitExceededException:()=>cO,GetDataProtectionPolicyCommand:()=>cR,GetEndpointAttributesCommand:()=>lR,GetPlatformApplicationAttributesCommand:()=>dR,GetSMSAttributesCommand:()=>uR,GetSMSSandboxAccountStatusCommand:()=>pR,GetSubscriptionAttributesCommand:()=>mR,GetTopicAttributesCommand:()=>fR,InternalErrorException:()=>iO,InvalidBatchEntryIdException:()=>MO,InvalidParameterException:()=>oO,InvalidParameterValueException:()=>PO,InvalidSecurityException:()=>fO,InvalidStateException:()=>yO,KMSAccessDeniedException:()=>wO,KMSDisabledException:()=>CO,KMSInvalidStateException:()=>AO,KMSNotFoundException:()=>xO,KMSOptInRequired:()=>OO,KMSThrottlingException:()=>RO,LanguageCodeString:()=>VK,ListEndpointsByPlatformApplicationCommand:()=>Jh,ListOriginationNumbersCommand:()=>Yh,ListOriginationNumbersResultFilterSensitiveLog:()=>$O,ListPhoneNumbersOptedOutCommand:()=>Qh,ListPhoneNumbersOptedOutResponseFilterSensitiveLog:()=>HO,ListPlatformApplicationsCommand:()=>Zh,ListSMSSandboxPhoneNumbersCommand:()=>eg,ListSMSSandboxPhoneNumbersResultFilterSensitiveLog:()=>BO,ListSubscriptionsByTopicCommand:()=>tg,ListSubscriptionsCommand:()=>rg,ListTagsForResourceCommand:()=>hR,ListTopicsCommand:()=>ng,NotFoundException:()=>sO,NumberCapability:()=>GK,OptInPhoneNumberCommand:()=>gR,OptInPhoneNumberInputFilterSensitiveLog:()=>VO,OptedOutException:()=>uO,PhoneNumberInformationFilterSensitiveLog:()=>UO,PlatformApplicationDisabledException:()=>TO,PublishBatchCommand:()=>_R,PublishCommand:()=>SR,PublishInputFilterSensitiveLog:()=>GO,PutDataProtectionPolicyCommand:()=>vR,RemovePermissionCommand:()=>yR,ReplayLimitExceededException:()=>lO,ResourceNotFoundException:()=>vO,RouteType:()=>WK,SMSSandboxPhoneNumberFilterSensitiveLog:()=>zO,SMSSandboxPhoneNumberVerificationStatus:()=>KK,SNS:()=>IR,SNSClient:()=>Gt,SNSServiceException:()=>ae,SetEndpointAttributesCommand:()=>ER,SetPlatformApplicationAttributesCommand:()=>bR,SetSMSAttributesCommand:()=>PR,SetSubscriptionAttributesCommand:()=>wR,SetTopicAttributesCommand:()=>CR,StaleTagException:()=>hO,SubscribeCommand:()=>AR,SubscriptionLimitExceededException:()=>dO,TagLimitExceededException:()=>gO,TagPolicyException:()=>_O,TagResourceCommand:()=>xR,ThrottledException:()=>aO,TooManyEntriesInBatchRequestException:()=>kO,TopicLimitExceededException:()=>SO,UnsubscribeCommand:()=>OR,UntagResourceCommand:()=>RR,UserErrorException:()=>pO,ValidationException:()=>EO,VerificationException:()=>LO,VerifySMSSandboxPhoneNumberCommand:()=>TR,VerifySMSSandboxPhoneNumberInputFilterSensitiveLog:()=>WO,__Client:()=>_.Client,paginateListEndpointsByPlatformApplication:()=>AY,paginateListOriginationNumbers:()=>xY,paginateListPhoneNumbersOptedOut:()=>OY,paginateListPlatformApplications:()=>RY,paginateListSMSSandboxPhoneNumbers:()=>TY,paginateListSubscriptions:()=>NY,paginateListSubscriptionsByTopic:()=>IY,paginateListTopics:()=>DY});NR.exports=kK(rO);var Yx=zo(),LK=Bo(),FK=Vo(),Qx=qn(),qK=qt(),Tt=et(),jK=Bs(),B=Nr(),Zx=er(),eO=Xm(),UK=p(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sns"}),"resolveClientEndpointParameters"),W={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$K=Jx(),tO=ua(),Xh=be(),_=ie(),HK=p(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){let o=t.findIndex(s=>s.schemeId===i.schemeId);o===-1?t.push(i):t.splice(o,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),zK=p(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),BK=p((e,t)=>{let r=Object.assign((0,tO.getAwsRegionExtensionConfiguration)(e),(0,_.getDefaultExtensionConfiguration)(e),(0,Xh.getHttpHandlerExtensionConfiguration)(e),HK(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,tO.resolveAwsRegionExtensionConfiguration)(r),(0,_.resolveDefaultRuntimeConfig)(r),(0,Xh.resolveHttpHandlerRuntimeConfig)(r),zK(r))},"resolveRuntimeExtensions"),za,Gt=(za=class extends _.Client{constructor(...[r]){let n=(0,$K.getRuntimeConfig)(r||{});super(n);b(this,"config");this.initConfig=n;let i=UK(n),o=(0,Qx.resolveUserAgentConfig)(i),s=(0,Zx.resolveRetryConfig)(o),a=(0,qK.resolveRegionConfig)(s),c=(0,Yx.resolveHostHeaderConfig)(a),l=(0,B.resolveEndpointConfig)(c),m=(0,eO.resolveHttpAuthSchemeConfig)(l),f=BK(m,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,Qx.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Zx.getRetryPlugin)(this.config)),this.middlewareStack.use((0,jK.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Yx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,LK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,FK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Tt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:eO.defaultSNSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:p(async h=>new Tt.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Tt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},(()=>{p(za,"SNSClient")})(),za),K=hr(),fe=Fe(),no,ae=(no=class extends _.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,no.prototype)}},(()=>{p(no,"SNSServiceException")})(),no),io,nO=(io=class extends ae{constructor(r){super({name:"AuthorizationErrorException",$fault:"client",...r});b(this,"name","AuthorizationErrorException");b(this,"$fault","client");Object.setPrototypeOf(this,io.prototype)}},(()=>{p(io,"AuthorizationErrorException")})(),io),oo,iO=(oo=class extends ae{constructor(r){super({name:"InternalErrorException",$fault:"server",...r});b(this,"name","InternalErrorException");b(this,"$fault","server");Object.setPrototypeOf(this,oo.prototype)}},(()=>{p(oo,"InternalErrorException")})(),oo),so,oO=(so=class extends ae{constructor(r){super({name:"InvalidParameterException",$fault:"client",...r});b(this,"name","InvalidParameterException");b(this,"$fault","client");Object.setPrototypeOf(this,so.prototype)}},(()=>{p(so,"InvalidParameterException")})(),so),ao,sO=(ao=class extends ae{constructor(r){super({name:"NotFoundException",$fault:"client",...r});b(this,"name","NotFoundException");b(this,"$fault","client");Object.setPrototypeOf(this,ao.prototype)}},(()=>{p(ao,"NotFoundException")})(),ao),co,aO=(co=class extends ae{constructor(r){super({name:"ThrottledException",$fault:"client",...r});b(this,"name","ThrottledException");b(this,"$fault","client");Object.setPrototypeOf(this,co.prototype)}},(()=>{p(co,"ThrottledException")})(),co),lo,cO=(lo=class extends ae{constructor(r){super({name:"FilterPolicyLimitExceededException",$fault:"client",...r});b(this,"name","FilterPolicyLimitExceededException");b(this,"$fault","client");Object.setPrototypeOf(this,lo.prototype)}},(()=>{p(lo,"FilterPolicyLimitExceededException")})(),lo),uo,lO=(uo=class extends ae{constructor(r){super({name:"ReplayLimitExceededException",$fault:"client",...r});b(this,"name","ReplayLimitExceededException");b(this,"$fault","client");Object.setPrototypeOf(this,uo.prototype)}},(()=>{p(uo,"ReplayLimitExceededException")})(),uo),po,dO=(po=class extends ae{constructor(r){super({name:"SubscriptionLimitExceededException",$fault:"client",...r});b(this,"name","SubscriptionLimitExceededException");b(this,"$fault","client");Object.setPrototypeOf(this,po.prototype)}},(()=>{p(po,"SubscriptionLimitExceededException")})(),po),VK={de_DE:"de-DE",en_GB:"en-GB",en_US:"en-US",es_419:"es-419",es_ES:"es-ES",fr_CA:"fr-CA",fr_FR:"fr-FR",it_IT:"it-IT",jp_JP:"ja-JP",kr_KR:"kr-KR",pt_BR:"pt-BR",zh_CN:"zh-CN",zh_TW:"zh-TW"},mo,uO=(mo=class extends ae{constructor(r){super({name:"OptedOutException",$fault:"client",...r});b(this,"name","OptedOutException");b(this,"$fault","client");Object.setPrototypeOf(this,mo.prototype)}},(()=>{p(mo,"OptedOutException")})(),mo),fo,pO=(fo=class extends ae{constructor(r){super({name:"UserErrorException",$fault:"client",...r});b(this,"name","UserErrorException");b(this,"$fault","client");Object.setPrototypeOf(this,fo.prototype)}},(()=>{p(fo,"UserErrorException")})(),fo),ho,mO=(ho=class extends ae{constructor(r){super({name:"ConcurrentAccessException",$fault:"client",...r});b(this,"name","ConcurrentAccessException");b(this,"$fault","client");Object.setPrototypeOf(this,ho.prototype)}},(()=>{p(ho,"ConcurrentAccessException")})(),ho),go,fO=(go=class extends ae{constructor(r){super({name:"InvalidSecurityException",$fault:"client",...r});b(this,"name","InvalidSecurityException");b(this,"$fault","client");Object.setPrototypeOf(this,go.prototype)}},(()=>{p(go,"InvalidSecurityException")})(),go),_o,hO=(_o=class extends ae{constructor(r){super({name:"StaleTagException",$fault:"client",...r});b(this,"name","StaleTagException");b(this,"$fault","client");Object.setPrototypeOf(this,_o.prototype)}},(()=>{p(_o,"StaleTagException")})(),_o),So,gO=(So=class extends ae{constructor(r){super({name:"TagLimitExceededException",$fault:"client",...r});b(this,"name","TagLimitExceededException");b(this,"$fault","client");Object.setPrototypeOf(this,So.prototype)}},(()=>{p(So,"TagLimitExceededException")})(),So),vo,_O=(vo=class extends ae{constructor(r){super({name:"TagPolicyException",$fault:"client",...r});b(this,"name","TagPolicyException");b(this,"$fault","client");Object.setPrototypeOf(this,vo.prototype)}},(()=>{p(vo,"TagPolicyException")})(),vo),yo,SO=(yo=class extends ae{constructor(r){super({name:"TopicLimitExceededException",$fault:"client",...r});b(this,"name","TopicLimitExceededException");b(this,"$fault","client");Object.setPrototypeOf(this,yo.prototype)}},(()=>{p(yo,"TopicLimitExceededException")})(),yo),Eo,vO=(Eo=class extends ae{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r});b(this,"name","ResourceNotFoundException");b(this,"$fault","client");Object.setPrototypeOf(this,Eo.prototype)}},(()=>{p(Eo,"ResourceNotFoundException")})(),Eo),bo,yO=(bo=class extends ae{constructor(r){super({name:"InvalidStateException",$fault:"client",...r});b(this,"name","InvalidStateException");b(this,"$fault","client");Object.setPrototypeOf(this,bo.prototype)}},(()=>{p(bo,"InvalidStateException")})(),bo),GK={MMS:"MMS",SMS:"SMS",VOICE:"VOICE"},WK={Premium:"Premium",Promotional:"Promotional",Transactional:"Transactional"},Po,EO=(Po=class extends ae{constructor(r){super({name:"ValidationException",$fault:"client",...r});b(this,"name","ValidationException");b(this,"$fault","client");b(this,"Message");Object.setPrototypeOf(this,Po.prototype),this.Message=r.Message}},(()=>{p(Po,"ValidationException")})(),Po),KK={Pending:"Pending",Verified:"Verified"},wo,bO=(wo=class extends ae{constructor(r){super({name:"EndpointDisabledException",$fault:"client",...r});b(this,"name","EndpointDisabledException");b(this,"$fault","client");Object.setPrototypeOf(this,wo.prototype)}},(()=>{p(wo,"EndpointDisabledException")})(),wo),Co,PO=(Co=class extends ae{constructor(r){super({name:"InvalidParameterValueException",$fault:"client",...r});b(this,"name","InvalidParameterValueException");b(this,"$fault","client");Object.setPrototypeOf(this,Co.prototype)}},(()=>{p(Co,"InvalidParameterValueException")})(),Co),Ao,wO=(Ao=class extends ae{constructor(r){super({name:"KMSAccessDeniedException",$fault:"client",...r});b(this,"name","KMSAccessDeniedException");b(this,"$fault","client");Object.setPrototypeOf(this,Ao.prototype)}},(()=>{p(Ao,"KMSAccessDeniedException")})(),Ao),xo,CO=(xo=class extends ae{constructor(r){super({name:"KMSDisabledException",$fault:"client",...r});b(this,"name","KMSDisabledException");b(this,"$fault","client");Object.setPrototypeOf(this,xo.prototype)}},(()=>{p(xo,"KMSDisabledException")})(),xo),Oo,AO=(Oo=class extends ae{constructor(r){super({name:"KMSInvalidStateException",$fault:"client",...r});b(this,"name","KMSInvalidStateException");b(this,"$fault","client");Object.setPrototypeOf(this,Oo.prototype)}},(()=>{p(Oo,"KMSInvalidStateException")})(),Oo),Ro,xO=(Ro=class extends ae{constructor(r){super({name:"KMSNotFoundException",$fault:"client",...r});b(this,"name","KMSNotFoundException");b(this,"$fault","client");Object.setPrototypeOf(this,Ro.prototype)}},(()=>{p(Ro,"KMSNotFoundException")})(),Ro),To,OO=(To=class extends ae{constructor(r){super({name:"KMSOptInRequired",$fault:"client",...r});b(this,"name","KMSOptInRequired");b(this,"$fault","client");Object.setPrototypeOf(this,To.prototype)}},(()=>{p(To,"KMSOptInRequired")})(),To),Io,RO=(Io=class extends ae{constructor(r){super({name:"KMSThrottlingException",$fault:"client",...r});b(this,"name","KMSThrottlingException");b(this,"$fault","client");Object.setPrototypeOf(this,Io.prototype)}},(()=>{p(Io,"KMSThrottlingException")})(),Io),No,TO=(No=class extends ae{constructor(r){super({name:"PlatformApplicationDisabledException",$fault:"client",...r});b(this,"name","PlatformApplicationDisabledException");b(this,"$fault","client");Object.setPrototypeOf(this,No.prototype)}},(()=>{p(No,"PlatformApplicationDisabledException")})(),No),Do,IO=(Do=class extends ae{constructor(r){super({name:"BatchEntryIdsNotDistinctException",$fault:"client",...r});b(this,"name","BatchEntryIdsNotDistinctException");b(this,"$fault","client");Object.setPrototypeOf(this,Do.prototype)}},(()=>{p(Do,"BatchEntryIdsNotDistinctException")})(),Do),Mo,NO=(Mo=class extends ae{constructor(r){super({name:"BatchRequestTooLongException",$fault:"client",...r});b(this,"name","BatchRequestTooLongException");b(this,"$fault","client");Object.setPrototypeOf(this,Mo.prototype)}},(()=>{p(Mo,"BatchRequestTooLongException")})(),Mo),ko,DO=(ko=class extends ae{constructor(r){super({name:"EmptyBatchRequestException",$fault:"client",...r});b(this,"name","EmptyBatchRequestException");b(this,"$fault","client");Object.setPrototypeOf(this,ko.prototype)}},(()=>{p(ko,"EmptyBatchRequestException")})(),ko),Lo,MO=(Lo=class extends ae{constructor(r){super({name:"InvalidBatchEntryIdException",$fault:"client",...r});b(this,"name","InvalidBatchEntryIdException");b(this,"$fault","client");Object.setPrototypeOf(this,Lo.prototype)}},(()=>{p(Lo,"InvalidBatchEntryIdException")})(),Lo),Fo,kO=(Fo=class extends ae{constructor(r){super({name:"TooManyEntriesInBatchRequestException",$fault:"client",...r});b(this,"name","TooManyEntriesInBatchRequestException");b(this,"$fault","client");Object.setPrototypeOf(this,Fo.prototype)}},(()=>{p(Fo,"TooManyEntriesInBatchRequestException")})(),Fo),qo,LO=(qo=class extends ae{constructor(r){super({name:"VerificationException",$fault:"client",...r});b(this,"name","VerificationException");b(this,"$fault","client");b(this,"Message");b(this,"Status");Object.setPrototypeOf(this,qo.prototype),this.Message=r.Message,this.Status=r.Status}},(()=>{p(qo,"VerificationException")})(),qo),FO=p(e=>({...e,...e.phoneNumber&&{phoneNumber:_.SENSITIVE_STRING}}),"CheckIfPhoneNumberIsOptedOutInputFilterSensitiveLog"),qO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"CreateSMSSandboxPhoneNumberInputFilterSensitiveLog"),jO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"DeleteSMSSandboxPhoneNumberInputFilterSensitiveLog"),UO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"PhoneNumberInformationFilterSensitiveLog"),$O=p(e=>({...e,...e.PhoneNumbers&&{PhoneNumbers:e.PhoneNumbers.map(t=>UO(t))}}),"ListOriginationNumbersResultFilterSensitiveLog"),HO=p(e=>({...e,...e.phoneNumbers&&{phoneNumbers:_.SENSITIVE_STRING}}),"ListPhoneNumbersOptedOutResponseFilterSensitiveLog"),zO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"SMSSandboxPhoneNumberFilterSensitiveLog"),BO=p(e=>({...e,...e.PhoneNumbers&&{PhoneNumbers:e.PhoneNumbers.map(t=>zO(t))}}),"ListSMSSandboxPhoneNumbersResultFilterSensitiveLog"),VO=p(e=>({...e,...e.phoneNumber&&{phoneNumber:_.SENSITIVE_STRING}}),"OptInPhoneNumberInputFilterSensitiveLog"),GO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"PublishInputFilterSensitiveLog"),WO=p(e=>({...e,...e.PhoneNumber&&{PhoneNumber:_.SENSITIVE_STRING}}),"VerifySMSSandboxPhoneNumberInputFilterSensitiveLog"),XK=p(async(e,t)=>{let r=Y,n;return n=te({...sX(e,t),[Z]:L5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_AddPermissionCommand"),JK=p(async(e,t)=>{let r=Y,n;return n=te({...aX(e,t),[Z]:F5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_CheckIfPhoneNumberIsOptedOutCommand"),YK=p(async(e,t)=>{let r=Y,n;return n=te({...cX(e,t),[Z]:U5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ConfirmSubscriptionCommand"),QK=p(async(e,t)=>{let r=Y,n;return n=te({...lX(e,t),[Z]:q5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_CreatePlatformApplicationCommand"),ZK=p(async(e,t)=>{let r=Y,n;return n=te({...dX(e,t),[Z]:j5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_CreatePlatformEndpointCommand"),e6=p(async(e,t)=>{let r=Y,n;return n=te({...uX(e,t),[Z]:$5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_CreateSMSSandboxPhoneNumberCommand"),t6=p(async(e,t)=>{let r=Y,n;return n=te({...pX(e,t),[Z]:H5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_CreateTopicCommand"),r6=p(async(e,t)=>{let r=Y,n;return n=te({...fX(e,t),[Z]:z5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_DeleteEndpointCommand"),n6=p(async(e,t)=>{let r=Y,n;return n=te({...hX(e,t),[Z]:B5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_DeletePlatformApplicationCommand"),i6=p(async(e,t)=>{let r=Y,n;return n=te({...gX(e,t),[Z]:V5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_DeleteSMSSandboxPhoneNumberCommand"),o6=p(async(e,t)=>{let r=Y,n;return n=te({..._X(e,t),[Z]:G5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_DeleteTopicCommand"),s6=p(async(e,t)=>{let r=Y,n;return n=te({...SX(e,t),[Z]:W5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetDataProtectionPolicyCommand"),a6=p(async(e,t)=>{let r=Y,n;return n=te({...vX(e,t),[Z]:K5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetEndpointAttributesCommand"),c6=p(async(e,t)=>{let r=Y,n;return n=te({...yX(e,t),[Z]:X5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetPlatformApplicationAttributesCommand"),l6=p(async(e,t)=>{let r=Y,n;return n=te({...EX(e,t),[Z]:Y5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetSMSAttributesCommand"),d6=p(async(e,t)=>{let r=Y,n;return n=te({...bX(e,t),[Z]:Q5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetSMSSandboxAccountStatusCommand"),u6=p(async(e,t)=>{let r=Y,n;return n=te({...PX(e,t),[Z]:J5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetSubscriptionAttributesCommand"),p6=p(async(e,t)=>{let r=Y,n;return n=te({...wX(e,t),[Z]:Z5,[ee]:Q}),J(t,r,"/",void 0,n)},"se_GetTopicAttributesCommand"),m6=p(async(e,t)=>{let r=Y,n;return n=te({...CX(e,t),[Z]:eY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListEndpointsByPlatformApplicationCommand"),f6=p(async(e,t)=>{let r=Y,n;return n=te({...AX(e,t),[Z]:tY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListOriginationNumbersCommand"),h6=p(async(e,t)=>{let r=Y,n;return n=te({...xX(e,t),[Z]:nY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListPhoneNumbersOptedOutCommand"),g6=p(async(e,t)=>{let r=Y,n;return n=te({...OX(e,t),[Z]:rY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListPlatformApplicationsCommand"),_6=p(async(e,t)=>{let r=Y,n;return n=te({...RX(e,t),[Z]:sY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListSMSSandboxPhoneNumbersCommand"),S6=p(async(e,t)=>{let r=Y,n;return n=te({...NX(e,t),[Z]:iY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListSubscriptionsCommand"),v6=p(async(e,t)=>{let r=Y,n;return n=te({...IX(e,t),[Z]:oY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListSubscriptionsByTopicCommand"),y6=p(async(e,t)=>{let r=Y,n;return n=te({...DX(e,t),[Z]:cY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),E6=p(async(e,t)=>{let r=Y,n;return n=te({...MX(e,t),[Z]:aY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_ListTopicsCommand"),b6=p(async(e,t)=>{let r=Y,n;return n=te({...LX(e,t),[Z]:lY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_OptInPhoneNumberCommand"),P6=p(async(e,t)=>{let r=Y,n;return n=te({...UX(e,t),[Z]:dY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_PublishCommand"),w6=p(async(e,t)=>{let r=Y,n;return n=te({...FX(e,t),[Z]:uY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_PublishBatchCommand"),C6=p(async(e,t)=>{let r=Y,n;return n=te({...$X(e,t),[Z]:pY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_PutDataProtectionPolicyCommand"),A6=p(async(e,t)=>{let r=Y,n;return n=te({...HX(e,t),[Z]:mY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_RemovePermissionCommand"),x6=p(async(e,t)=>{let r=Y,n;return n=te({...zX(e,t),[Z]:hY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SetEndpointAttributesCommand"),O6=p(async(e,t)=>{let r=Y,n;return n=te({...BX(e,t),[Z]:gY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SetPlatformApplicationAttributesCommand"),R6=p(async(e,t)=>{let r=Y,n;return n=te({...VX(e,t),[Z]:SY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SetSMSAttributesCommand"),T6=p(async(e,t)=>{let r=Y,n;return n=te({...GX(e,t),[Z]:_Y,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SetSubscriptionAttributesCommand"),I6=p(async(e,t)=>{let r=Y,n;return n=te({...WX(e,t),[Z]:vY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SetTopicAttributesCommand"),N6=p(async(e,t)=>{let r=Y,n;return n=te({...KX(e,t),[Z]:fY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_SubscribeCommand"),D6=p(async(e,t)=>{let r=Y,n;return n=te({...QX(e,t),[Z]:yY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_TagResourceCommand"),M6=p(async(e,t)=>{let r=Y,n;return n=te({...eJ(e,t),[Z]:EY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_UnsubscribeCommand"),k6=p(async(e,t)=>{let r=Y,n;return n=te({...tJ(e,t),[Z]:bY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_UntagResourceCommand"),L6=p(async(e,t)=>{let r=Y,n;return n=te({...rJ(e,t),[Z]:PY,[ee]:Q}),J(t,r,"/",void 0,n)},"se_VerifySMSSandboxPhoneNumberCommand"),F6=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_AddPermissionCommand"),q6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=cJ(r.CheckIfPhoneNumberIsOptedOutResult,t),{$metadata:M(e),...n}},"de_CheckIfPhoneNumberIsOptedOutCommand"),j6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=dJ(r.ConfirmSubscriptionResult,t),{$metadata:M(e),...n}},"de_ConfirmSubscriptionCommand"),U6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=pJ(r.CreatePlatformApplicationResult,t),{$metadata:M(e),...n}},"de_CreatePlatformApplicationCommand"),$6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=uJ(r.CreatePlatformEndpointResult,t),{$metadata:M(e),...n}},"de_CreatePlatformEndpointCommand"),H6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=mJ(r.CreateSMSSandboxPhoneNumberResult,t),{$metadata:M(e),...n}},"de_CreateSMSSandboxPhoneNumberCommand"),z6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=fJ(r.CreateTopicResult,t),{$metadata:M(e),...n}},"de_CreateTopicCommand"),B6=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_DeleteEndpointCommand"),V6=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_DeletePlatformApplicationCommand"),G6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=hJ(r.DeleteSMSSandboxPhoneNumberResult,t),{$metadata:M(e),...n}},"de_DeleteSMSSandboxPhoneNumberCommand"),W6=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_DeleteTopicCommand"),K6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=yJ(r.GetDataProtectionPolicyResult,t),{$metadata:M(e),...n}},"de_GetDataProtectionPolicyCommand"),X6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=EJ(r.GetEndpointAttributesResult,t),{$metadata:M(e),...n}},"de_GetEndpointAttributesCommand"),J6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=bJ(r.GetPlatformApplicationAttributesResult,t),{$metadata:M(e),...n}},"de_GetPlatformApplicationAttributesCommand"),Y6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=PJ(r.GetSMSAttributesResult,t),{$metadata:M(e),...n}},"de_GetSMSAttributesCommand"),Q6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=wJ(r.GetSMSSandboxAccountStatusResult,t),{$metadata:M(e),...n}},"de_GetSMSSandboxAccountStatusCommand"),Z6=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=CJ(r.GetSubscriptionAttributesResult,t),{$metadata:M(e),...n}},"de_GetSubscriptionAttributesCommand"),e8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=AJ(r.GetTopicAttributesResult,t),{$metadata:M(e),...n}},"de_GetTopicAttributesCommand"),t8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=jJ(r.ListEndpointsByPlatformApplicationResult,t),{$metadata:M(e),...n}},"de_ListEndpointsByPlatformApplicationCommand"),r8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=HJ(r.ListOriginationNumbersResult,t),{$metadata:M(e),...n}},"de_ListOriginationNumbersCommand"),n8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=zJ(r.ListPhoneNumbersOptedOutResult,t),{$metadata:M(e),...n}},"de_ListPhoneNumbersOptedOutCommand"),i8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=BJ(r.ListPlatformApplicationsResult,t),{$metadata:M(e),...n}},"de_ListPlatformApplicationsCommand"),o8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=VJ(r.ListSMSSandboxPhoneNumbersResult,t),{$metadata:M(e),...n}},"de_ListSMSSandboxPhoneNumbersCommand"),s8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=WJ(r.ListSubscriptionsResult,t),{$metadata:M(e),...n}},"de_ListSubscriptionsCommand"),a8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=GJ(r.ListSubscriptionsByTopicResult,t),{$metadata:M(e),...n}},"de_ListSubscriptionsByTopicCommand"),c8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=KJ(r.ListTagsForResourceResult,t),{$metadata:M(e),...n}},"de_ListTagsForResourceCommand"),l8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=XJ(r.ListTopicsResult,t),{$metadata:M(e),...n}},"de_ListTopicsCommand"),d8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=ZJ(r.OptInPhoneNumberResult,t),{$metadata:M(e),...n}},"de_OptInPhoneNumberCommand"),u8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=c5(r.PublishResult,t),{$metadata:M(e),...n}},"de_PublishCommand"),p8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=o5(r.PublishBatchResult,t),{$metadata:M(e),...n}},"de_PublishBatchCommand"),m8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_PutDataProtectionPolicyCommand"),f8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_RemovePermissionCommand"),h8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_SetEndpointAttributesCommand"),g8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_SetPlatformApplicationAttributesCommand"),_8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=u5(r.SetSMSAttributesResult,t),{$metadata:M(e),...n}},"de_SetSMSAttributesCommand"),S8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_SetSubscriptionAttributesCommand"),v8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_SetTopicAttributesCommand"),y8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=h5(r.SubscribeResult,t),{$metadata:M(e),...n}},"de_SubscribeCommand"),E8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=P5(r.TagResourceResult,t),{$metadata:M(e),...n}},"de_TagResourceCommand"),b8=p(async(e,t)=>e.statusCode>=300?X(e,t):(await(0,_.collectBody)(e.body,t),{$metadata:M(e)}),"de_UnsubscribeCommand"),P8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=T5(r.UntagResourceResult,t),{$metadata:M(e),...n}},"de_UntagResourceCommand"),w8=p(async(e,t)=>{if(e.statusCode>=300)return X(e,t);let r=await(0,fe.parseXmlBody)(e.body,t),n={};return n=M5(r.VerifySMSSandboxPhoneNumberResult,t),{$metadata:M(e),...n}},"de_VerifySMSSandboxPhoneNumberCommand"),X=p(async(e,t)=>{let r={...e,body:await(0,fe.parseXmlErrorBody)(e.body,t)},n=wY(e,r.body);switch(n){case"AuthorizationError":case"com.amazonaws.sns#AuthorizationErrorException":throw await C8(r,t);case"InternalError":case"com.amazonaws.sns#InternalErrorException":throw await N8(r,t);case"InvalidParameter":case"com.amazonaws.sns#InvalidParameterException":throw await M8(r,t);case"NotFound":case"com.amazonaws.sns#NotFoundException":throw await B8(r,t);case"Throttled":case"com.amazonaws.sns#ThrottledException":throw await Z8(r,t);case"FilterPolicyLimitExceeded":case"com.amazonaws.sns#FilterPolicyLimitExceededException":throw await I8(r,t);case"ReplayLimitExceeded":case"com.amazonaws.sns#ReplayLimitExceededException":throw await W8(r,t);case"SubscriptionLimitExceeded":case"com.amazonaws.sns#SubscriptionLimitExceededException":throw await J8(r,t);case"OptedOut":case"com.amazonaws.sns#OptedOutException":throw await V8(r,t);case"UserError":case"com.amazonaws.sns#UserErrorException":throw await rX(r,t);case"ConcurrentAccess":case"com.amazonaws.sns#ConcurrentAccessException":throw await O8(r,t);case"InvalidSecurity":case"com.amazonaws.sns#InvalidSecurityException":throw await L8(r,t);case"StaleTag":case"com.amazonaws.sns#StaleTagException":throw await X8(r,t);case"TagLimitExceeded":case"com.amazonaws.sns#TagLimitExceededException":throw await Y8(r,t);case"TagPolicy":case"com.amazonaws.sns#TagPolicyException":throw await Q8(r,t);case"TopicLimitExceeded":case"com.amazonaws.sns#TopicLimitExceededException":throw await tX(r,t);case"ResourceNotFound":case"com.amazonaws.sns#ResourceNotFoundException":throw await K8(r,t);case"InvalidState":case"com.amazonaws.sns#InvalidStateException":throw await F8(r,t);case"ValidationException":case"com.amazonaws.sns#ValidationException":throw await nX(r,t);case"EndpointDisabled":case"com.amazonaws.sns#EndpointDisabledException":throw await T8(r,t);case"KMSAccessDenied":case"com.amazonaws.sns#KMSAccessDeniedException":throw await q8(r,t);case"KMSDisabled":case"com.amazonaws.sns#KMSDisabledException":throw await j8(r,t);case"KMSInvalidState":case"com.amazonaws.sns#KMSInvalidStateException":throw await U8(r,t);case"KMSNotFound":case"com.amazonaws.sns#KMSNotFoundException":throw await $8(r,t);case"KMSOptInRequired":case"com.amazonaws.sns#KMSOptInRequired":throw await H8(r,t);case"KMSThrottling":case"com.amazonaws.sns#KMSThrottlingException":throw await z8(r,t);case"ParameterValueInvalid":case"com.amazonaws.sns#InvalidParameterValueException":throw await k8(r,t);case"PlatformApplicationDisabled":case"com.amazonaws.sns#PlatformApplicationDisabledException":throw await G8(r,t);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sns#BatchEntryIdsNotDistinctException":throw await A8(r,t);case"BatchRequestTooLong":case"com.amazonaws.sns#BatchRequestTooLongException":throw await x8(r,t);case"EmptyBatchRequest":case"com.amazonaws.sns#EmptyBatchRequestException":throw await R8(r,t);case"InvalidBatchEntryId":case"com.amazonaws.sns#InvalidBatchEntryIdException":throw await D8(r,t);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sns#TooManyEntriesInBatchRequestException":throw await eX(r,t);case"VerificationException":case"com.amazonaws.sns#VerificationException":throw await iX(r,t);default:let i=r.body;return k5({output:e,parsedBody:i.Error,errorCode:n})}},"de_CommandError"),C8=p(async(e,t)=>{let r=e.body,n=nJ(r.Error,t),i=new nO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_AuthorizationErrorExceptionRes"),A8=p(async(e,t)=>{let r=e.body,n=iJ(r.Error,t),i=new IO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_BatchEntryIdsNotDistinctExceptionRes"),x8=p(async(e,t)=>{let r=e.body,n=oJ(r.Error,t),i=new NO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_BatchRequestTooLongExceptionRes"),O8=p(async(e,t)=>{let r=e.body,n=lJ(r.Error,t),i=new mO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_ConcurrentAccessExceptionRes"),R8=p(async(e,t)=>{let r=e.body,n=gJ(r.Error,t),i=new DO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_EmptyBatchRequestExceptionRes"),T8=p(async(e,t)=>{let r=e.body,n=SJ(r.Error,t),i=new bO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_EndpointDisabledExceptionRes"),I8=p(async(e,t)=>{let r=e.body,n=vJ(r.Error,t),i=new cO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_FilterPolicyLimitExceededExceptionRes"),N8=p(async(e,t)=>{let r=e.body,n=xJ(r.Error,t),i=new iO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InternalErrorExceptionRes"),D8=p(async(e,t)=>{let r=e.body,n=OJ(r.Error,t),i=new MO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InvalidBatchEntryIdExceptionRes"),M8=p(async(e,t)=>{let r=e.body,n=RJ(r.Error,t),i=new oO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InvalidParameterExceptionRes"),k8=p(async(e,t)=>{let r=e.body,n=TJ(r.Error,t),i=new PO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InvalidParameterValueExceptionRes"),L8=p(async(e,t)=>{let r=e.body,n=IJ(r.Error,t),i=new fO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InvalidSecurityExceptionRes"),F8=p(async(e,t)=>{let r=e.body,n=NJ(r.Error,t),i=new yO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_InvalidStateExceptionRes"),q8=p(async(e,t)=>{let r=e.body,n=DJ(r.Error,t),i=new wO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSAccessDeniedExceptionRes"),j8=p(async(e,t)=>{let r=e.body,n=MJ(r.Error,t),i=new CO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSDisabledExceptionRes"),U8=p(async(e,t)=>{let r=e.body,n=kJ(r.Error,t),i=new AO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSInvalidStateExceptionRes"),$8=p(async(e,t)=>{let r=e.body,n=LJ(r.Error,t),i=new xO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSNotFoundExceptionRes"),H8=p(async(e,t)=>{let r=e.body,n=FJ(r.Error,t),i=new OO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSOptInRequiredRes"),z8=p(async(e,t)=>{let r=e.body,n=qJ(r.Error,t),i=new RO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_KMSThrottlingExceptionRes"),B8=p(async(e,t)=>{let r=e.body,n=JJ(r.Error,t),i=new sO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_NotFoundExceptionRes"),V8=p(async(e,t)=>{let r=e.body,n=QJ(r.Error,t),i=new uO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_OptedOutExceptionRes"),G8=p(async(e,t)=>{let r=e.body,n=i5(r.Error,t),i=new TO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_PlatformApplicationDisabledExceptionRes"),W8=p(async(e,t)=>{let r=e.body,n=l5(r.Error,t),i=new lO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_ReplayLimitExceededExceptionRes"),K8=p(async(e,t)=>{let r=e.body,n=d5(r.Error,t),i=new vO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_ResourceNotFoundExceptionRes"),X8=p(async(e,t)=>{let r=e.body,n=f5(r.Error,t),i=new hO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_StaleTagExceptionRes"),J8=p(async(e,t)=>{let r=e.body,n=S5(r.Error,t),i=new dO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_SubscriptionLimitExceededExceptionRes"),Y8=p(async(e,t)=>{let r=e.body,n=y5(r.Error,t),i=new gO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_TagLimitExceededExceptionRes"),Q8=p(async(e,t)=>{let r=e.body,n=b5(r.Error,t),i=new _O({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_TagPolicyExceptionRes"),Z8=p(async(e,t)=>{let r=e.body,n=w5(r.Error,t),i=new aO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_ThrottledExceptionRes"),eX=p(async(e,t)=>{let r=e.body,n=C5(r.Error,t),i=new kO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_TooManyEntriesInBatchRequestExceptionRes"),tX=p(async(e,t)=>{let r=e.body,n=O5(r.Error,t),i=new SO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_TopicLimitExceededExceptionRes"),rX=p(async(e,t)=>{let r=e.body,n=I5(r.Error,t),i=new pO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_UserErrorExceptionRes"),nX=p(async(e,t)=>{let r=e.body,n=N5(r.Error,t),i=new EO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_ValidationExceptionRes"),iX=p(async(e,t)=>{let r=e.body,n=D5(r.Error,t),i=new LO({$metadata:M(e),...n});return(0,_.decorateServiceException)(i,r)},"de_VerificationExceptionRes"),oX=p((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_ActionsList"),sX=p((e,t)=>{let r={};if(e[ne]!=null&&(r[ne]=e[ne]),e[zi]!=null&&(r[zi]=e[zi]),e[Rh]!=null){let n=mX(e[Rh],t);e[Rh]?.length===0&&(r.AWSAccountId=[]),Object.entries(n).forEach(([i,o])=>{let s=`AWSAccountId.${i}`;r[s]=o})}if(e[xh]!=null){let n=oX(e[xh],t);e[xh]?.length===0&&(r.ActionName=[]),Object.entries(n).forEach(([i,o])=>{let s=`ActionName.${i}`;r[s]=o})}return r},"se_AddPermissionInput"),aX=p((e,t)=>{let r={};return e[ro]!=null&&(r[ro]=e[ro]),r},"se_CheckIfPhoneNumberIsOptedOutInput"),cX=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),e[Zi]!=null&&(r[Zi]=e[Zi]),e[Oh]!=null&&(r[Oh]=e[Oh]),r},"se_ConfirmSubscriptionInput"),lX=p((e,t)=>{let r={};if(e[Xi]!=null&&(r[Xi]=e[Xi]),e[$h]!=null&&(r[$h]=e[$h]),e[V]!=null){let n=Dc(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}return r},"se_CreatePlatformApplicationInput"),dX=p((e,t)=>{let r={};if(e[Ie]!=null&&(r[Ie]=e[Ie]),e[Zi]!=null&&(r[Zi]=e[Zi]),e[Dh]!=null&&(r[Dh]=e[Dh]),e[V]!=null){let n=Dc(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}return r},"se_CreatePlatformEndpointInput"),uX=p((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=e[qe]),e[Fh]!=null&&(r[Fh]=e[Fh]),r},"se_CreateSMSSandboxPhoneNumberInput"),pX=p((e,t)=>{let r={};if(e[Xi]!=null&&(r[Xi]=e[Xi]),e[V]!=null){let n=ZX(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}if(e[Rt]!=null){let n=XO(e[Rt],t);e[Rt]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}return e[lr]!=null&&(r[lr]=e[lr]),r},"se_CreateTopicInput"),mX=p((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_DelegatesList"),fX=p((e,t)=>{let r={};return e[Je]!=null&&(r[Je]=e[Je]),r},"se_DeleteEndpointInput"),hX=p((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),r},"se_DeletePlatformApplicationInput"),gX=p((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=e[qe]),r},"se_DeleteSMSSandboxPhoneNumberInput"),_X=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),r},"se_DeleteTopicInput"),SX=p((e,t)=>{let r={};return e[Qe]!=null&&(r[Qe]=e[Qe]),r},"se_GetDataProtectionPolicyInput"),vX=p((e,t)=>{let r={};return e[Je]!=null&&(r[Je]=e[Je]),r},"se_GetEndpointAttributesInput"),yX=p((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),r},"se_GetPlatformApplicationAttributesInput"),EX=p((e,t)=>{let r={};if(e[Vt]!=null){let n=TX(e[Vt],t);e[Vt]?.length===0&&(r.attributes=[]),Object.entries(n).forEach(([i,o])=>{let s=`attributes.${i}`;r[s]=o})}return r},"se_GetSMSAttributesInput"),bX=p((e,t)=>({}),"se_GetSMSSandboxAccountStatusInput"),PX=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=e[je]),r},"se_GetSubscriptionAttributesInput"),wX=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),r},"se_GetTopicAttributesInput"),CX=p((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[G]!=null&&(r[G]=e[G]),r},"se_ListEndpointsByPlatformApplicationInput"),AX=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=e[G]),e[Wi]!=null&&(r[Wi]=e[Wi]),r},"se_ListOriginationNumbersRequest"),xX=p((e,t)=>{let r={};return e[to]!=null&&(r[to]=e[to]),r},"se_ListPhoneNumbersOptedOutInput"),OX=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=e[G]),r},"se_ListPlatformApplicationsInput"),RX=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=e[G]),e[Wi]!=null&&(r[Wi]=e[Wi]),r},"se_ListSMSSandboxPhoneNumbersInput"),TX=p((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_ListString"),IX=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),e[G]!=null&&(r[G]=e[G]),r},"se_ListSubscriptionsByTopicInput"),NX=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=e[G]),r},"se_ListSubscriptionsInput"),DX=p((e,t)=>{let r={};return e[Qe]!=null&&(r[Qe]=e[Qe]),r},"se_ListTagsForResourceRequest"),MX=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=e[G]),r},"se_ListTopicsInput"),Dc=p((e,t)=>{let r={},n=1;return Object.keys(e).filter(i=>e[i]!=null).forEach(i=>{r[`entry.${n}.key`]=i,r[`entry.${n}.value`]=e[i],n++}),r},"se_MapStringToString"),KO=p((e,t)=>{let r={},n=1;return Object.keys(e).filter(i=>e[i]!=null).forEach(i=>{r[`entry.${n}.Name`]=i;let o=kX(e[i],t);Object.entries(o).forEach(([s,a])=>{r[`entry.${n}.Value.${s}`]=a}),n++}),r},"se_MessageAttributeMap"),kX=p((e,t)=>{let r={};return e[Mh]!=null&&(r[Mh]=e[Mh]),e[Vh]!=null&&(r[Vh]=e[Vh]),e[Th]!=null&&(r[Th]=t.base64Encoder(e[Th])),r},"se_MessageAttributeValue"),LX=p((e,t)=>{let r={};return e[ro]!=null&&(r[ro]=e[ro]),r},"se_OptInPhoneNumberInput"),FX=p((e,t)=>{let r={};if(e[ne]!=null&&(r[ne]=e[ne]),e[Uh]!=null){let n=jX(e[Uh],t);e[Uh]?.length===0&&(r.PublishBatchRequestEntries=[]),Object.entries(n).forEach(([i,o])=>{let s=`PublishBatchRequestEntries.${i}`;r[s]=o})}return r},"se_PublishBatchInput"),qX=p((e,t)=>{let r={};if(e[dr]!=null&&(r[dr]=e[dr]),e[Ye]!=null&&(r[Ye]=e[Ye]),e[Qi]!=null&&(r[Qi]=e[Qi]),e[Ki]!=null&&(r[Ki]=e[Ki]),e[Ru]!=null){let n=KO(e[Ru],t);Object.entries(n).forEach(([i,o])=>{let s=`MessageAttributes.${i}`;r[s]=o})}return e[Bi]!=null&&(r[Bi]=e[Bi]),e[Vi]!=null&&(r[Vi]=e[Vi]),r},"se_PublishBatchRequestEntry"),jX=p((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=qX(i,t);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_PublishBatchRequestEntryList"),UX=p((e,t)=>{let r={};if(e[ne]!=null&&(r[ne]=e[ne]),e[Gh]!=null&&(r[Gh]=e[Gh]),e[qe]!=null&&(r[qe]=e[qe]),e[Ye]!=null&&(r[Ye]=e[Ye]),e[Qi]!=null&&(r[Qi]=e[Qi]),e[Ki]!=null&&(r[Ki]=e[Ki]),e[Ru]!=null){let n=KO(e[Ru],t);Object.entries(n).forEach(([i,o])=>{let s=`MessageAttributes.${i}`;r[s]=o})}return e[Bi]!=null&&(r[Bi]=e[Bi]),e[Vi]!=null&&(r[Vi]=e[Vi]),r},"se_PublishInput"),$X=p((e,t)=>{let r={};return e[Qe]!=null&&(r[Qe]=e[Qe]),e[lr]!=null&&(r[lr]=e[lr]),r},"se_PutDataProtectionPolicyInput"),HX=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),e[zi]!=null&&(r[zi]=e[zi]),r},"se_RemovePermissionInput"),zX=p((e,t)=>{let r={};if(e[Je]!=null&&(r[Je]=e[Je]),e[V]!=null){let n=Dc(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}return r},"se_SetEndpointAttributesInput"),BX=p((e,t)=>{let r={};if(e[Ie]!=null&&(r[Ie]=e[Ie]),e[V]!=null){let n=Dc(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}return r},"se_SetPlatformApplicationAttributesInput"),VX=p((e,t)=>{let r={};if(e[Vt]!=null){let n=Dc(e[Vt],t);Object.entries(n).forEach(([i,o])=>{let s=`attributes.${i}`;r[s]=o})}return r},"se_SetSMSAttributesInput"),GX=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=e[je]),e[ji]!=null&&(r[ji]=e[ji]),e[Ui]!=null&&(r[Ui]=e[Ui]),r},"se_SetSubscriptionAttributesInput"),WX=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=e[ne]),e[ji]!=null&&(r[ji]=e[ji]),e[Ui]!=null&&(r[Ui]=e[Ui]),r},"se_SetTopicAttributesInput"),KX=p((e,t)=>{let r={};if(e[ne]!=null&&(r[ne]=e[ne]),e[Ji]!=null&&(r[Ji]=e[Ji]),e[$i]!=null&&(r[$i]=e[$i]),e[V]!=null){let n=XX(e[V],t);Object.entries(n).forEach(([i,o])=>{let s=`Attributes.${i}`;r[s]=o})}return e[Hh]!=null&&(r[Hh]=e[Hh]),r},"se_SubscribeInput"),XX=p((e,t)=>{let r={},n=1;return Object.keys(e).filter(i=>e[i]!=null).forEach(i=>{r[`entry.${n}.key`]=i,r[`entry.${n}.value`]=e[i],n++}),r},"se_SubscriptionAttributesMap"),JX=p((e,t)=>{let r={};return e[Hi]!=null&&(r[Hi]=e[Hi]),e[eo]!=null&&(r[eo]=e[eo]),r},"se_Tag"),YX=p((e,t)=>{let r={},n=1;for(let i of e)i!==null&&(r[`member.${n}`]=i,n++);return r},"se_TagKeyList"),XO=p((e,t)=>{let r={},n=1;for(let i of e){if(i===null)continue;let o=JX(i,t);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_TagList"),QX=p((e,t)=>{let r={};if(e[Qe]!=null&&(r[Qe]=e[Qe]),e[Rt]!=null){let n=XO(e[Rt],t);e[Rt]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}return r},"se_TagResourceRequest"),ZX=p((e,t)=>{let r={},n=1;return Object.keys(e).filter(i=>e[i]!=null).forEach(i=>{r[`entry.${n}.key`]=i,r[`entry.${n}.value`]=e[i],n++}),r},"se_TopicAttributesMap"),eJ=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=e[je]),r},"se_UnsubscribeInput"),tJ=p((e,t)=>{let r={};if(e[Qe]!=null&&(r[Qe]=e[Qe]),e[Wh]!=null){let n=YX(e[Wh],t);e[Wh]?.length===0&&(r.TagKeys=[]),Object.entries(n).forEach(([i,o])=>{let s=`TagKeys.${i}`;r[s]=o})}return r},"se_UntagResourceRequest"),rJ=p((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=e[qe]),e[jh]!=null&&(r[jh]=e[jh]),r},"se_VerifySMSSandboxPhoneNumberInput"),nJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_AuthorizationErrorException"),iJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_BatchEntryIdsNotDistinctException"),oJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_BatchRequestTooLongException"),sJ=p((e,t)=>{let r={};return e[dr]!=null&&(r[dr]=(0,_.expectString)(e[dr])),e[Ih]!=null&&(r[Ih]=(0,_.expectString)(e[Ih])),e[Ye]!=null&&(r[Ye]=(0,_.expectString)(e[Ye])),e[Bh]!=null&&(r[Bh]=(0,_.parseBoolean)(e[Bh])),r},"de_BatchResultErrorEntry"),aJ=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>sJ(r,t)),"de_BatchResultErrorEntryList"),cJ=p((e,t)=>{let r={};return e[Kh]!=null&&(r[Kh]=(0,_.parseBoolean)(e[Kh])),r},"de_CheckIfPhoneNumberIsOptedOutResponse"),lJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_ConcurrentAccessException"),dJ=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=(0,_.expectString)(e[je])),r},"de_ConfirmSubscriptionResponse"),uJ=p((e,t)=>{let r={};return e[Je]!=null&&(r[Je]=(0,_.expectString)(e[Je])),r},"de_CreateEndpointResponse"),pJ=p((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=(0,_.expectString)(e[Ie])),r},"de_CreatePlatformApplicationResponse"),mJ=p((e,t)=>({}),"de_CreateSMSSandboxPhoneNumberResult"),fJ=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=(0,_.expectString)(e[ne])),r},"de_CreateTopicResponse"),hJ=p((e,t)=>({}),"de_DeleteSMSSandboxPhoneNumberResult"),gJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_EmptyBatchRequestException"),_J=p((e,t)=>{let r={};return e[Je]!=null&&(r[Je]=(0,_.expectString)(e[Je])),e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=Mc((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_Endpoint"),SJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_EndpointDisabledException"),vJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_FilterPolicyLimitExceededException"),yJ=p((e,t)=>{let r={};return e[lr]!=null&&(r[lr]=(0,_.expectString)(e[lr])),r},"de_GetDataProtectionPolicyResponse"),EJ=p((e,t)=>{let r={};return e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=Mc((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_GetEndpointAttributesResponse"),bJ=p((e,t)=>{let r={};return e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=Mc((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_GetPlatformApplicationAttributesResponse"),PJ=p((e,t)=>{let r={};return e.attributes===""?r[Vt]={}:e[Vt]!=null&&e[Vt][nt]!=null&&(r[Vt]=Mc((0,_.getArrayIfSingleItem)(e[Vt][nt]),t)),r},"de_GetSMSAttributesResponse"),wJ=p((e,t)=>{let r={};return e[Lh]!=null&&(r[Lh]=(0,_.parseBoolean)(e[Lh])),r},"de_GetSMSSandboxAccountStatusResult"),CJ=p((e,t)=>{let r={};return e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=_5((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_GetSubscriptionAttributesResponse"),AJ=p((e,t)=>{let r={};return e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=x5((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_GetTopicAttributesResponse"),xJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InternalErrorException"),OJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InvalidBatchEntryIdException"),RJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InvalidParameterException"),TJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InvalidParameterValueException"),IJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InvalidSecurityException"),NJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_InvalidStateException"),DJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSAccessDeniedException"),MJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSDisabledException"),kJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSInvalidStateException"),LJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSNotFoundException"),FJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSOptInRequired"),qJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_KMSThrottlingException"),jJ=p((e,t)=>{let r={};return e.Endpoints===""?r[La]=[]:e[La]!=null&&e[La][Ae]!=null&&(r[La]=UJ((0,_.getArrayIfSingleItem)(e[La][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListEndpointsByPlatformApplicationResponse"),UJ=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>_J(r,t)),"de_ListOfEndpoints"),$J=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>n5(r,t)),"de_ListOfPlatformApplications"),HJ=p((e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),e.PhoneNumbers===""?r[zt]=[]:e[zt]!=null&&e[zt][Ae]!=null&&(r[zt]=t5((0,_.getArrayIfSingleItem)(e[zt][Ae]),t)),r},"de_ListOriginationNumbersResult"),zJ=p((e,t)=>{let r={};return e.phoneNumbers===""?r[Ha]=[]:e[Ha]!=null&&e[Ha][Ae]!=null&&(r[Ha]=r5((0,_.getArrayIfSingleItem)(e[Ha][Ae]),t)),e[to]!=null&&(r[to]=(0,_.expectString)(e[to])),r},"de_ListPhoneNumbersOptedOutResponse"),BJ=p((e,t)=>{let r={};return e.PlatformApplications===""?r[ja]=[]:e[ja]!=null&&e[ja][Ae]!=null&&(r[ja]=$J((0,_.getArrayIfSingleItem)(e[ja][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListPlatformApplicationsResponse"),VJ=p((e,t)=>{let r={};return e.PhoneNumbers===""?r[zt]=[]:e[zt]!=null&&e[zt][Ae]!=null&&(r[zt]=m5((0,_.getArrayIfSingleItem)(e[zt][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListSMSSandboxPhoneNumbersResult"),GJ=p((e,t)=>{let r={};return e.Subscriptions===""?r[Bt]=[]:e[Bt]!=null&&e[Bt][Ae]!=null&&(r[Bt]=JO((0,_.getArrayIfSingleItem)(e[Bt][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListSubscriptionsByTopicResponse"),WJ=p((e,t)=>{let r={};return e.Subscriptions===""?r[Bt]=[]:e[Bt]!=null&&e[Bt][Ae]!=null&&(r[Bt]=JO((0,_.getArrayIfSingleItem)(e[Bt][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListSubscriptionsResponse"),KJ=p((e,t)=>{let r={};return e.Tags===""?r[Rt]=[]:e[Rt]!=null&&e[Rt][Ae]!=null&&(r[Rt]=E5((0,_.getArrayIfSingleItem)(e[Rt][Ae]),t)),r},"de_ListTagsForResourceResponse"),XJ=p((e,t)=>{let r={};return e.Topics===""?r[$a]=[]:e[$a]!=null&&e[$a][Ae]!=null&&(r[$a]=R5((0,_.getArrayIfSingleItem)(e[$a][Ae]),t)),e[G]!=null&&(r[G]=(0,_.expectString)(e[G])),r},"de_ListTopicsResponse"),Mc=p((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,_.expectString)(n.value)),r),{}),"de_MapStringToString"),JJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_NotFoundException"),YJ=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,_.expectString)(r)),"de_NumberCapabilityList"),QJ=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_OptedOutException"),ZJ=p((e,t)=>({}),"de_OptInPhoneNumberResponse"),e5=p((e,t)=>{let r={};return e[Nh]!=null&&(r[Nh]=(0,_.expectNonNull)((0,_.parseRfc3339DateTimeWithOffset)(e[Nh]))),e[qe]!=null&&(r[qe]=(0,_.expectString)(e[qe])),e[ur]!=null&&(r[ur]=(0,_.expectString)(e[ur])),e[kh]!=null&&(r[kh]=(0,_.expectString)(e[kh])),e[zh]!=null&&(r[zh]=(0,_.expectString)(e[zh])),e.NumberCapabilities===""?r[qa]=[]:e[qa]!=null&&e[qa][Ae]!=null&&(r[qa]=YJ((0,_.getArrayIfSingleItem)(e[qa][Ae]),t)),r},"de_PhoneNumberInformation"),t5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>e5(r,t)),"de_PhoneNumberInformationList"),r5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>(0,_.expectString)(r)),"de_PhoneNumberList"),n5=p((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=(0,_.expectString)(e[Ie])),e.Attributes===""?r[V]={}:e[V]!=null&&e[V][nt]!=null&&(r[V]=Mc((0,_.getArrayIfSingleItem)(e[V][nt]),t)),r},"de_PlatformApplication"),i5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_PlatformApplicationDisabledException"),o5=p((e,t)=>{let r={};return e.Successful===""?r[Ua]=[]:e[Ua]!=null&&e[Ua][Ae]!=null&&(r[Ua]=a5((0,_.getArrayIfSingleItem)(e[Ua][Ae]),t)),e.Failed===""?r[Fa]=[]:e[Fa]!=null&&e[Fa][Ae]!=null&&(r[Fa]=aJ((0,_.getArrayIfSingleItem)(e[Fa][Ae]),t)),r},"de_PublishBatchResponse"),s5=p((e,t)=>{let r={};return e[dr]!=null&&(r[dr]=(0,_.expectString)(e[dr])),e[Gi]!=null&&(r[Gi]=(0,_.expectString)(e[Gi])),e[Yi]!=null&&(r[Yi]=(0,_.expectString)(e[Yi])),r},"de_PublishBatchResultEntry"),a5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>s5(r,t)),"de_PublishBatchResultEntryList"),c5=p((e,t)=>{let r={};return e[Gi]!=null&&(r[Gi]=(0,_.expectString)(e[Gi])),e[Yi]!=null&&(r[Yi]=(0,_.expectString)(e[Yi])),r},"de_PublishResponse"),l5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_ReplayLimitExceededException"),d5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_ResourceNotFoundException"),u5=p((e,t)=>({}),"de_SetSMSAttributesResponse"),p5=p((e,t)=>{let r={};return e[qe]!=null&&(r[qe]=(0,_.expectString)(e[qe])),e[ur]!=null&&(r[ur]=(0,_.expectString)(e[ur])),r},"de_SMSSandboxPhoneNumber"),m5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>p5(r,t)),"de_SMSSandboxPhoneNumberList"),f5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_StaleTagException"),h5=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=(0,_.expectString)(e[je])),r},"de_SubscribeResponse"),g5=p((e,t)=>{let r={};return e[je]!=null&&(r[je]=(0,_.expectString)(e[je])),e[qh]!=null&&(r[qh]=(0,_.expectString)(e[qh])),e[Ji]!=null&&(r[Ji]=(0,_.expectString)(e[Ji])),e[$i]!=null&&(r[$i]=(0,_.expectString)(e[$i])),e[ne]!=null&&(r[ne]=(0,_.expectString)(e[ne])),r},"de_Subscription"),_5=p((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,_.expectString)(n.value)),r),{}),"de_SubscriptionAttributesMap"),S5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_SubscriptionLimitExceededException"),JO=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>g5(r,t)),"de_SubscriptionsList"),v5=p((e,t)=>{let r={};return e[Hi]!=null&&(r[Hi]=(0,_.expectString)(e[Hi])),e[eo]!=null&&(r[eo]=(0,_.expectString)(e[eo])),r},"de_Tag"),y5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_TagLimitExceededException"),E5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>v5(r,t)),"de_TagList"),b5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_TagPolicyException"),P5=p((e,t)=>({}),"de_TagResourceResponse"),w5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_ThrottledException"),C5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_TooManyEntriesInBatchRequestException"),A5=p((e,t)=>{let r={};return e[ne]!=null&&(r[ne]=(0,_.expectString)(e[ne])),r},"de_Topic"),x5=p((e,t)=>e.reduce((r,n)=>(n.value===null||(r[n.key]=(0,_.expectString)(n.value)),r),{}),"de_TopicAttributesMap"),O5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_TopicLimitExceededException"),R5=p((e,t)=>(e||[]).filter(r=>r!=null).map(r=>A5(r,t)),"de_TopicsList"),T5=p((e,t)=>({}),"de_UntagResourceResponse"),I5=p((e,t)=>{let r={};return e[N]!=null&&(r[N]=(0,_.expectString)(e[N])),r},"de_UserErrorException"),N5=p((e,t)=>{let r={};return e[Ye]!=null&&(r[Ye]=(0,_.expectString)(e[Ye])),r},"de_ValidationException"),D5=p((e,t)=>{let r={};return e[Ye]!=null&&(r[Ye]=(0,_.expectString)(e[Ye])),e[ur]!=null&&(r[ur]=(0,_.expectString)(e[ur])),r},"de_VerificationException"),M5=p((e,t)=>({}),"de_VerifySMSSandboxPhoneNumberResult"),M=p(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),k5=(0,_.withBaseException)(ae),J=p(async(e,t,r,n,i)=>{let{hostname:o,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new Xh.HttpRequest(l)},"buildHttpRpcRequest"),Y={"content-type":"application/x-www-form-urlencoded"},Q="2010-03-31",Z="Action",xh="ActionName",ji="AttributeName",Oh="AuthenticateOnUnsubscribe",L5="AddPermission",Ui="AttributeValue",Rh="AWSAccountId",V="Attributes",Th="BinaryValue",Ih="Code",Nh="CreatedAt",F5="CheckIfPhoneNumberIsOptedOut",q5="CreatePlatformApplication",j5="CreatePlatformEndpoint",U5="ConfirmSubscription",$5="CreateSMSSandboxPhoneNumber",H5="CreateTopic",Dh="CustomUserData",z5="DeleteEndpoint",B5="DeletePlatformApplication",lr="DataProtectionPolicy",V5="DeleteSMSSandboxPhoneNumber",G5="DeleteTopic",Mh="DataType",$i="Endpoint",Je="EndpointArn",La="Endpoints",Fa="Failed",W5="GetDataProtectionPolicy",K5="GetEndpointAttributes",X5="GetPlatformApplicationAttributes",J5="GetSubscriptionAttributes",Y5="GetSMSAttributes",Q5="GetSMSSandboxAccountStatus",Z5="GetTopicAttributes",dr="Id",kh="Iso2CountryCode",Lh="IsInSandbox",Hi="Key",zi="Label",Fh="LanguageCode",eY="ListEndpointsByPlatformApplication",tY="ListOriginationNumbers",rY="ListPlatformApplications",nY="ListPhoneNumbersOptedOut",iY="ListSubscriptions",oY="ListSubscriptionsByTopic",sY="ListSMSSandboxPhoneNumbers",aY="ListTopics",cY="ListTagsForResource",Ye="Message",Ru="MessageAttributes",Bi="MessageDeduplicationId",Vi="MessageGroupId",Gi="MessageId",Wi="MaxResults",Ki="MessageStructure",Xi="Name",qa="NumberCapabilities",G="NextToken",qh="Owner",lY="OptInPhoneNumber",jh="OneTimePassword",dY="Publish",ja="PlatformApplications",Ie="PlatformApplicationArn",uY="PublishBatch",Uh="PublishBatchRequestEntries",pY="PutDataProtectionPolicy",qe="PhoneNumber",zt="PhoneNumbers",$h="Platform",Ji="Protocol",Qe="ResourceArn",mY="RemovePermission",Hh="ReturnSubscriptionArn",zh="RouteType",fY="Subscribe",je="SubscriptionArn",hY="SetEndpointAttributes",Bh="SenderFault",Yi="SequenceNumber",gY="SetPlatformApplicationAttributes",_Y="SetSubscriptionAttributes",SY="SetSMSAttributes",vY="SetTopicAttributes",Vh="StringValue",ur="Status",Qi="Subject",Bt="Subscriptions",Ua="Successful",Zi="Token",ne="TopicArn",Gh="TargetArn",Wh="TagKeys",yY="TagResource",Rt="Tags",$a="Topics",EY="Unsubscribe",bY="UntagResource",ee="Version",PY="VerifySMSSandboxPhoneNumber",eo="Value",Vt="attributes",nt="entry",Kh="isOptedOut",N="message",Ae="member",to="nextToken",ro="phoneNumber",Ha="phoneNumbers",te=p(e=>Object.entries(e).map(([t,r])=>(0,_.extendedEncodeURIComponent)(t)+"="+(0,_.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),wY=p((e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),Ba,YO=(Ba=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","AddPermission",{}).n("SNSClient","AddPermissionCommand").f(void 0,void 0).ser(XK).de(F6).build(){},(()=>{p(Ba,"AddPermissionCommand")})(),Ba),Va,QO=(Va=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","CheckIfPhoneNumberIsOptedOut",{}).n("SNSClient","CheckIfPhoneNumberIsOptedOutCommand").f(FO,void 0).ser(JK).de(q6).build(){},(()=>{p(Va,"CheckIfPhoneNumberIsOptedOutCommand")})(),Va),Ga,ZO=(Ga=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ConfirmSubscription",{}).n("SNSClient","ConfirmSubscriptionCommand").f(void 0,void 0).ser(YK).de(j6).build(){},(()=>{p(Ga,"ConfirmSubscriptionCommand")})(),Ga),Wa,eR=(Wa=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","CreatePlatformApplication",{}).n("SNSClient","CreatePlatformApplicationCommand").f(void 0,void 0).ser(QK).de(U6).build(){},(()=>{p(Wa,"CreatePlatformApplicationCommand")})(),Wa),Ka,tR=(Ka=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","CreatePlatformEndpoint",{}).n("SNSClient","CreatePlatformEndpointCommand").f(void 0,void 0).ser(ZK).de($6).build(){},(()=>{p(Ka,"CreatePlatformEndpointCommand")})(),Ka),Xa,rR=(Xa=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","CreateSMSSandboxPhoneNumber",{}).n("SNSClient","CreateSMSSandboxPhoneNumberCommand").f(qO,void 0).ser(e6).de(H6).build(){},(()=>{p(Xa,"CreateSMSSandboxPhoneNumberCommand")})(),Xa),Ja,nR=(Ja=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","CreateTopic",{}).n("SNSClient","CreateTopicCommand").f(void 0,void 0).ser(t6).de(z6).build(){},(()=>{p(Ja,"CreateTopicCommand")})(),Ja),Ya,iR=(Ya=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","DeleteEndpoint",{}).n("SNSClient","DeleteEndpointCommand").f(void 0,void 0).ser(r6).de(B6).build(){},(()=>{p(Ya,"DeleteEndpointCommand")})(),Ya),Qa,oR=(Qa=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","DeletePlatformApplication",{}).n("SNSClient","DeletePlatformApplicationCommand").f(void 0,void 0).ser(n6).de(V6).build(){},(()=>{p(Qa,"DeletePlatformApplicationCommand")})(),Qa),Za,sR=(Za=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","DeleteSMSSandboxPhoneNumber",{}).n("SNSClient","DeleteSMSSandboxPhoneNumberCommand").f(jO,void 0).ser(i6).de(G6).build(){},(()=>{p(Za,"DeleteSMSSandboxPhoneNumberCommand")})(),Za),ec,aR=(ec=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","DeleteTopic",{}).n("SNSClient","DeleteTopicCommand").f(void 0,void 0).ser(o6).de(W6).build(){},(()=>{p(ec,"DeleteTopicCommand")})(),ec),tc,cR=(tc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetDataProtectionPolicy",{}).n("SNSClient","GetDataProtectionPolicyCommand").f(void 0,void 0).ser(s6).de(K6).build(){},(()=>{p(tc,"GetDataProtectionPolicyCommand")})(),tc),rc,lR=(rc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetEndpointAttributes",{}).n("SNSClient","GetEndpointAttributesCommand").f(void 0,void 0).ser(a6).de(X6).build(){},(()=>{p(rc,"GetEndpointAttributesCommand")})(),rc),nc,dR=(nc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetPlatformApplicationAttributes",{}).n("SNSClient","GetPlatformApplicationAttributesCommand").f(void 0,void 0).ser(c6).de(J6).build(){},(()=>{p(nc,"GetPlatformApplicationAttributesCommand")})(),nc),ic,uR=(ic=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetSMSAttributes",{}).n("SNSClient","GetSMSAttributesCommand").f(void 0,void 0).ser(l6).de(Y6).build(){},(()=>{p(ic,"GetSMSAttributesCommand")})(),ic),oc,pR=(oc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetSMSSandboxAccountStatus",{}).n("SNSClient","GetSMSSandboxAccountStatusCommand").f(void 0,void 0).ser(d6).de(Q6).build(){},(()=>{p(oc,"GetSMSSandboxAccountStatusCommand")})(),oc),sc,mR=(sc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetSubscriptionAttributes",{}).n("SNSClient","GetSubscriptionAttributesCommand").f(void 0,void 0).ser(u6).de(Z6).build(){},(()=>{p(sc,"GetSubscriptionAttributesCommand")})(),sc),ac,fR=(ac=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","GetTopicAttributes",{}).n("SNSClient","GetTopicAttributesCommand").f(void 0,void 0).ser(p6).de(e8).build(){},(()=>{p(ac,"GetTopicAttributesCommand")})(),ac),cc,Jh=(cc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListEndpointsByPlatformApplication",{}).n("SNSClient","ListEndpointsByPlatformApplicationCommand").f(void 0,void 0).ser(m6).de(t8).build(){},(()=>{p(cc,"ListEndpointsByPlatformApplicationCommand")})(),cc),lc,Yh=(lc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListOriginationNumbers",{}).n("SNSClient","ListOriginationNumbersCommand").f(void 0,$O).ser(f6).de(r8).build(){},(()=>{p(lc,"ListOriginationNumbersCommand")})(),lc),dc,Qh=(dc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListPhoneNumbersOptedOut",{}).n("SNSClient","ListPhoneNumbersOptedOutCommand").f(void 0,HO).ser(h6).de(n8).build(){},(()=>{p(dc,"ListPhoneNumbersOptedOutCommand")})(),dc),uc,Zh=(uc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListPlatformApplications",{}).n("SNSClient","ListPlatformApplicationsCommand").f(void 0,void 0).ser(g6).de(i8).build(){},(()=>{p(uc,"ListPlatformApplicationsCommand")})(),uc),pc,eg=(pc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListSMSSandboxPhoneNumbers",{}).n("SNSClient","ListSMSSandboxPhoneNumbersCommand").f(void 0,BO).ser(_6).de(o8).build(){},(()=>{p(pc,"ListSMSSandboxPhoneNumbersCommand")})(),pc),mc,tg=(mc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListSubscriptionsByTopic",{}).n("SNSClient","ListSubscriptionsByTopicCommand").f(void 0,void 0).ser(v6).de(a8).build(){},(()=>{p(mc,"ListSubscriptionsByTopicCommand")})(),mc),fc,rg=(fc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListSubscriptions",{}).n("SNSClient","ListSubscriptionsCommand").f(void 0,void 0).ser(S6).de(s8).build(){},(()=>{p(fc,"ListSubscriptionsCommand")})(),fc),hc,hR=(hc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListTagsForResource",{}).n("SNSClient","ListTagsForResourceCommand").f(void 0,void 0).ser(y6).de(c8).build(){},(()=>{p(hc,"ListTagsForResourceCommand")})(),hc),gc,ng=(gc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","ListTopics",{}).n("SNSClient","ListTopicsCommand").f(void 0,void 0).ser(E6).de(l8).build(){},(()=>{p(gc,"ListTopicsCommand")})(),gc),_c,gR=(_c=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","OptInPhoneNumber",{}).n("SNSClient","OptInPhoneNumberCommand").f(VO,void 0).ser(b6).de(d8).build(){},(()=>{p(_c,"OptInPhoneNumberCommand")})(),_c),Sc,_R=(Sc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","PublishBatch",{}).n("SNSClient","PublishBatchCommand").f(void 0,void 0).ser(w6).de(p8).build(){},(()=>{p(Sc,"PublishBatchCommand")})(),Sc),vc,SR=(vc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","Publish",{}).n("SNSClient","PublishCommand").f(GO,void 0).ser(P6).de(u8).build(){},(()=>{p(vc,"PublishCommand")})(),vc),yc,vR=(yc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","PutDataProtectionPolicy",{}).n("SNSClient","PutDataProtectionPolicyCommand").f(void 0,void 0).ser(C6).de(m8).build(){},(()=>{p(yc,"PutDataProtectionPolicyCommand")})(),yc),Ec,yR=(Ec=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","RemovePermission",{}).n("SNSClient","RemovePermissionCommand").f(void 0,void 0).ser(A6).de(f8).build(){},(()=>{p(Ec,"RemovePermissionCommand")})(),Ec),bc,ER=(bc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","SetEndpointAttributes",{}).n("SNSClient","SetEndpointAttributesCommand").f(void 0,void 0).ser(x6).de(h8).build(){},(()=>{p(bc,"SetEndpointAttributesCommand")})(),bc),Pc,bR=(Pc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","SetPlatformApplicationAttributes",{}).n("SNSClient","SetPlatformApplicationAttributesCommand").f(void 0,void 0).ser(O6).de(g8).build(){},(()=>{p(Pc,"SetPlatformApplicationAttributesCommand")})(),Pc),wc,PR=(wc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","SetSMSAttributes",{}).n("SNSClient","SetSMSAttributesCommand").f(void 0,void 0).ser(R6).de(_8).build(){},(()=>{p(wc,"SetSMSAttributesCommand")})(),wc),Cc,wR=(Cc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","SetSubscriptionAttributes",{}).n("SNSClient","SetSubscriptionAttributesCommand").f(void 0,void 0).ser(T6).de(S8).build(){},(()=>{p(Cc,"SetSubscriptionAttributesCommand")})(),Cc),Ac,CR=(Ac=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","SetTopicAttributes",{}).n("SNSClient","SetTopicAttributesCommand").f(void 0,void 0).ser(I6).de(v8).build(){},(()=>{p(Ac,"SetTopicAttributesCommand")})(),Ac),xc,AR=(xc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","Subscribe",{}).n("SNSClient","SubscribeCommand").f(void 0,void 0).ser(N6).de(y8).build(){},(()=>{p(xc,"SubscribeCommand")})(),xc),Oc,xR=(Oc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","TagResource",{}).n("SNSClient","TagResourceCommand").f(void 0,void 0).ser(D6).de(E8).build(){},(()=>{p(Oc,"TagResourceCommand")})(),Oc),Rc,OR=(Rc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","Unsubscribe",{}).n("SNSClient","UnsubscribeCommand").f(void 0,void 0).ser(M6).de(b8).build(){},(()=>{p(Rc,"UnsubscribeCommand")})(),Rc),Tc,RR=(Tc=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","UntagResource",{}).n("SNSClient","UntagResourceCommand").f(void 0,void 0).ser(k6).de(P8).build(){},(()=>{p(Tc,"UntagResourceCommand")})(),Tc),Ic,TR=(Ic=class extends _.Command.classBuilder().ep(W).m(function(t,r,n,i){return[(0,K.getSerdePlugin)(n,this.serialize,this.deserialize),(0,B.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonSimpleNotificationService","VerifySMSSandboxPhoneNumber",{}).n("SNSClient","VerifySMSSandboxPhoneNumberCommand").f(WO,void 0).ser(L6).de(w8).build(){},(()=>{p(Ic,"VerifySMSSandboxPhoneNumberCommand")})(),Ic),CY={AddPermissionCommand:YO,CheckIfPhoneNumberIsOptedOutCommand:QO,ConfirmSubscriptionCommand:ZO,CreatePlatformApplicationCommand:eR,CreatePlatformEndpointCommand:tR,CreateSMSSandboxPhoneNumberCommand:rR,CreateTopicCommand:nR,DeleteEndpointCommand:iR,DeletePlatformApplicationCommand:oR,DeleteSMSSandboxPhoneNumberCommand:sR,DeleteTopicCommand:aR,GetDataProtectionPolicyCommand:cR,GetEndpointAttributesCommand:lR,GetPlatformApplicationAttributesCommand:dR,GetSMSAttributesCommand:uR,GetSMSSandboxAccountStatusCommand:pR,GetSubscriptionAttributesCommand:mR,GetTopicAttributesCommand:fR,ListEndpointsByPlatformApplicationCommand:Jh,ListOriginationNumbersCommand:Yh,ListPhoneNumbersOptedOutCommand:Qh,ListPlatformApplicationsCommand:Zh,ListSMSSandboxPhoneNumbersCommand:eg,ListSubscriptionsCommand:rg,ListSubscriptionsByTopicCommand:tg,ListTagsForResourceCommand:hR,ListTopicsCommand:ng,OptInPhoneNumberCommand:gR,PublishCommand:SR,PublishBatchCommand:_R,PutDataProtectionPolicyCommand:vR,RemovePermissionCommand:yR,SetEndpointAttributesCommand:ER,SetPlatformApplicationAttributesCommand:bR,SetSMSAttributesCommand:PR,SetSubscriptionAttributesCommand:wR,SetTopicAttributesCommand:CR,SubscribeCommand:AR,TagResourceCommand:xR,UnsubscribeCommand:OR,UntagResourceCommand:RR,VerifySMSSandboxPhoneNumberCommand:TR},Nc,IR=(Nc=class extends Gt{},(()=>{p(Nc,"SNS")})(),Nc);(0,_.createAggregatedClient)(CY,IR);var AY=(0,Tt.createPaginator)(Gt,Jh,"NextToken","NextToken",""),xY=(0,Tt.createPaginator)(Gt,Yh,"NextToken","NextToken","MaxResults"),OY=(0,Tt.createPaginator)(Gt,Qh,"nextToken","nextToken",""),RY=(0,Tt.createPaginator)(Gt,Zh,"NextToken","NextToken",""),TY=(0,Tt.createPaginator)(Gt,eg,"NextToken","NextToken","MaxResults"),IY=(0,Tt.createPaginator)(Gt,tg,"NextToken","NextToken",""),NY=(0,Tt.createPaginator)(Gt,rg,"NextToken","NextToken",""),DY=(0,Tt.createPaginator)(Gt,ng,"NextToken","NextToken","")});var FY={};gT(FY,{lambdaHandler:()=>LY});module.exports=ST(FY);var Iu=_T(DR()),MY=new Iu.SNSClient({region:process.env.AWS_REGION||"us-east-1"}),kY=async(e,t)=>{let r={TopicArn:e,Message:t};try{let n=new Iu.PublishCommand(r),i=await MY.send(n);console.log("SMS sent successfully:",i.MessageId)}catch(n){throw console.error("Failed to send SMS:",n),n}},LY=async e=>{try{let t=process.env.SNS_TOPIC_ARN;return t?(await kY(t,"\u4E88\u7D04\u304C\u53D6\u308C\u308B\u304B\u3082\uFF01 <https://ssc3.doctorqube.com/mukainada-mc/>"),{statusCode:200,body:JSON.stringify({message:"SMS sent successfully",topicArn:t})}):{statusCode:500,body:JSON.stringify({message:"SNS_TOPIC_ARN environment variable is not set"})}}catch(t){return console.log(t),{statusCode:500,body:JSON.stringify({message:"Failed to send SMS",error:t instanceof Error?t.message:"Unknown error"})}}};0&&(module.exports={lambdaHandler});
//# sourceMappingURL=app.js.map
